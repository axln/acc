(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Yr=!1;var je=Array.isArray,qn=Array.from,qa=Object.defineProperty,Dt=Object.getOwnPropertyDescriptor,Wr=Object.getOwnPropertyDescriptors,Va=Object.prototype,Ya=Array.prototype,en=Object.getPrototypeOf;function Pe(t){return typeof t=="function"}const Mt=()=>{};function Wa(t){return typeof(t==null?void 0:t.then)=="function"}function za(t){return t()}function nn(t){for(var e=0;e<t.length;e++)t[e]()}function Qe(t,e,n=!1){return t===void 0?n?e():e:t}const xt=2,zr=4,Me=8,Vn=16,$t=32,Be=64,te=128,rn=256,rt=512,Ht=1024,we=2048,St=4096,Fe=8192,Ka=16384,un=32768,Kr=65536,Ja=1<<18,Jr=1<<19,Bt=Symbol("$state"),Xa=Symbol("");function Xr(t){return t===this.v}function Zr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Yn(t){return!Zr(t,this.v)}function Za(t){throw new Error("effect_in_teardown")}function Qa(){throw new Error("effect_in_unowned_derived")}function ts(t){throw new Error("effect_orphan")}function es(){throw new Error("effect_update_depth_exceeded")}function ns(t){throw new Error("lifecycle_legacy_only")}function rs(t){throw new Error("props_invalid_value")}function as(){throw new Error("state_descriptors_fixed")}function ss(){throw new Error("state_prototype_fixed")}function os(){throw new Error("state_unsafe_local_read")}function is(){throw new Error("state_unsafe_mutation")}function st(t){return{f:0,v:t,reactions:null,equals:Xr,version:0}}function pe(t,e=!1){var r;const n=st(t);return e||(n.equals=Yn),M!==null&&M.l!==null&&((r=M.l).s??(r.s=[])).push(n),n}function k(t,e=!1){return cs(pe(t,e))}function cs(t){return H!==null&&H.f&xt&&(It===null?Cs([t]):It.push(t)),t}function an(t,e){return S(t,bt(()=>i(t))),e}function S(t,e){return H!==null&&Ge()&&H.f&(xt|Vn)&&(It===null||!It.includes(t))&&is(),de(t,e)}function de(t,e){return t.equals(e)||(t.v=e,t.version=ga(),Qr(t,Ht),Ge()&&j!==null&&j.f&rt&&!(j.f&$t)&&(et!==null&&et.includes(t)?(Et(j,Ht),_n(j)):Ft===null?ks([t]):Ft.push(t))),e}function Qr(t,e){var n=t.reactions;if(n!==null)for(var r=Ge(),a=n.length,s=0;s<a;s++){var o=n[s],c=o.f;c&Ht||!r&&o===j||(Et(o,e),c&(rt|te)&&(c&xt?Qr(o,we):_n(o)))}}const Wn=1,zn=2,ta=4,ls=8,us=16,fs=1,ds=2,vs=4,_s=8,ps=16,hs=1,gs=2,lt=Symbol();let ea=!1;function ce(t,e=null,n){if(typeof t!="object"||t===null||Bt in t)return t;const r=en(t);if(r!==Va&&r!==Ya)return t;var a=new Map,s=je(t),o=st(0);s&&a.set("length",st(t.length));var c;return new Proxy(t,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&as();var v=a.get(u);return v===void 0?(v=st(f.value),a.set(u,v)):S(v,ce(f.value,c)),!0},deleteProperty(l,u){var f=a.get(u);if(f===void 0)u in l&&a.set(u,st(lt));else{if(s&&typeof u=="string"){var v=a.get("length"),d=Number(u);Number.isInteger(d)&&d<v.v&&S(v,d)}S(f,lt),dr(o)}return!0},get(l,u,f){var _;if(u===Bt)return t;var v=a.get(u),d=u in l;if(v===void 0&&(!d||(_=Dt(l,u))!=null&&_.writable)&&(v=st(ce(d?l[u]:lt,c)),a.set(u,v)),v!==void 0){var p=i(v);return p===lt?void 0:p}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var v=a.get(u);v&&(f.value=i(v))}else if(f===void 0){var d=a.get(u),p=d==null?void 0:d.v;if(d!==void 0&&p!==lt)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return f},has(l,u){var p;if(u===Bt)return!0;var f=a.get(u),v=f!==void 0&&f.v!==lt||Reflect.has(l,u);if(f!==void 0||j!==null&&(!v||(p=Dt(l,u))!=null&&p.writable)){f===void 0&&(f=st(v?ce(l[u],c):lt),a.set(u,f));var d=i(f);if(d===lt)return!1}return v},set(l,u,f,v){var y;var d=a.get(u),p=u in l;if(s&&u==="length")for(var _=f;_<d.v;_+=1){var h=a.get(_+"");h!==void 0?S(h,lt):_ in l&&(h=st(lt),a.set(_+"",h))}d===void 0?(!p||(y=Dt(l,u))!=null&&y.writable)&&(d=st(void 0),S(d,ce(f,c)),a.set(u,d)):(p=d.v!==lt,S(d,ce(f,c)));var E=Reflect.getOwnPropertyDescriptor(l,u);if(E!=null&&E.set&&E.set.call(v,f),!p){if(s&&typeof u=="string"){var $=a.get("length"),b=Number(u);Number.isInteger(b)&&b>=$.v&&S($,b+1)}dr(o)}return!0},ownKeys(l){i(o);var u=Reflect.ownKeys(l).filter(d=>{var p=a.get(d);return p===void 0||p.v!==lt});for(var[f,v]of a)v.v!==lt&&!(f in l)&&u.push(f);return u},setPrototypeOf(){ss()}})}function dr(t,e=1){S(t,t.v+e)}function vr(t){return t!==null&&typeof t=="object"&&Bt in t?t[Bt]:t}function ms(t,e){return Object.is(vr(t),vr(e))}var _r,na,ra;function ys(){if(_r===void 0){_r=window;var t=Element.prototype,e=Node.prototype;na=Dt(e,"firstChild").get,ra=Dt(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Kn(t=""){return document.createTextNode(t)}function he(t){return na.call(t)}function fn(t){return ra.call(t)}function w(t,e){return he(t)}function z(t,e){{var n=he(t);return n instanceof Comment&&n.data===""?fn(n):n}}function x(t,e=1,n=!1){let r=t;for(;e--;)r=fn(r);return r}function ws(t){t.textContent=""}function ge(t){var e=xt|Ht;j===null?e|=te:j.f|=Jr;const n={children:null,ctx:M,deps:null,equals:Xr,f:e,fn:t,reactions:null,v:null,version:0,parent:j};if(H!==null&&H.f&xt){var r=H;(r.children??(r.children=[])).push(n)}return n}function Zt(t){const e=ge(t);return e.equals=Yn,e}function aa(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&xt?Jn(r):ee(r)}}}function sa(t){var e,n=j;yt(t.parent);try{aa(t),e=ma(t)}finally{yt(n)}return e}function oa(t){var e=sa(t),n=(ue||t.f&te)&&t.deps!==null?we:rt;Et(t,n),t.equals(e)||(t.v=e,t.version=ga())}function Jn(t){aa(t),Re(t,0),Et(t,Fe),t.v=t.children=t.deps=t.ctx=t.reactions=null}function ia(t){j===null&&H===null&&ts(),H!==null&&H.f&te&&Qa(),Qn&&Za()}function bs(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function be(t,e,n,r=!0){var a=(t&Be)!==0,s=j,o={ctx:M,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|Ht,first:null,fn:e,last:null,next:null,parent:a?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var c=ve;try{pr(!0),Ue(o),o.f|=Ka}catch(f){throw ee(o),f}finally{pr(c)}}else e!==null&&_n(o);var l=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Jr)===0;if(!l&&!a&&r&&(s!==null&&bs(o,s),H!==null&&H.f&xt)){var u=H;(u.children??(u.children=[])).push(o)}return o}function Xn(t){const e=be(Me,null,!1);return Et(e,rt),e.teardown=t,e}function Dn(t){ia();var e=j!==null&&(j.f&$t)!==0&&M!==null&&!M.m;if(e){var n=M;(n.e??(n.e=[])).push({fn:t,effect:j,reaction:H})}else{var r=$e(t);return r}}function $s(t){return ia(),Ee(t)}function Es(t){const e=be(Be,t,!0);return()=>{ee(e)}}function $e(t){return be(zr,t,!1)}function ft(t,e){var n=M,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ee(()=>{t(),!r.ran&&(r.ran=!0,S(n.l.r2,!0),bt(e))})}function Gt(){var t=M;Ee(()=>{if(i(t.l.r2)){for(var e of t.l.r1){var n=e.effect;n.f&rt&&Et(n,we),Se(n)&&Ue(n),e.ran=!1}t.l.r2.v=!1}})}function Ee(t){return be(Me,t,!0)}function T(t){return He(t)}function He(t,e=0){return be(Me|Vn|e,t,!0)}function Lt(t,e=!0){return be(Me|$t,t,!0,e)}function ca(t){var e=t.teardown;if(e!==null){const n=Qn,r=H;hr(!0),Ct(null);try{e.call(null)}finally{hr(n),Ct(r)}}}function la(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)Jn(e[n])}}function ua(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;ee(n,e),n=r}}function Ss(t){for(var e=t.first;e!==null;){var n=e.next;e.f&$t||ee(e),e=n}}function ee(t,e=!0){var n=!1;if((e||t.f&Ja)&&t.nodes_start!==null){for(var r=t.nodes_start,a=t.nodes_end;r!==null;){var s=r===a?null:fn(r);r.remove(),r=s}n=!0}ua(t,e&&!n),la(t),Re(t,0),Et(t,Fe);var o=t.transitions;if(o!==null)for(const l of o)l.stop();ca(t);var c=t.parent;c!==null&&c.first!==null&&fa(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function fa(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Wt(t,e){var n=[];Zn(t,n,!0),da(n,()=>{ee(t),e&&e()})}function da(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var a of t)a.out(r)}else e()}function Zn(t,e,n){if(!(t.f&St)){if(t.f^=St,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var a=r.next,s=(r.f&un)!==0||(r.f&$t)!==0;Zn(r,e,s?n:!1),r=a}}}function zt(t){va(t,!0)}function va(t,e){if(t.f&St){Se(t)&&Ue(t),t.f^=St;for(var n=t.first;n!==null;){var r=n.next,a=(n.f&un)!==0||(n.f&$t)!==0;va(n,a?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let sn=!1,Ln=[];function _a(){sn=!1;const t=Ln.slice();Ln=[],nn(t)}function dn(t){sn||(sn=!0,queueMicrotask(_a)),Ln.push(t)}function Is(){sn&&_a()}function vn(t){throw new Error("lifecycle_outside_component")}const pa=0,xs=1;let tn=pa,Oe=!1,ve=!1,Qn=!1;function pr(t){ve=t}function hr(t){Qn=t}let Yt=[],_e=0;let H=null;function Ct(t){H=t}let j=null;function yt(t){j=t}let It=null;function Cs(t){It=t}let et=null,ut=0,Ft=null;function ks(t){Ft=t}let ha=0,ue=!1,fe=!1,le=new Set,M=null;function gr(t){M=t}function ga(){return++ha}function Ge(){return M!==null&&M.l===null}function Se(t){var o,c;var e=t.f;if(e&Ht)return!0;if(e&we){var n=t.deps,r=(e&te)!==0;if(n!==null){var a;if(e&rn){for(a=0;a<n.length;a++)((o=n[a]).reactions??(o.reactions=[])).push(t);t.f^=rn}for(a=0;a<n.length;a++){var s=n[a];if(Se(s)&&oa(s),r&&j!==null&&!ue&&!((c=s==null?void 0:s.reactions)!=null&&c.includes(t))&&(s.reactions??(s.reactions=[])).push(t),s.version>t.version)return!0}}r||Et(t,rt)}return!1}function Ts(t,e,n){throw t}function ma(t){var d;var e=et,n=ut,r=Ft,a=H,s=ue,o=It,c=M,l=t.f;et=null,ut=0,Ft=null,H=l&($t|Be)?null:t,ue=!ve&&(l&te)!==0,It=null,M=t.ctx;try{var u=(0,t.fn)(),f=t.deps;if(et!==null){var v;if(Re(t,ut),f!==null&&ut>0)for(f.length=ut+et.length,v=0;v<et.length;v++)f[ut+v]=et[v];else t.deps=f=et;if(!ue)for(v=ut;v<f.length;v++)((d=f[v]).reactions??(d.reactions=[])).push(t)}else f!==null&&ut<f.length&&(Re(t,ut),f.length=ut);return u}finally{et=e,ut=n,Ft=r,H=a,ue=s,It=o,M=c}}function Ps(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[r]=n[a],n.pop())}}n===null&&e.f&xt&&(et===null||!et.includes(e))&&(Et(e,we),e.f&(te|rn)||(e.f^=rn),Re(e,0))}function Re(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Ps(t,n[r])}function Ue(t){var e=t.f;if(!(e&Fe)){Et(t,rt);var n=j;j=t;try{e&Vn?Ss(t):ua(t),la(t),ca(t);var r=ma(t);t.teardown=typeof r=="function"?r:null,t.version=ha}catch(a){Ts(a)}finally{j=n}}}function ya(){_e>1e3&&(_e=0,es()),_e++}function wa(t){var e=t.length;if(e!==0){ya();var n=ve;ve=!0;try{for(var r=0;r<e;r++){var a=t[r];a.f&rt||(a.f^=rt);var s=[];ba(a,s),As(s)}}finally{ve=n}}}function As(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&(Fe|St))&&Se(r)&&(Ue(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?fa(r):r.fn=null))}}function Ds(){if(Oe=!1,_e>1001)return;const t=Yt;Yt=[],wa(t),Oe||(_e=0)}function _n(t){tn===pa&&(Oe||(Oe=!0,queueMicrotask(Ds)));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(Be|$t)){if(!(n&rt))return;e.f^=rt}}Yt.push(e)}function ba(t,e){var n=t.first,r=[];t:for(;n!==null;){var a=n.f,s=(a&$t)!==0,o=s&&(a&rt)!==0;if(!o&&!(a&St))if(a&Me){s?n.f^=rt:Se(n)&&Ue(n);var c=n.first;if(c!==null){n=c;continue}}else a&zr&&r.push(n);var l=n.next;if(l===null){let v=n.parent;for(;v!==null;){if(t===v)break t;var u=v.next;if(u!==null){n=u;continue t}v=v.parent}}n=l}for(var f=0;f<r.length;f++)c=r[f],e.push(c),ba(c,e)}function tr(t){var e=tn,n=Yt;try{ya();const a=[];tn=xs,Yt=a,Oe=!1,wa(n);var r=t==null?void 0:t();return Is(),(Yt.length>0||a.length>0)&&tr(),_e=0,r}finally{tn=e,Yt=n}}async function er(){await Promise.resolve(),tr()}function i(t){var c;var e=t.f,n=(e&xt)!==0;if(n&&e&Fe){var r=sa(t);return Jn(t),r}if(fe&&le.add(t),H!==null){It!==null&&It.includes(t)&&os();var a=H.deps;et===null&&a!==null&&a[ut]===t?ut++:et===null?et=[t]:et.push(t),Ft!==null&&j!==null&&j.f&rt&&!(j.f&$t)&&Ft.includes(t)&&(Et(j,Ht),_n(j))}else if(n&&t.deps===null){var s=t,o=s.parent;o!==null&&!((c=o.deriveds)!=null&&c.includes(s))&&(o.deriveds??(o.deriveds=[])).push(s)}return n&&(s=t,Se(s)&&oa(s)),t.v}function nr(t){var e=fe,n=le;fe=!0,le=new Set;var r=le,a;try{bt(t)}finally{if(fe=e,fe)for(a of le)n.add(a);le=n}for(a of r)if(a.f&Kr)for(const s of a.deps||[])s.f&xt||an(s,null);else an(a,null)}function bt(t){const e=H;try{return H=null,t()}finally{H=e}}const Ls=~(Ht|we|rt);function Et(t,e){t.f=t.f&Ls|e}function B(t,e=!1,n){M={p:M,c:null,e:null,m:!1,s:t,x:null,l:null},e||(M.l={s:null,u:null,r1:[],r2:st(!1)})}function F(t){const e=M;if(e!==null){t!==void 0&&(e.x=t);const o=e.e;if(o!==null){var n=j,r=H;e.e=null;try{for(var a=0;a<o.length;a++){var s=o[a];yt(s.effect),Ct(s.reaction),$e(s.fn)}}finally{yt(n),Ct(r)}}M=e.p,e.m=!0}return t||{}}function me(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Bt in t)On(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Bt in n&&On(n)}}}function On(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{On(t[r],e)}catch{}const n=en(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Wr(n);for(let a in r){const s=r[a].get;if(s)try{s.call(t)}catch{}}}}}const $a=new Set,Rn=new Set;function Os(t,e,n,r){function a(s){if(r.capture||De.call(e,s),!s.cancelBubble){var o=H,c=j;Ct(null),yt(null);try{return n.call(this,s)}finally{Ct(o),yt(c)}}}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?dn(()=>{e.addEventListener(t,a,r)}):e.addEventListener(t,a,r),a}function q(t,e,n,r,a){var s={capture:r,passive:a},o=Os(t,e,n,s);(e===document.body||e===window||e===document)&&Xn(()=>{e.removeEventListener(t,o,s)})}function Rs(t){for(var e=0;e<t.length;e++)$a.add(t[e]);for(var n of Rn)n(t)}function De(t){var b;var e=this,n=e.ownerDocument,r=t.type,a=((b=t.composedPath)==null?void 0:b.call(t))||[],s=a[0]||t.target,o=0,c=t.__root;if(c){var l=a.indexOf(c);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=a[o]||t.target,s!==e){qa(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=H,v=j;Ct(null),yt(null);try{for(var d,p=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var h=s["__"+r];if(h!==void 0&&!s.disabled)if(je(h)){var[E,...$]=h;E.apply(s,[t,...$])}else h.call(s,t)}catch(y){d?p.push(y):d=y}if(t.cancelBubble||_===e||_===null)break;s=_}if(d){for(let y of p)queueMicrotask(()=>{throw y});throw d}}finally{t.__root=e,delete t.currentTarget,Ct(f),yt(v)}}}function Ea(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function on(t,e){var n=j;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function P(t,e){var n=(e&hs)!==0,r=(e&gs)!==0,a,s=!t.startsWith("<!>");return()=>{a===void 0&&(a=Ea(s?t:"<!>"+t),n||(a=he(a)));var o=r?document.importNode(a,!0):a.cloneNode(!0);if(n){var c=he(o),l=o.lastChild;on(c,l)}else on(o,o);return o}}function pn(t,e,n="svg"){var r=!t.startsWith("<!>"),a=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var o=Ea(a),c=he(o);s=he(c)}var l=s.cloneNode(!0);return on(l,l),l}}function vt(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Kn();return t.append(e,n),on(e,n),t}function I(t,e){t!==null&&t.before(e)}const Ns=["touchstart","touchmove"];function js(t){return Ns.includes(t)}function L(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function Ms(t,e){return Bs(t,e)}const oe=new Map;function Bs(t,{target:e,anchor:n,props:r={},events:a,context:s,intro:o=!0}){ys();var c=new Set,l=v=>{for(var d=0;d<v.length;d++){var p=v[d];if(!c.has(p)){c.add(p);var _=js(p);e.addEventListener(p,De,{passive:_});var h=oe.get(p);h===void 0?(document.addEventListener(p,De,{passive:_}),oe.set(p,1)):oe.set(p,h+1)}}};l(qn($a)),Rn.add(l);var u=void 0,f=Es(()=>{var v=n??e.appendChild(Kn());return Lt(()=>{if(s){B({});var d=M;d.c=s}a&&(r.$$events=a),u=t(v,r)||{},s&&F()}),()=>{var _;for(var d of c){e.removeEventListener(d,De);var p=oe.get(d);--p===0?(document.removeEventListener(d,De),oe.delete(d)):oe.set(d,p)}Rn.delete(l),mr.delete(u),v!==n&&((_=v.parentNode)==null||_.removeChild(v))}});return mr.set(u,f),u}let mr=new WeakMap;const In=0,Xe=1,xn=2;function Sa(t,e,n,r,a){var s=t,o=Ge(),c=M,l,u,f,v,d=(o?st:pe)(void 0),p=(o?st:pe)(void 0),_=!1;function h($,b){_=!0,b&&(yt(E),Ct(E),gr(c)),$===In&&n&&(u?zt(u):u=Lt(()=>n(s))),$===Xe&&r&&(f?zt(f):f=Lt(()=>r(s,d))),$===xn&&a&&(v?zt(v):v=Lt(()=>a(s,p))),$!==In&&u&&Wt(u,()=>u=null),$!==Xe&&f&&Wt(f,()=>f=null),$!==xn&&v&&Wt(v,()=>v=null),b&&(gr(null),Ct(null),yt(null),tr())}var E=He(()=>{if(l!==(l=e())){if(Wa(l)){var $=l;_=!1,$.then(b=>{$===l&&(de(d,b),h(Xe,!0))},b=>{if($===l)throw de(p,b),h(xn,!0),p.v}),dn(()=>{_||h(In,!0)})}else de(d,l),h(Xe,!1);return()=>l=null}})}function nt(t,e,n,r=null,a=!1){var s=t,o=null,c=null,l=null,u=a?un:0;He(()=>{l!==(l=!!e())&&(l?(o?zt(o):o=Lt(()=>n(s)),c&&Wt(c,()=>{c=null})):(c?zt(c):r&&(c=Lt(()=>r(s))),o&&Wt(o,()=>{o=null})))},u)}let Cn=null;function Ot(t,e){return e}function Fs(t,e,n,r){for(var a=[],s=e.length,o=0;o<s;o++)Zn(e[o].e,a,!0);var c=s>0&&a.length===0&&n!==null;if(c){var l=n.parentNode;ws(l),l.append(n),r.clear(),jt(t,e[0].prev,e[s-1].next)}da(a,()=>{for(var u=0;u<s;u++){var f=e[u];c||(r.delete(f.k),jt(t,f.prev,f.next)),ee(f.e,!c)}})}function Q(t,e,n,r,a,s=null){var o=t,c={flags:e,items:new Map,first:null},l=(e&ta)!==0;if(l){var u=t;o=u.appendChild(Kn())}var f=null,v=!1;He(()=>{var d=n(),p=je(d)?d:d==null?[]:qn(d),_=p.length;if(!(v&&_===0)){v=_===0;{var h=H;Hs(p,c,o,a,e,(h.f&St)!==0,r)}s!==null&&(_===0?f?zt(f):f=Lt(()=>s(o)):f!==null&&Wt(f,()=>{f=null})),n()}})}function Hs(t,e,n,r,a,s,o){var at,ct,Tt,tt;var c=(a&ls)!==0,l=(a&(Wn|zn))!==0,u=t.length,f=e.items,v=e.first,d=v,p,_=null,h,E=[],$=[],b,y,g,m;if(c)for(m=0;m<u;m+=1)b=t[m],y=o(b,m),g=f.get(y),g!==void 0&&((at=g.a)==null||at.measure(),(h??(h=new Set)).add(g));for(m=0;m<u;m+=1){if(b=t[m],y=o(b,m),g=f.get(y),g===void 0){var A=d?d.e.nodes_start:n;_=Us(A,e,_,_===null?e.first:_.next,b,y,m,r,a),f.set(y,_),E=[],$=[],d=_.next;continue}if(l&&Gs(g,b,m,a),g.e.f&St&&(zt(g.e),c&&((ct=g.a)==null||ct.unfix(),(h??(h=new Set)).delete(g))),g!==d){if(p!==void 0&&p.has(g)){if(E.length<$.length){var C=$[0],D;_=C.prev;var J=E[0],V=E[E.length-1];for(D=0;D<E.length;D+=1)yr(E[D],C,n);for(D=0;D<$.length;D+=1)p.delete($[D]);jt(e,J.prev,V.next),jt(e,_,J),jt(e,V,C),d=C,_=V,m-=1,E=[],$=[]}else p.delete(g),yr(g,d,n),jt(e,g.prev,g.next),jt(e,g,_===null?e.first:_.next),jt(e,_,g),_=g;continue}for(E=[],$=[];d!==null&&d.k!==y;)(s||!(d.e.f&St))&&(p??(p=new Set)).add(d),$.push(d),d=d.next;if(d===null)continue;g=d}E.push(g),_=g,d=g.next}if(d!==null||p!==void 0){for(var W=p===void 0?[]:qn(p);d!==null;)(s||!(d.e.f&St))&&W.push(d),d=d.next;var Z=W.length;if(Z>0){var ht=a&ta&&u===0?n:null;if(c){for(m=0;m<Z;m+=1)(Tt=W[m].a)==null||Tt.measure();for(m=0;m<Z;m+=1)(tt=W[m].a)==null||tt.fix()}Fs(e,W,ht,f)}}c&&dn(()=>{var Pt;if(h!==void 0)for(g of h)(Pt=g.a)==null||Pt.apply()}),j.first=e.first&&e.first.e,j.last=_&&_.e}function Gs(t,e,n,r){r&Wn&&de(t.v,e),r&zn?de(t.i,n):t.i=n}function Us(t,e,n,r,a,s,o,c,l){var u=Cn;try{var f=(l&Wn)!==0,v=(l&us)===0,d=f?v?pe(a):st(a):a,p=l&zn?st(o):o,_={i:p,v:d,k:s,a:null,e:null,prev:n,next:r};return Cn=_,_.e=Lt(()=>c(t,d,p),ea),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?e.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{Cn=u}}function yr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var o=fn(s);a.before(s),s=o}}function jt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function cn(t,e,n,r,a){var c;var s=(c=e.$$slots)==null?void 0:c[n],o=!1;s===!0&&(s=e[n==="default"?"children":n],o=!0),s===void 0||s(t,o?()=>r:r)}function wr(t,e,n){var r=t,a,s;He(()=>{a!==(a=e())&&(s&&(Wt(s),s=null),a&&(s=Lt(()=>n(r,a))))},un)}function rr(t,e,n){$e(()=>{var r=bt(()=>e(t,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}let br=!1;function qs(){br||(br=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Y(t,e,n,r){var a=t.__attributes??(t.__attributes={});a[e]!==(a[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Xa]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Vs(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var $r=new Map;function Vs(t){var e=$r.get(t.nodeName);if(e)return e;$r.set(t.nodeName,e=[]);for(var n,r=en(t),a=Element.prototype;a!==r;){n=Wr(r);for(var s in n)n[s].set&&e.push(s);r=en(r)}return e}function Ia(t,e){var n=t.__className,r=Ys(e);(n!==r||ea)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function Ys(t){return t??""}function Qt(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function ar(t,e,n,r=n){t.addEventListener(e,n);const a=t.__on_r;a?t.__on_r=()=>{a(),r()}:t.__on_r=r,qs()}function dt(t,e,n=e){var r=Ge();ar(t,"input",()=>{var a=Er(t)?Sr(t.value):t.value;n(a),r&&a!==(a=e())&&(t.value=a??"")}),Ee(()=>{var a=e();Er(t)&&a===Sr(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Ws(t,e,n=e){ar(t,"change",()=>{var r=t.checked;n(r)}),e()==null&&n(!1),Ee(()=>{var r=e();t.checked=!!r})}function Er(t){var e=t.type;return e==="number"||e==="range"}function Sr(t){return t===""?null:+t}function Ne(t,e,n){var r=Dt(t,e);r&&r.set&&(t[e]=n,Xn(()=>{t[e]=null}))}function xa(t,e,n){if(t.multiple)return Ks(t,e);for(var r of t.options){var a=Le(r);if(ms(a,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function zs(t,e){$e(()=>{var n=new MutationObserver(()=>{var r=t.__value;xa(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function sr(t,e,n=e){var r=!0;ar(t,"change",()=>{var a;if(t.multiple)a=[].map.call(t.querySelectorAll(":checked"),Le);else{var s=t.querySelector(":checked");a=s&&Le(s)}n(a)}),$e(()=>{var a=e();if(xa(t,a,r),r&&a===void 0){var s=t.querySelector(":checked");s!==null&&(a=Le(s),n(a))}t.__value=a,r=!1}),zs(t)}function Ks(t,e){for(var n of t.options)n.selected=~e.indexOf(Le(n))}function Le(t){return"__value"in t?t.__value:t.value}function Ir(t,e){return t===e||(t==null?void 0:t[Bt])===e}function gt(t={},e,n,r){return $e(()=>{var a,s;return Ee(()=>{a=s,s=[],bt(()=>{t!==n(...s)&&(e(t,...s),a&&Ir(n(...a),t)&&e(null,...a))})}),()=>{dn(()=>{s&&Ir(n(...s),t)&&e(null,...s)})}}),t}function Js(t){return function(...e){var n=e[0];return n.stopPropagation(),t==null?void 0:t.apply(this,e)}}function Ut(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}function U(t=!1){const e=M,n=e.l.u;if(!n)return;let r=()=>me(e.s);if(t){let a=0,s={};const o=ge(()=>{let c=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],c=!0);return c&&a++,a});r=()=>i(o)}n.b.length&&$s(()=>{xr(e,r),nn(n.b)}),Dn(()=>{const a=bt(()=>n.m.map(za));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&Dn(()=>{xr(e,r),nn(n.a)})}function xr(t,e){if(t.l.s)for(const n of t.l.s)i(n);e()}function Nn(t,e){var s;var n=(s=t.$$events)==null?void 0:s[e.type],r=je(n)?n.slice():n==null?[]:[n];for(var a of r)a.call(this,e)}function or(t,e,n){if(t==null)return e(void 0),n&&n(void 0),Mt;const r=bt(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}let Ze=!1;function G(t,e,n){const r=n[e]??(n[e]={store:null,source:pe(void 0),unsubscribe:Mt});if(r.store!==t)if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=Mt;else{var a=!0;r.unsubscribe=or(t,s=>{a?r.source.v=s:S(r.source,s)}),a=!1}return i(r.source)}function Xs(t,e){return t.set(e),e}function K(){const t={};return Xn(()=>{for(var e in t)t[e].unsubscribe()}),t}function Zs(t){var e=Ze;try{return Ze=!1,[t(),Ze]}finally{Ze=e}}const Qs={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Pe(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let a=t.props[r];Pe(a)&&(a=a());const s=Dt(a,e);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Pe(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const a=Dt(r,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(t,e){for(let n of t.props)if(Pe(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props){Pe(n)&&(n=n());for(const r in n)e.includes(r)||e.push(r)}return e}};function Cr(...t){return new Proxy({props:t},Qs)}function kr(t){for(var e=j,n=j;e!==null&&!(e.f&($t|Be));)e=e.parent;try{return yt(e),t()}finally{yt(n)}}function O(t,e,n,r){var A;var a=(n&fs)!==0,s=(n&ds)!==0,o=(n&_s)!==0,c=(n&ps)!==0,l=!1,u;o?[u,l]=Zs(()=>t[e]):u=t[e];var f=(A=Dt(t,e))==null?void 0:A.set,v=r,d=!0,p=!1,_=()=>(p=!0,d&&(d=!1,c?v=bt(r):v=r),v);u===void 0&&r!==void 0&&(f&&s&&rs(),u=_(),f&&f(u));var h;if(s)h=()=>{var C=t[e];return C===void 0?_():(d=!0,p=!1,C)};else{var E=kr(()=>(a?ge:Zt)(()=>t[e]));E.f|=Kr,h=()=>{var C=i(E);return C!==void 0&&(v=void 0),C===void 0?v:C}}if(!(n&vs))return h;if(f){var $=t.$$legacy;return function(C,D){return arguments.length>0?((!s||!D||$||l)&&f(D?h():C),C):h()}}var b=!1,y=!1,g=pe(u),m=kr(()=>ge(()=>{var C=h(),D=i(g);return b?(b=!1,y=!0,D):(y=!1,g.v=C)}));return a||(m.equals=Yn),function(C,D){if(fe&&(b=y,h(),i(g)),arguments.length>0){const J=D?i(m):s&&o?ce(C):C;return m.equals(J)||(b=!0,S(g,J),p&&v!==void 0&&(v=J),bt(()=>i(m))),C}return i(m)}}function Ie(t){M===null&&vn(),M.l!==null?Ca(M).m.push(t):Dn(()=>{const e=bt(t);if(typeof e=="function")return e})}function to(t){M===null&&vn(),Ie(()=>()=>bt(t))}function eo(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function ne(){const t=M;return t===null&&vn(),(e,n,r)=>{var s;const a=(s=t.s.$$events)==null?void 0:s[e];if(a){const o=je(a)?a.slice():[a],c=eo(e,n,r);for(const l of o)l.call(t.x,c);return!c.defaultPrevented}return!0}}function no(t){M===null&&vn(),M.l===null&&ns(),Ca(M).a.push(t)}function Ca(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const ro="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ro);const ie=[];function ka(t,e){return{subscribe:kt(t,e).subscribe}}function kt(t,e=Mt){let n=null;const r=new Set;function a(c){if(Zr(t,c)&&(t=c,n)){const l=!ie.length;for(const u of r)u[1](),ie.push(u,t);if(l){for(let u=0;u<ie.length;u+=2)ie[u][0](ie[u+1]);ie.length=0}}}function s(c){a(c(t))}function o(c,l=Mt){const u=[c,l];return r.add(u),r.size===1&&(n=e(a,s)||Mt),c(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:a,update:s,subscribe:o}}function Ta(t,e,n){const r=!Array.isArray(t),a=r?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return ka(n,(o,c)=>{let l=!1;const u=[];let f=0,v=Mt;const d=()=>{if(f)return;v();const _=e(r?u[0]:u,o,c);s?o(_):v=typeof _=="function"?_:Mt},p=a.map((_,h)=>or(_,E=>{u[h]=E,f&=~(1<<h),l&&d()},()=>{f|=1<<h}));return l=!0,d(),function(){nn(p),v(),l=!1}})}function jn(t){let e;return or(t,n=>e=n)(),e}function ao(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,a,s,o=[],c="",l=t.split("/");for(l[0]||l.shift();a=l.shift();)n=a[0],n==="*"?(o.push("wild"),c+="/(.*)"):n===":"?(r=a.indexOf("?",1),s=a.indexOf(".",1),o.push(a.substring(1,~r?r:~s?s:a.length)),c+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~r?"?":"")+"\\"+a.substring(s))):c+="/"+a;return{keys:o,pattern:new RegExp("^"+c+"/?$","i")}}function Tr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const ir=ka(null,function(e){e(Tr());const n=()=>{e(Tr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Ta(ir,t=>t.location);Ta(ir,t=>t.querystring);const Pr=kt(void 0);async function X(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await er(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function Pa(t,e){if(e=Dr(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Ar(t,e),{update(n){n=Dr(n),Ar(t,n)}}}function so(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ar(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||oo(r.currentTarget.getAttribute("href"))})}function Dr(t){return t&&typeof t=="string"?{href:t}:t||{}}function oo(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function io(t,e){B(e,!1);let n=O(e,"routes",24,()=>({})),r=O(e,"prefix",8,""),a=O(e,"restoreScrollState",8,!1);class s{constructor(g,m){if(!m||typeof m!="function"&&(typeof m!="object"||m._sveltesparouter!==!0))throw Error("Invalid component object");if(!g||typeof g=="string"&&(g.length<1||g.charAt(0)!="/"&&g.charAt(0)!="*")||typeof g=="object"&&!(g instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:A,keys:C}=ao(g);this.path=g,typeof m=="object"&&m._sveltesparouter===!0?(this.component=m.component,this.conditions=m.conditions||[],this.userData=m.userData,this.props=m.props||{}):(this.component=()=>Promise.resolve(m),this.conditions=[],this.props={}),this._pattern=A,this._keys=C}match(g){if(r()){if(typeof r()=="string")if(g.startsWith(r()))g=g.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const D=g.match(r());if(D&&D[0])g=g.substr(D[0].length)||"/";else return null}}const m=this._pattern.exec(g);if(m===null)return null;if(this._keys===!1)return m;const A={};let C=0;for(;C<this._keys.length;){try{A[this._keys[C]]=decodeURIComponent(m[C+1]||"")||null}catch{A[this._keys[C]]=null}C+=1}return A}async checkConditions(g){for(let m=0;m<this.conditions.length;(m+=1)-1)if(!await this.conditions[m](g))return!1;return!0}}const o=[];n()instanceof Map?n().forEach((y,g)=>{o.push(new s(g,y))}):Object.keys(n()).forEach(y=>{o.push(new s(y,n()[y]))});let c=k(null),l=k(null),u=k({});const f=ne();async function v(y,g){await er(),f(y,g)}let d=null,p=null;a()&&(p=y=>{y.state&&(y.state.__svelte_spa_router_scrollY||y.state.__svelte_spa_router_scrollX)?d=y.state:d=null},window.addEventListener("popstate",p),no(()=>{so(d)}));let _=null,h=null;const E=ir.subscribe(async y=>{_=y;let g=0;for(;g<o.length;){const m=o[g].match(y.location);if(!m){g+=1;continue}const A={route:o[g].path,location:y.location,querystring:y.querystring,userData:o[g].userData,params:m&&typeof m=="object"&&Object.keys(m).length?m:null};if(!await o[g].checkConditions(A)){S(c,null),h=null,v("conditionsFailed",A);return}v("routeLoading",Object.assign({},A));const C=o[g].component;if(h!=C){C.loading?(S(c,C.loading),h=C,S(l,C.loadingParams),S(u,{}),v("routeLoaded",Object.assign({},A,{component:i(c),name:i(c).name,params:i(l)}))):(S(c,null),h=null);const D=await C();if(y!=_)return;S(c,D&&D.default||D),h=C}m&&typeof m=="object"&&Object.keys(m).length?S(l,m):S(l,null),S(u,o[g].props),v("routeLoaded",Object.assign({},A,{component:i(c),name:i(c).name,params:i(l)})).then(()=>{Pr.set(i(l))});return}S(c,null),h=null,Pr.set(void 0)});to(()=>{E(),p&&window.removeEventListener("popstate",p)}),ft(()=>me(a()),()=>{history.scrollRestoration=a()?"manual":"auto"}),Gt(),U();var $=vt(),b=z($);nt(b,()=>i(l),y=>{var g=vt(),m=z(g);wr(m,()=>i(c),(A,C)=>{C(A,Cr({get params(){return i(l)}},()=>i(u),{$$events:{routeEvent(D){Nn.call(this,e,D)}}}))}),I(y,g)},y=>{var g=vt(),m=z(g);wr(m,()=>i(c),(A,C)=>{C(A,Cr(()=>i(u),{$$events:{routeEvent(D){Nn.call(this,e,D)}}}))}),I(y,g)}),I(t,$),F()}const it=kt([]),qt=kt([]),Rt=kt([]),re=kt([]),Aa=kt([]),ye=kt(""),hn=kt({}),Da=kt(null),Mn=(t,e)=>e.some(n=>t instanceof n);let Lr,Or;function co(){return Lr||(Lr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lo(){return Or||(Or=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bn=new WeakMap,kn=new WeakMap,gn=new WeakMap;function uo(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Kt(t.result)),a()},o=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return gn.set(e,t),e}function fo(t){if(Bn.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),a()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bn.set(t,e)}let Fn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bn.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function La(t){Fn=t(Fn)}function vo(t){return lo().includes(t)?function(...e){return t.apply(Hn(this),e),Kt(this.request)}:function(...e){return Kt(t.apply(Hn(this),e))}}function _o(t){return typeof t=="function"?vo(t):(t instanceof IDBTransaction&&fo(t),Mn(t,co())?new Proxy(t,Fn):t)}function Kt(t){if(t instanceof IDBRequest)return uo(t);if(kn.has(t))return kn.get(t);const e=_o(t);return e!==t&&(kn.set(t,e),gn.set(e,t)),e}const Hn=t=>gn.get(t);function po(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),c=Kt(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Kt(o.result),l.oldVersion,l.newVersion,Kt(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const ho=["get","getKey","getAll","getAllKeys","count"],go=["put","add","delete","clear"],Tn=new Map;function Rr(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tn.get(e))return Tn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=go.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ho.includes(n)))return;const s=async function(o,...c){const l=this.transaction(o,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),a&&l.done]))[0]};return Tn.set(e,s),s}La(t=>({...t,get:(e,n,r)=>Rr(e,n)||t.get(e,n,r),has:(e,n)=>!!Rr(e,n)||t.has(e,n)}));const mo=["continue","continuePrimaryKey","advance"],Nr={},Gn=new WeakMap,Oa=new WeakMap,yo={get(t,e){if(!mo.includes(e))return t[e];let n=Nr[e];return n||(n=Nr[e]=function(...r){Gn.set(this,Oa.get(this)[e](...r))}),n}};async function*wo(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,yo);for(Oa.set(n,e),gn.set(n,Hn(e));e;)yield n,e=await(Gn.get(n)||e.continue()),Gn.delete(n)}function jr(t,e){return e===Symbol.asyncIterator&&Mn(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Mn(t,[IDBIndex,IDBObjectStore])}La(t=>({...t,get(e,n,r){return jr(e,n)?wo:t.get(e,n,r)},has(e,n){return jr(e,n)||t.has(e,n)}}));const bo="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Jt=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=bo[n[t]&63];return e};var ot=(t=>(t.Expense="EXPENSE",t.Income="INCOME",t.Transfer="TRANSFER",t))(ot||{});const $o=[{value:ot.Expense,title:"Expense"},{value:ot.Transfer,title:"Transfer"},{value:ot.Income,title:"Income"}],ln="baseCurrencyCode";let R;const Eo=po("acc",3,{upgrade(t,e,n,r){if(t.objectStoreNames.contains("accountGroups")||t.createObjectStore("accountGroups",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("accounts")||t.createObjectStore("accounts",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("currencies")||t.createObjectStore("currencies",{keyPath:"code"}),t.objectStoreNames.contains("categories")||t.createObjectStore("categories",{keyPath:"id"}).createIndex("title",["title","subtitle"]),t.objectStoreNames.contains("entries")||t.createObjectStore("entries",{keyPath:"id"}).createIndex("accountId","accountId"),!t.objectStoreNames.contains("transactions"))t.createObjectStore("transactions",{keyPath:"id"}).createIndex("timestamp","timestamp");else{const a=r.objectStore("transactions");console.log("store already exists, creating index"),a.createIndex("timestamp","timestamp")}t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"name"}),t.objectStoreNames.contains("rates")||t.createObjectStore("rates",{keyPath:"code"})}}).then(t=>{R=t});function ae(){return R.getAllFromIndex("accounts","title")}function So(t){return R.get("accounts",t)}async function Io(t){await R.put("accounts",t),it.set(await ae())}async function xo(t){const e=await R.get("transactions",t);e&&(await Promise.all([R.delete("transactions",t),R.delete("entries",e.entryId),e.secondEntryId?R.delete("entries",e.secondEntryId):null]),await Promise.all([Xt(e.accountId),e.secondAccountId?Xt(e.secondAccountId):null]),it.set(await ae()))}async function Co(t,e){const[n,r]=await Promise.all([R.get("entries",t.entryId),t.secondEntryId?R.get("entries",t.secondEntryId):null]);if(!n)return;const[a,s,o]=Ma(e,t.id,n.id,r?r.id:Jt(5));await Promise.all([R.put("transactions",a),R.put("entries",s),o?r?R.put("entries",o):R.add("entries",o):r?R.delete("entries",r.id):null]);const[c,l]=await Promise.all([Xt(a.accountId),a.secondAccountId?Xt(a.secondAccountId):null,t.secondAccountId&&t.secondAccountId!==e.secondAccountId?Xt(t.secondAccountId):null]);(c||l)&&it.set(await ae())}function mn(){return R.getAllFromIndex("accountGroups","title")}function yn(){return R.getAllFromIndex("categories","title")}function wn(){return R.getAll("currencies")}function ko(){return R.getAll("settings")}async function To(){return(await R.getAll("rates")).reduce((e,n)=>(e[n.code]=n.rate,e),{})}async function Ra(t,e=!0){return(await R.getAllFromIndex("entries","accountId",t)).sort((r,a)=>r.timestamp<a.timestamp?e?1:-1:r.timestamp>a.timestamp?e?-1:1:0)}async function Po(t,e){return await R.getAllFromIndex("transactions","timestamp",IDBKeyRange.bound(t,e,!1,!0))}function Ao(t){return R.get("transactions",t)}async function Do(t,e){await R.put("accountGroups",{id:Jt(5),currencyCode:e,title:t}),qt.set(await mn())}async function Lo(t){await R.put("accountGroups",t),qt.set(await mn())}async function Oo(t,e,n){await R.put("accounts",{id:Jt(5),title:t,groupId:e,currencyCode:n,balance:0}),it.set(await ae())}async function Na(t,e){const n={id:Jt(5),title:t,subtitle:e};return await R.put("categories",n),Rt.set(await yn()),n}async function ja(t){await R.put("settings",t)}async function Ro(t,e){const n={};await R.delete("rates",e),await Promise.all(t.map(r=>(n[r.code]=r.rate,R.put("rates",r)))),hn.set(n)}async function No(t){await R.put("categories",t),Rt.set(await yn())}async function jo(t,e){await R.put("currencies",{code:t,title:e}),re.set(await wn())}async function Mo(t){await R.put("currencies",t),re.set(await wn())}function Ma({kind:t,accountId:e,timestamp:n,categoryId:r,secondAccountId:a,secondAmount:s,amount:o,comment:c,reconciled:l},u,f,v){const d={id:f,timestamp:n,accountId:e,...r?{categoryId:r}:{},transactionId:u,comment:c,amount:t===ot.Income?o:-o,total:0,...l?{reconciled:l}:{}};if(t===ot.Transfer&&v&&a){const p={id:v,timestamp:n,accountId:a,transactionId:u,comment:c,amount:s||o,total:0,...l?{reconciled:l}:{}};return[{id:u,kind:t,timestamp:n,accountId:e,secondAccountId:a,amount:o,...s?{secondAmount:s}:{},comment:c,entryId:d.id,secondEntryId:p.id,...l?{reconciled:l}:{}},d,p]}else return[{id:u,kind:t,timestamp:n,accountId:e,...r?{categoryId:r}:{},amount:o,comment:c,entryId:d.id,...l?{reconciled:l}:{}},d]}async function Xt(t){const e=await Ra(t,!1);let n=0;for(const a of e)n+=a.amount,a.total!==n&&await R.put("entries",{...a,total:n});const r=await So(t);if(r)return r.balance!==n?(await R.put("accounts",{...r,balance:n}),!0):!1}async function Bo(t){const e=R.transaction(["entries","transactions"],"readwrite"),n=e.objectStore("entries"),r=e.objectStore("transactions"),[a,s,o]=Ma(t,Jt(5),Jt(5),Jt(5));await Promise.all([r.add(a),n.add(s),...o?[n.add(o)]:[],e.done]);const[c,l]=await Promise.all([Xt(a.accountId),a.secondAccountId?Xt(a.secondAccountId):!1]);return(c||l)&&it.set(await ae()),a}async function Ba(){const[t,e,n,r,a,s]=await Promise.all([ae(),mn(),yn(),wn(),ko(),To()]);re.set(r),qt.set(e),it.set(t),Rt.set(n),Aa.set(a);const o=Fo(a);ye.set(o),delete s[o],hn.set(s)}function Fo(t){for(const e of t)if(e.name===ln)return e.value;return""}async function Ho(){await Eo,await Ba()}const Go=Ho();function Uo(t){function e(r){r.target instanceof Node&&t.hasAttribute("data-opened")&&(t.contains(r.target)||t.removeAttribute("data-opened"))}function n(r){r.code==="Escape"&&t.hasAttribute("data-opened")&&t.removeAttribute("data-opened")}return document.addEventListener("click",e),document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n),document.removeEventListener("click",e)}}}var qo=P('<div><div class="_2SXNm"><!></div> <div class="_27WQU" data-role="popover"><!></div></div>');function Fa(t,e){B(e,!1);let n=k(),r=O(e,"class",8,void 0),a=O(e,"clickToggle",8,!0);function s(){i(n).toggleAttribute("data-opened",!1)}function o(){i(n).toggleAttribute("data-opened",!0)}var c=qo(),l=w(c),u=ge(()=>a()?()=>{i(n).toggleAttribute("data-opened")}:null);l.__click=function(...p){var _;(_=i(u))==null||_.apply(this,p)};var f=w(l);cn(f,e,"default",{});var v=x(l,2),d=w(v);return cn(d,e,"content",{}),gt(c,p=>S(n,p),()=>i(n)),rr(c,p=>Uo(p)),T(()=>Ia(c,`_2LTIc ${r()??""}`)),I(t,c),Ne(e,"close",s),Ne(e,"show",o),F({close:s,show:o})}Rs(["click"]);var Vo=P('<a class="_2blFf"> </a>'),Yo=P('<span class="_2YoB_"> </span>'),Wo=P('<li class="_161ne"><!></li>'),zo=P('<ul class="_4OB04"></ul>');function Ko(t,e){B(e,!1);let n=O(e,"items",24,()=>[]);const r=ne();U();var a=zo();Q(a,5,n,s=>s.id,(s,o)=>{var c=Wo(),l=w(c);nt(l,()=>i(o).to,u=>{var f=Vo();Y(f,"draggable",!1);var v=w(f);rr(f,d=>Pa(d)),T(()=>{Y(f,"href",i(o).to),L(v,i(o).title)}),I(u,f)},u=>{var f=Yo(),v=w(f);T(()=>L(v,i(o).title)),I(u,f)}),T(()=>Y(c,"data-id",i(o).id)),q("click",c,u=>{r("menu",{id:u.currentTarget.dataset.id})}),I(s,c)}),I(t,a),F()}var Jo=pn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>');function Xo(t,e){let n=O(e,"size",8,24);var r=Jo();T(()=>{Y(r,"width",n()),Y(r,"height",n())}),I(t,r)}var Zo=pn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>');function Qo(t,e){let n=O(e,"size",8,24);var r=Zo();T(()=>{Y(r,"width",n()),Y(r,"height",n())}),I(t,r)}var ti=pn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>');function ei(t,e){let n=O(e,"size",8,24);var r=ti();T(()=>{Y(r,"width",n()),Y(r,"height",n())}),I(t,r)}var ni=P('<a class="_3STWW"><!></a>'),ri=P('<button class="_1QNxz"><!></button>'),ai=P('<header class="_33P8w"><div class="_2H7LH"><!></div> <h1 class="_3fIdZ"> </h1> <div class="_24wLt"><!> <!></div></header>');function _t(t,e){B(e,!1);let n=O(e,"title",8),r=O(e,"returnPath",8,void 0),a=O(e,"addPath",8,void 0),s=O(e,"menuItems",8,null),o=k(null);const c=ne();U();var l=ai(),u=w(l),f=w(u);nt(f,r,E=>{var $=ni();Y($,"draggable",!1);var b=w($);Xo(b,{}),rr($,y=>Pa(y)),T(()=>Y($,"href",r())),I(E,$)});var v=x(u,2),d=w(v),p=x(v,2),_=w(p);nt(_,a,E=>{var $=ri(),b=w($);Qo(b,{}),q("click",$,()=>{c("add"),X(a())}),I(E,$)});var h=x(_,2);nt(h,s,E=>{gt(Fa(E,{class:"_253y9",children:($,b)=>{ei($,{})},$$slots:{default:!0,content:($,b)=>{Ko($,{slot:"content",get items(){return s()},$$events:{menu:y=>{i(o).close(),c("menu",{id:y.detail.id})}}})}},$$legacy:!0}),$=>S(o,$),()=>i(o))}),T(()=>L(d,n())),I(t,l),F()}var si=P('<main class="_2HUC4"><!> <!></main>');function pt(t,e){var n=si(),r=w(n);cn(r,e,"header",{});var a=x(r,2);cn(a,e,"default",{}),I(t,n)}const oi=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Mr(t){const e=t.getTimezoneOffset()*6e4,n=new Date(t.getTime()-e),r=n.getFullYear(),a=String(n.getUTCMonth()+1).padStart(2,"0"),s=String(n.getUTCDate()).padStart(2,"0"),o=String(n.getUTCHours()).padStart(2,"0"),c=String(n.getUTCMinutes()).padStart(2,"0");return`${r}-${a}-${s}T${o}:${c}`}function cr(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),o=String(r.getUTCDate()).padStart(2,"0"),c=String(r.getUTCHours()).padStart(2,"0"),l=String(r.getUTCMinutes()).padStart(2,"0");return`${a}-${s}-${o} ${c}:${l}`}function ii(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getUTCFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),o=String(r.getUTCDate()).padStart(2,"0"),c=oi[r.getUTCDay()];return`${a}-${s}-${o} ${c}`}function ci(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0");return`${a}:${s}`}function Pn(t){return/^[1-9]\d*([.,](\d{1,2})?)?$/.test(t)}function An(t){if(/[.,]/.test(t)){let[e,n]=t.split(/[.,]/);return n.trim()===""?parseInt(e)*100:(n.length===1&&(n=n+"0"),parseInt(e+n))}else return parseInt(t)*100}function mt(t,e,n){t=Math.round(t);const r=t<0?Math.ceil(t/100):Math.floor(t/100),a=Math.abs(t%100);return(n&&t>0?"+":"")+`${e?li(r):r}.${String(a).padStart(2,"0")}`}function lr(t,e){const n=jn(hn),r=jn(ye),a=n[t]?n[t]:1;return e===r?a:n[e]?a/n[e]:1}function li(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function ui(t,e){return t.reduce((n,r)=>(r.currencyCode===e?n+=r.balance:n+=r.balance*lr(r.currencyCode,e),n),0)}function fi(t,e){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,a.click(),URL.revokeObjectURL(r)}function di(t){const e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!1,e.onchange=()=>{const n=e.files[0];if(n){const r=new FileReader;r.onload=function(){t(r.result)},r.readAsText(n)}},e.click()}function vi(t){try{return JSON.parse(t)}catch{return console.warn("JSON parsing failed."),null}}async function _i(){const[t,e,n,r,a,s,o,c]=await Promise.all([wn(),mn(),ae(),yn(),R.getAll("transactions"),R.getAll("entries"),R.getAll("settings"),R.getAll("rates")]);return{ver:cr(Date.now()),currencies:t,accountGroups:e,accounts:n,categories:r,transactions:a,entries:s,settings:o,rates:c}}async function pi(t){if(!confirm("All the data will be overwritten. Are you sure you want to continue?"))return!1;if(hi(t)){const e=R.transaction(["currencies","accountGroups","accounts","categories","transactions","entries","settings","rates"],"readwrite");await Promise.all([e.objectStore("currencies").clear(),e.objectStore("accountGroups").clear(),e.objectStore("accounts").clear(),e.objectStore("categories").clear(),e.objectStore("transactions").clear(),e.objectStore("entries").clear(),e.objectStore("settings").clear(),e.objectStore("rates").clear()]);for(const n of t.currencies)await e.objectStore("currencies").put(n);for(const n of t.accountGroups)await e.objectStore("accountGroups").put(n);for(const n of t.accounts)await e.objectStore("accounts").put(n);for(const n of t.categories)await e.objectStore("categories").put(n);for(const n of t.transactions)await e.objectStore("transactions").put(n);for(const n of t.entries)await e.objectStore("entries").put(n);for(const n of t.settings)await e.objectStore("settings").put(n);for(const n of t.rates)await e.objectStore("rates").put(n);return await e.done,!0}else return alert("Invalid snapshot format."),!1}function hi(t){return!(!t.ver||!t.currencies||!t.accountGroups||!t.categories||!t.categories||!t.transactions||!t.entries)}function gi(t,e){if(t.classList.contains(e)){t.classList.remove(e),t.offsetWidth,t.classList.add(e);return}t.addEventListener("animationend",()=>{t.classList.remove(e)},{once:!0}),t.classList.add(e)}var mi=P('<div class="_2kBg8" data-role="account"><div class="_1gfEY"><span class="_3HVLl"> </span> <span> </span></div></div>');function yi(t,e){B(e,!1);let n=O(e,"account",8),r=O(e,"editing",8,!1);const a=ne();U();var s=mi(),o=w(s),c=w(o),l=w(c),u=x(c,2),f=w(u);T(()=>L(f,`${mt(n().balance,!0)??""} ${n().currencyCode??""}`)),T(()=>L(l,n().title)),q("click",s,()=>{r()||a("account",{id:n().id})}),I(t,s),F()}var wi=P('<div><div class="FmXIb"><span class="_2RwqA"> </span> <span> </span></div> <!></div>');function bi(t,e){B(e,!1);const n=K(),r=()=>G(it,"$accounts",n),a=k(),s=k();let o=O(e,"accountGroup",8);ft(()=>(r(),me(o())),()=>{S(a,r().filter(_=>_.groupId===o().id))}),ft(()=>(i(a),me(o())),()=>{S(s,ui(i(a),o().currencyCode))}),Gt(),U();var c=wi(),l=w(c),u=w(l),f=w(u),v=x(u,2),d=w(v);T(()=>L(d,`${mt(i(s),!0)??""} ${o().currencyCode??""}`));var p=x(l,2);Q(p,1,()=>i(a),_=>_.id,(_,h)=>{yi(_,{get account(){return i(h)},$$events:{account:E=>{X(`/accounts/${E.detail.id}`)}}})}),T(()=>L(f,o().title)),I(t,c),F()}const $i=[{id:"groups",title:"Account Groups",to:"/groups"},{id:"category",title:"Categories",to:"/categories"},{id:"report",title:"Report",to:"/report"},{id:"currency",title:"Currencies",to:"/currencies"},{id:"rates",title:"Rates",to:"/rates"},{id:"backup",title:"Backup"},{id:"restore",title:"Restore"}];var Ei=P('<!> <div class="_3c4Tf"><div>Total</div> <div class="_2wBv"> </div></div>',1);function Si(t,e){B(e,!0);const n=K(),r=()=>G(it,"$accounts",n),a=()=>G(ye,"$baseCurrencyCode",n),s=()=>G(qt,"$accountGroups",n);let o=ge(()=>r().reduce((c,l)=>(l.currencyCode===a()?c+=l.balance:c+=l.balance*lr(l.currencyCode,a()),c),0));pt(t,{children:(c,l)=>{var u=Ei(),f=z(u);Q(f,1,s,Ot,(_,h)=>{bi(_,{get accountGroup(){return i(h)}})});var v=x(f,2),d=x(w(v),2),p=w(d);T(()=>L(p,`${mt(i(o),!0)??""}
      ${(a()||"")??""}`)),I(c,u)},$$slots:{default:!0,header:(c,l)=>{_t(c,{slot:"header",title:"Accounts",addPath:"/accounts/new",menuItems:$i,$$events:{menu:u=>{switch(u.detail.id){case"backup":_i().then(f=>{fi(f,`acc-${cr(Date.now())}.json`)});break;case"restore":di(f=>{const v=vi(f);v&&pi(v).then(d=>{d&&Ba()})});break}}}})}}}),F()}var Ii=P('<div class="_3JK5K"> </div>');function xi(t,e){B(e,!1);const n=K(),r=()=>G(qt,"$accountGroups",n);function a(s){s.target instanceof HTMLElement&&s.target.dataset.id&&X(`/groups/${s.target.dataset.id}`)}U(),pt(t,{children:(s,o)=>{var c=vt(),l=z(c);Q(l,1,r,u=>u.id,(u,f)=>{var v=Ii(),d=w(v);T(()=>{Y(v,"data-id",i(f).id),L(d,i(f).title)}),q("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{_t(s,{slot:"header",title:"Account Groups",returnPath:"/",addPath:"/groups/new"})}}}),F()}var Ci=P("} <option> </option>",1),ki=P('<select class="_1kHx0" required><option disabled selected hidden> </option><!></select>');function bn(t,e){const n=K(),r=()=>G(re,"$currencies",n);let a=O(e,"currencyCode",12),s=O(e,"placeholder",8,"Currency");var o=ki();T(()=>{a(),nr(()=>{s(),r()})});var c=w(o);c.value=((c.__value="")==null,"");var l=w(c),u=x(c);Q(u,1,r,({code:f,title:v})=>f,(f,v)=>{let d=()=>i(v).code,p=()=>i(v).title;var _=Ci(),h=x(z(_)),E={},$=w(h);T(()=>{E!==(E=d())&&(h.value=(h.__value=d())==null?"":d()),L($,`${d()??""}
      ${p()??""}`)}),I(f,_)}),T(()=>L(l,s())),sr(o,a),I(t,o)}var Ti=P('<form class="_3RSQr"><div><!></div> <div><input class="_3xyX_" type="text" placeholder="Title"></div> <div><button class="_2G9AC" type="submit"></button></div></form>');function Br(t,e){B(e,!1);const n=K(),r=()=>G(qt,"$accountGroups",n);let a=O(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(d=>d.id===s):null,c=k(o?o.title:""),l=k(o?o.currencyCode:void 0),u=k(),f=k(!1);Ie(()=>{i(u).focus()});function v(){i(c).trim()&&i(l)?(S(f,!0),o?Lo({...o,title:i(c).trim(),currencyCode:i(l)}).then(()=>{X("/groups")}).finally(()=>{S(f,!1)}):Do(i(c),i(l)).then(()=>{X("/groups")}).finally(()=>{S(f,!1)})):alert("All fields must be specified.")}U(),pt(t,{children:(d,p)=>{var _=Ti(),h=w(_),E=w(h);bn(E,{get currencyCode(){return i(l)},set currencyCode(m){S(l,m)},$$legacy:!0});var $=x(h,2),b=w($);gt(b,m=>S(u,m),()=>i(u));var y=x($,2),g=w(y);g.textContent=o?"Save":"Create",T(()=>{b.disabled=i(f),g.disabled=i(f)}),dt(b,()=>i(c),m=>S(c,m)),q("submit",_,Ut(v)),I(d,_)},$$slots:{default:!0,header:(d,p)=>{_t(d,{slot:"header",title:o?"Account Group":"New Account Group",returnPath:"/groups"})}}}),F()}var Pi=P("<option> </option>"),Ai=P('<select class="_2Ge4O" required><option class="placeholder" disabled selected hidden>Account Group</option><!></select>');function Di(t,e){const n=K(),r=()=>G(qt,"$accountGroups",n);let a=O(e,"groupId",12);var s=Ai();T(()=>{a(),nr(()=>{r()})});var o=w(s);o.value=((o.__value="")==null,"");var c=x(o);Q(c,1,r,Ot,(l,u)=>{var f=Pi(),v={},d=w(f);T(()=>{v!==(v=i(u).id)&&(f.value=(f.__value=i(u).id)==null?"":i(u).id),L(d,i(u).title)}),I(l,f)}),sr(s,a),I(t,s)}var Li=P('<form><div><!></div> <div><!></div> <div><input class="_3hIGg" type="text" placeholder="Title"></div> <div><button class="J-mxG" type="submit"> </button></div></form>');function Fr(t,e){B(e,!1);let n=O(e,"accountDoc",8,null),r=O(e,"class",8,void 0),a=n()||{},s=k(a.groupId),o=k(a.currencyCode),c=k(Qe(a.title,"")),l=k(!1),u=k();const f=ne();function v(){i(c).trim()&&i(s)&&i(o)?(S(l,!0),f("save",{groupId:i(s),currencyCode:i(o),title:i(c)})):alert("Must fill all fields.")}Ie(()=>{i(u)&&i(u).focus()}),U();var d=Li(),p=w(d),_=w(p);Di(_,{get groupId(){return i(s)},set groupId(A){S(s,A)},$$legacy:!0});var h=x(p,2),E=w(h);bn(E,{get currencyCode(){return i(o)},set currencyCode(A){S(o,A)},$$legacy:!0});var $=x(h,2),b=w($);gt(b,A=>S(u,A),()=>i(u));var y=x($,2),g=w(y),m=w(g);T(()=>{Ia(d,`_2Na6L ${r()??""}`),b.disabled=i(l),g.disabled=i(l),L(m,n()?"Save":"Create")}),dt(b,()=>i(c),A=>S(c,A)),q("submit",d,Ut(v)),I(t,d),F()}function Hr(t,e){B(e,!1);const n=K(),r=()=>G(it,"$accounts",n);let a=O(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(l=>l.id===s):null;function c(l){const{title:u,groupId:f,currencyCode:v}=l.detail;s?Io({...o,title:u,groupId:f,currencyCode:v}).then(()=>{X("/")}):Oo(u,f,v).then(()=>{X("/")})}U(),pt(t,{children:(l,u)=>{var f=vt(),v=z(f);nt(v,()=>s,d=>{Fr(d,{class:"_1tO9D",accountDoc:o,$$events:{save:c}})},d=>{Fr(d,{class:"_1tO9D",$$events:{save:c}})}),I(l,f)},$$slots:{default:!0,header:(l,u)=>{var f=Zt(()=>s?o==null?void 0:o.title:"New Account");_t(l,{slot:"header",get title(){return i(f)},returnPath:"/"})}}}),F()}var Oi=P('<span class="_2DnNM"> </span>'),Ri=P('<div class="_3Z3tw"><div class="_3FVvR"><div class="_2IaRv"><span class="_28fbv"> </span> <!></div> <div class="_2jX25"> </div></div> <div class="USkeu"><div class="_1OdDn"> </div> <div class="ZtAai"> </div></div></div>');function Ni(t,e){B(e,!1);const n=K(),r=()=>G(Rt,"$categoires",n),a=k();let s=O(e,"entry",8);const o=ne();ft(()=>(me(s()),r()),()=>{S(a,s().categoryId?r().find(g=>g.id===s().categoryId):null)}),Gt(),U();var c=Ri(),l=w(c),u=w(l),f=w(u),v=w(f),d=x(f,2);nt(d,()=>i(a),g=>{var m=Oi(),A=w(m);T(()=>L(A,`${i(a).title??""}${(i(a).subtitle?`:${i(a).subtitle}`:"")??""}`)),I(g,m)});var p=x(u,2),_=w(p);T(()=>L(_,mt(s().amount,!0,!0)));var h=x(l,2),E=w(h),$=w(E);T(()=>L($,ci(s().timestamp)));var b=x(E,2),y=w(b);T(()=>L(y,mt(s().total,!0))),T(()=>{Y(c,"id",s().transactionId),Qt(c,"_3Jw2J",s().reconciled),L(v,s().comment),Qt(p,"NS-XR",s().amount>0)}),q("click",c,()=>{o("transaction",{id:s().transactionId})}),I(t,c),F()}let Ae=null;var ji=P('<div class="_1kipO"><span class="ZZvPT"> </span> <span class="_3Hag4"> </span></div> <!>',1);function Mi(t,e){B(e,!1);const n=K(),r=()=>G(it,"$accounts",n),a=k(),s=k();let o=O(e,"params",8);const{id:c}=o();let l=k({}),u=k();const f=v();Ra(c).then(d=>{(d==null?void 0:d.length)>0&&S(u,d[0].timestamp+6e4),S(l,d.reduce((p,_)=>{const h=ii(_.timestamp);return p[h]?p[h].entries.push(_):p[h]={entries:[_],total:0},p},{}));for(const p of Object.values(i(l)))p.total=p.entries.reduce((_,h)=>(_+=h.amount,_),0);er().then(()=>{var _;const p=jn(Da);if((p==null?void 0:p.route)==="/accounts/:id/transactions/:tid"||(p==null?void 0:p.route)==="/accounts/:id/transactions/new"){Ae&&(document.documentElement.scrollTop=Ae);const h=((_=p.params)==null?void 0:_.tid)||f;if(h){const E=document.getElementById(h);E&&gi(E,"highlight-animation")}}Ae=null})});function v(){const[d,p]=location.hash.split("?");return p&&p?new URLSearchParams(p).get("tid"):null}ft(()=>r(),()=>{S(a,r().find(d=>d.id===c))}),ft(()=>{},()=>{S(s,[{id:"edit",title:"Edit",to:`/accounts/${c}/edit`}])}),Gt(),U(),pt(t,{children:(d,p)=>{var _=vt(),h=z(_);Q(h,1,()=>Object.keys(i(l)),Ot,(E,$)=>{var b=ji(),y=z(b),g=w(y),m=w(g),A=x(g,2),C=w(A);T(()=>L(C,mt(i(l)[i($)].total,!0,!0)));var D=x(y,2);Q(D,1,()=>i(l)[i($)].entries,J=>J.id,(J,V)=>{Ni(J,{get entry(){return i(V)},$$events:{transaction:W=>{Ae=document.documentElement.scrollTop,X(`/accounts/${c}/transactions/${W.detail.id}`)}}})}),T(()=>L(m,i($))),I(E,b)}),I(d,_)},$$slots:{default:!0,header:(d,p)=>{var _=Zt(()=>i(a)?i(a).title:"Not Found"),h=Zt(()=>`/accounts/${c??""}/transactions/new${(i(u)?`?t=${i(u)}`:"")??""}`);_t(d,{slot:"header",get title(){return i(_)},returnPath:"/",get addPath(){return i(h)},get menuItems(){return i(s)},$$events:{add:()=>{Ae=document.documentElement.scrollTop}}})}}}),F()}var Bi=P('<div class="_1Hdo"> </div>');function Fi(t,e){B(e,!1);const n=K(),r=()=>G(Rt,"$categoires",n);function a(s){if(s.target.dataset.id){const o=s.target.dataset.id;X(`/categories/${o}`)}}U(),pt(t,{children:(s,o)=>{var c=vt(),l=z(c);Q(l,1,r,u=>u.id,(u,f)=>{var v=Bi(),d=w(v);T(()=>{Y(v,"data-id",i(f).id),L(d,`${i(f).title??""}${(i(f).subtitle?`:${i(f).subtitle}`:"")??""}`)}),q("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{_t(s,{slot:"header",title:"Categories",returnPath:"/",addPath:"/categories/new"})}}}),F()}var Hi=P('<form class="_1JFP_"><div>Base currency: <!></div> <div><button class="_19-gA" type="submit">Save</button></div></form>');function Gi(t,e){var o;B(e,!1);const n=K();let a=k((o=G(Aa,"$settings",n).find(c=>c.name===ln))==null?void 0:o.value);function s(){ja({name:ln,value:i(a)}).then(()=>{X("/")})}U(),pt(t,{children:(c,l)=>{var u=Hi(),f=w(u),v=x(w(f));bn(v,{get currencyCode(){return i(a)},set currencyCode(d){S(a,d)},placeholder:"Base Currency",$$legacy:!0}),q("submit",u,Ut(s)),I(c,u)},$$slots:{default:!0,header:(c,l)=>{_t(c,{slot:"header",title:"Settings",returnPath:"/"})}}}),F()}var Ui=P('<div class="_3HmHC" data-role="item"><div class="_4jwya"> </div> <div class="_1GjZM"> </div></div>');function qi(t,e){B(e,!1);const n=K(),r=()=>G(re,"$currencies",n);function a(s){if(s.target instanceof HTMLElement){const o=s.target.closest('[data-role="item"]');o instanceof HTMLElement&&o.dataset.code&&X(`/currencies/${o.dataset.code}`)}}U(),pt(t,{children:(s,o)=>{var c=vt(),l=z(c);Q(l,1,r,u=>u.code,(u,f)=>{var v=Ui(),d=w(v),p=w(d),_=x(d,2),h=w(_);T(()=>{Y(v,"data-code",i(f).code),L(p,i(f).code),L(h,i(f).title)}),q("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{_t(s,{slot:"header",title:"Currencies",returnPath:"/",addPath:"/currencies/new"})}}}),F()}var Vi=P('<div><div> </div> <div class="gqdmv"><input class="_234LA" type="text"> <span> </span></div></div>'),Yi=P('<form class="_1SqME"><div>Base currency: <!></div> <!> <div><button class="_3vC8G" type="submit">Save</button></div></form>');function Wi(t,e){B(e,!1);const n=K(),r=()=>G(ye,"$baseCurrencyCode",n),a=()=>G(re,"$currencies",n),s=()=>G(hn,"$rates",n);let o=k(r()),c=k(a().reduce((d,{code:p})=>(d[p]=String(s()[p]||1),d),{}));function l(){const d=u();if(d){alert(d);return}const p=a().filter(({code:_})=>_!==i(o)).map(({code:_})=>({code:_,rate:v(i(c)[_])}));ja({name:ln,value:i(o)}).then(()=>(Xs(ye,i(o)),Ro(p,i(o)))).then(()=>{X("/")})}function u(){for(const[d,p]of Object.entries(i(c)))if(!f(p)){const _=document.getElementById(d);return _&&_.focus(),`Invalid rate for ${d}`}return""}function f(d){return/^([1-9]\d*|[0])([.,]\d+)?$/.test(d)}function v(d){return parseFloat(d.replace(",","."))}return U(),pt(t,{children:(d,p)=>{var _=Yi(),h=w(_),E=x(w(h));bn(E,{get currencyCode(){return i(o)},set currencyCode(b){S(o,b)},placeholder:"Base Currency",$$legacy:!0});var $=x(h,2);Q($,1,a,Ot,(b,y)=>{let g=()=>i(y).code;var m=vt(),A=z(m);nt(A,()=>g()!==i(o),C=>{var D=Vi(),J=w(D),V=w(J),W=x(J,2),Z=w(W);const ht=Zt(()=>!f(i(c)[g()]));var at=x(Z,2),ct=w(at);T(()=>{L(V,`${g()??""}:`),Y(Z,"id",g()),Qt(Z,"_2j9gN",i(ht)),L(ct,i(o))}),dt(Z,()=>i(c)[g()],Tt=>an(c,i(c)[g()]=Tt)),I(C,D)}),I(b,m)}),q("submit",_,Ut(l)),I(d,_)},$$slots:{default:!0,header:(d,p)=>{_t(d,{slot:"header",title:"Rates",returnPath:"/"})}}}),Ne(e,"validateRate",f),Ne(e,"parseRate",v),F({validateRate:f,parseRate:v})}var zi=P('<div class="_1rD4x"><span class="_31Wp_"> </span> <span> </span></div> <!>',1),Ki=P("<div></div>");function Un(t,e){B(e,!1);let n=O(e,"cat",8),r=O(e,"nested",8,!1),a=O(e,"ondocs",8,void 0);U();var s=Ki();Q(s,5,()=>n().sorted,Ot,(o,c)=>{var l=zi(),u=z(l),f=w(u),v=w(f),d=x(f,2),p=w(d);T(()=>L(p,mt(i(c).total,!0)));var _=x(u,2);nt(_,()=>i(c).sorted,h=>{var E=vt(),$=z(E);Un($,{get cat(){return i(c)},nested:!0,get ondocs(){return a()}}),I(h,E)}),T(()=>{Qt(u,"_3eEr8",r()),L(v,i(c).title)}),q("click",u,()=>{var h;(h=a())==null||h(i(c).docs)}),I(o,l)}),I(t,s),F()}var Ji=P('<div class="_3fR1c"><span class="_1w7Yp">Income</span> <span> </span></div> <!>',1),Xi=P('<div class="_3fR1c"><span class="_1w7Yp">Expenses</span> <span> </span></div> <!>',1),Zi=P('<span class="_2udZu"> </span>'),Qi=P('<div class="_2p4A6"><div class="_2ugfg"><span class="comment"> </span> <span class="Cuy75"> </span> &nbsp; <span> </span></div> <div class="_2tCf7"><!> <span class="_1u25y"> </span></div></div>'),tc=P('<div class="_2rfJl"><div class="_20g6"><div class="_3fR1c"><h2>Transactions</h2> <button class="_1vDoy">X</button></div> <!></div></div>'),ec=P('<div class="af3Ku"><input class="_35Y9x" type="month"></div> <!> <!> <!>',1);function nc(t,e){B(e,!1);const n=K(),r=()=>G(Rt,"$categoires",n),a=()=>G(it,"$accounts",n),s=()=>G(ye,"$baseCurrencyCode",n),o=new Date;let c=k(`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}`),l=k(null),u=k(null),f=k(null);const v=r().reduce((b,y)=>(b[y.id]=y,b),{}),d=a().reduce((b,y)=>(b[y.id]=y,b),{});function p(b){const[y,g]=b.split("-"),m=new Date(parseInt(y),parseInt(g)-1,1).getTime(),A=new Date(parseInt(y),parseInt(g),1).getTime();Po(m,A).then(C=>{const D=C.filter(V=>V.kind===ot.Income),J=C.filter(V=>V.kind===ot.Expense);S(l,_(D)),S(u,_(J)),h(i(l)),h(i(u))})}function _(b){return b.reduce((y,g)=>{const m=v[g.categoryId];return m&&(y.cats[m.title]||(y.cats[m.title]={title:m.title,cats:{},docs:[],total:0}),y.cats[m.title].total+=$(g),y.cats[m.title].docs.push(g),m.subtitle&&(y.cats[m.title].cats[m.subtitle]||(y.cats[m.title].cats[m.subtitle]={title:m.subtitle,docs:[],total:0}),y.cats[m.title].cats[m.subtitle].total+=$(g),y.cats[m.title].cats[m.subtitle].docs.push(g))),y.total+=$(g),y},{cats:{},docs:[],total:0})}function h(b){b.cats&&(b.sorted=Object.values(b.cats).sort((y,g)=>g.total-y.total),b.sorted.forEach(y=>{y.cats&&h(y)}))}function E(b){S(f,b),document.documentElement.style.setProperty("overflow","hidden")}function $(b){const y=d[b.accountId];return y&&y.currencyCode!==s()?b.amount*lr(y.currencyCode,s()):b.amount}ft(()=>i(c),()=>{p(i(c))}),Gt(),U(),pt(t,{children:(b,y)=>{var g=ec(),m=z(g),A=w(m),C=x(m,2);nt(C,()=>i(l),V=>{var W=Ji(),Z=z(W),ht=x(w(Z),2),at=w(ht);T(()=>L(at,mt(i(l).total,!0)));var ct=x(Z,2);Un(ct,{get cat(){return i(l)},ondocs:E}),I(V,W)});var D=x(C,2);nt(D,()=>i(u),V=>{var W=Xi(),Z=z(W),ht=x(w(Z),2),at=w(ht);T(()=>L(at,mt(i(u).total,!0)));var ct=x(Z,2);Un(ct,{get cat(){return i(u)},ondocs:E}),I(V,W)});var J=x(D,2);nt(J,()=>i(f),V=>{var W=tc(),Z=w(W),ht=w(Z),at=x(w(ht),2),ct=x(ht,2);Q(ct,1,()=>i(f),Ot,(Tt,tt)=>{var Pt=Qi(),qe=w(Pt),xe=w(qe),$n=w(xe),Ce=x(xe,2),Ve=w(Ce);T(()=>L(Ve,mt(i(tt).kind===ot.Expense?-i(tt).amount:i(tt).amount,!0,!0)));var ke=x(Ce,2),En=w(ke),Ye=x(qe,2),Te=w(Ye);nt(Te,()=>v[i(tt).categoryId],se=>{var ze=Zi(),Ke=w(ze);T(()=>L(Ke,`${v[i(tt).categoryId].title}${v[i(tt).categoryId].subtitle?`:${v[i(tt).categoryId].subtitle}`:""}`)),I(se,ze)});var Sn=x(Te,2),We=w(Sn);T(()=>L(We,cr(i(tt).timestamp))),T(()=>{var se;L($n,i(tt).comment),L(En,(se=d[i(tt).accountId])==null?void 0:se.currencyCode)}),I(Tt,Pt)}),q("click",at,Tt=>{S(f,null),document.documentElement.style.removeProperty("overflow")}),I(V,W)}),dt(A,()=>i(c),V=>S(c,V)),I(b,g)},$$slots:{default:!0,header:(b,y)=>{_t(b,{slot:"header",title:"Report",returnPath:"/"})}}}),F()}var rc=P('<form class="_2sHk9"><div class="_1F3oU"><input type="text" placeholder="Title"></div> <div class="_1F3oU"><input type="text" placeholder="Subtitle (optional)"></div> <div class="_1F3oU"><button type="submit"></button></div></form>');function Gr(t,e){B(e,!1);const n=K(),r=()=>G(Rt,"$categoires",n);let a=O(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(v=>v.id===s):null,c=k(o?o.title:""),l=k(o?o.subtitle:""),u=k();Ie(()=>{i(u)&&i(u).focus()});function f(){i(c).trim()?o?No({...o,title:i(c).trim(),subtitle:i(l).trim()}).then(()=>{X("/categories")}):Na(i(c).trim(),i(l).trim()).then(()=>{X("/categories")}):alert("The title must be specified.")}U(),pt(t,{children:(v,d)=>{var p=rc(),_=w(p),h=w(_);gt(h,g=>S(u,g),()=>i(u));var E=x(_,2),$=w(E),b=x(E,2),y=w(b);y.textContent=o?"Save":"Create",dt(h,()=>i(c),g=>S(c,g)),dt($,()=>i(l),g=>S(l,g)),q("submit",p,Ut(f)),I(v,p)},$$slots:{default:!0,header:(v,d)=>{_t(v,{slot:"header",title:o?"Category":"New Category",returnPath:"/categories"})}}}),F()}var ac=P('<form><div class="EbSwc"><input type="text" placeholder="Code"></div> <div class="EbSwc"><input type="text" placeholder="Title"></div> <div class="EbSwc"><button type="submit"></button></div></form>');function Ur(t,e){B(e,!1);const n=K(),r=()=>G(re,"$currencies",n);let a=O(e,"params",24,()=>({}));const{cid:s}=a();let o=s?r().find(d=>d.code===s):null,c=k(o?o.code:""),l=k(o?o.title:""),u=k(),f=k();function v(){i(c).trim()&&i(l).trim()?o?Mo({...o,title:i(l).trim()}).then(()=>{X("/currencies")}):jo(i(c).trim(),i(l).trim()).then(()=>{X("/currencies")}):alert("Code and title must be specified.")}Ie(()=>{o?i(f)&&i(f).focus():i(u)&&i(u).focus()}),U(),pt(t,{children:(d,p)=>{var _=ac(),h=w(_),E=w(h);E.disabled=o!==null,gt(E,m=>S(u,m),()=>i(u));var $=x(h,2),b=w($);gt(b,m=>S(f,m),()=>i(f));var y=x($,2),g=w(y);g.textContent=o?"Save":"Add",dt(E,()=>i(c),m=>S(c,m)),dt(b,()=>i(l),m=>S(l,m)),q("submit",_,Ut(v)),I(d,_)},$$slots:{default:!0,header:(d,p)=>{_t(d,{slot:"header",title:o?"Currency":"New Currency",returnPath:"/currencies"})}}}),F()}var sc=P("<option> </option>"),oc=P("<optgroup></optgroup>"),ic=P('<select class="_1vWtV" required><option disabled selected hidden> </option><!></select>');function cc(t,e){B(e,!1);const n=K(),r=()=>G(qt,"$accountGroups",n),a=()=>G(it,"$accounts",n),s=k();let o=O(e,"accountId",12),c=O(e,"placeholder",8,"Account");ft(()=>(r(),a()),()=>{S(s,r().reduce((d,p)=>{const _={title:p.title,accounts:a().filter(h=>h.groupId===p.id)};return d.push(_),d},[]))}),Gt(),U();var l=ic();T(()=>{o(),nr(()=>{c(),i(s)})});var u=w(l);u.value=((u.__value="")==null,"");var f=w(u),v=x(u);Q(v,1,()=>i(s),Ot,(d,p)=>{var _=oc();Q(_,5,()=>i(p).accounts,Ot,(h,E)=>{var $=sc(),b={},y=w($);T(()=>{b!==(b=i(E).id)&&($.value=($.__value=i(E).id)==null?"":i(E).id),L(y,i(E).title)}),I(h,$)}),T(()=>Y(_,"label",i(p).title)),I(d,_)}),T(()=>L(f,c())),sr(l,o),I(t,l),F()}var lc=P("<span> </span>"),uc=P('<div class="_2dieg"></div>');function fc(t,e){let n=O(e,"kind",12);function r(s){s.target instanceof HTMLSpanElement&&n(s.target.dataset.value)}var a=uc();Q(a,5,()=>$o,Ot,(s,o)=>{var c=lc(),l=w(c);T(()=>{Y(c,"data-value",i(o).value),Qt(c,"_1zm3o",i(o).value===n()),L(l,i(o).title)}),q("pointerdown",c,r),I(s,c)}),I(t,a)}var dc=P('<input class="_1LWF4" type="text" placeholder="Category">'),vc=P("<li> </li>"),_c=P('<li class="_1FJls">Empty</li>'),pc=P('<ul class="_2VAoI" slot="content"></ul>');function hc(t,e){B(e,!1);const n=K(),r=()=>G(Rt,"$categoires",n);let a=O(e,"categoryId",12),s=k(),o=k();function c(p){return`${p.title}${p.subtitle?`:${p.subtitle}`:""}`}function l(){a(""),f("")}let u=a()?r().find(p=>p.id===a()):null,f=O(e,"value",28,()=>u?c(u):"");function v(p){if(p.target instanceof HTMLLIElement){a(p.target.dataset.id),i(s).close();const _=r().find(h=>h.id===a());_&&f(c(_))}}function d(){const p=r().find(_=>i(o).value.trim().toLocaleLowerCase()===c(_).toLocaleLowerCase());p?(a(p.id),an(o,i(o).value=c(p))):a("")}return U(),gt(Fa(t,{class:"_3pEZc",clickToggle:!0,children:(p,_)=>{var h=dc();gt(h,E=>S(o,E),()=>i(o)),dt(h,f),q("input",h,d),I(p,h)},$$slots:{default:!0,content:(p,_)=>{var h=pc();Q(h,5,()=>a()?r():r().filter($=>`${$.title}:${$.subtitle}`.toLowerCase().includes(f().trim().toLowerCase())),$=>$.id,($,b)=>{var y=vc(),g=w(y);T(()=>{Y(y,"data-id",i(b).id),Qt(y,"_2P4tM",i(b).id===a()),L(g,`${i(b).title??""}${(i(b).subtitle?`:${i(b).subtitle}`:"")??""}`)}),I($,y)},$=>{var b=_c();I($,b)}),q("click",h,v),I(p,h)}},$$legacy:!0}),p=>S(s,p),()=>i(s)),Ne(e,"clear",l),F({clear:l})}var gc=pn('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"></path><path d="M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path></svg>');function mc(t,e){let n=O(e,"size",8,24);var r=gc();T(()=>{Y(r,"width",n()),Y(r,"height",n())}),I(t,r)}var yc=P('<div class="_3QCzM"><div><span data-key="1">1</span> <span data-key="2">2</span> <span data-key="3">3</span></div> <div><span data-key="4">4</span> <span data-key="5">5</span> <span data-key="6">6</span></div> <div><span data-key="7">7</span> <span data-key="8">8</span> <span data-key="9">9</span></div> <div><span data-key="&lt;"><!></span> <span data-key="0">0</span> <span data-key=".">.</span></div></div>');function wc(t,e){B(e,!1);let n=O(e,"onkey",8);function r(l){l.target instanceof HTMLSpanElement&&l.target.dataset.key&&n()(l.target.dataset.key)}U();var a=yc(),s=x(w(a),6),o=w(s),c=w(o);mc(c,{size:24}),q("pointerdown",a,Ut(function(l){Nn.call(this,e,l)})),q("pointerup",a,r),I(t,a),F()}var bc=P('<div class="_1fJps"><!> <button class="_2s0aU" type="button">Clear</button></div>'),$c=P('<div> <input class="_3vVTM" type="text"></div>'),Ec=P('<form class="_3MplV"><div><!></div> <div class="_12bGJ"><input class="_3vVTM" type="datetime-local"> <button class="_3SrK" type="button">Now</button></div> <div><!></div> <div> <input class="_3vVTM" type="text"></div> <!> <div><input class="_3vVTM" type="text" placeholder="Comment"></div> <div><label class="vaIrc"><input type="checkbox"> Reconciled</label></div> <!> <div><button class="_2GmYK _1KaG" type="submit"> </button></div></form>');function qr(t,e){var ur,fr;B(e,!1);const n=K(),r=()=>G(it,"$accounts",n),a=()=>G(Rt,"$categoires",n),s=k(),o=k(),c=k(),l=k();let u=O(e,"accountId",8),f=O(e,"transactionDoc",8,null),v=O(e,"defaultTimestamp",8,null),d=k(),p=k(),_=k(),h=k();Ie(()=>{var N;i(p),(N=i(_))==null||N.focus()});let E=f()||{},$=k(Qe(E.kind,()=>ot.Expense,!0)),b=k(E.categoryId),y=k(E.secondAccountId),g=k(Qe(E.comment,"")),m=k(Qe(E.reconciled,!1)),A=k(Mr(new Date(((ur=f())==null?void 0:ur.timestamp)||v()||Date.now()))),C=k(f()?mt(f().amount):""),D=k((fr=f())!=null&&fr.secondAmount?mt(f().secondAmount):"");const J=ne();async function V(){const N=W();if(N){alert(N);return}if(i($)!==ot.Transfer&&!i(b)&&i(h).trim()!==""){const[Nt,Vt=""]=i(h).trim().split(":");if(!a().find(Je=>Je.title===Nt&&Je.subtitle===Vt)){const Je=await Na(Nt,Vt);S(b,Je.id)}}const At=i($)===ot.Transfer?{kind:i($),timestamp:new Date(i(A)).getTime(),accountId:u(),secondAccountId:i(y),...i(l)?{secondAmount:An(i(D))}:{},amount:An(i(C)),comment:i(g).trim(),...i(m)?{reconciled:!0}:{}}:{kind:i($),timestamp:new Date(i(A)).getTime(),accountId:u(),categoryId:i(b)||void 0,amount:An(i(C)),comment:i(g).trim(),...i(m)?{reconciled:!0}:{}};J("save",{params:At})}function W(){if(!Pn(i(C)))return"Invalid amount";if(i($)===ot.Transfer){if(!i(y))return"Must choose the second account";if(i(y)===u())return"Cannot transfer to the same account";if(i(l)&&!Pn(i(D)))return"Invalid second amount"}return""}function Z(){i(d).clear()}function ht(N){N==="<"?S(C,i(C).substring(0,i(C).length-1)):S(C,i(C)+N)}ft(()=>(r(),me(u())),()=>{S(s,r().find(N=>N.id===u()))}),ft(()=>i(s),()=>{var N;S(o,(N=i(s))==null?void 0:N.currencyCode)}),ft(()=>(i(y),r()),()=>{S(c,i(y)?r().find(N=>N.id===i(y)):null)}),ft(()=>(i(c),i(o)),()=>{S(l,i(c)&&i(o)?i(c).currencyCode!==i(o):!1)}),Gt(),U();var at=Ec(),ct=w(at),Tt=w(ct);fc(Tt,{get kind(){return i($)},set kind(N){S($,N)},$$legacy:!0});var tt=x(ct,2),Pt=w(tt);gt(Pt,N=>S(_,N),()=>i(_));var qe=x(Pt,2),xe=x(tt,2),$n=w(xe);nt($n,()=>i($)===ot.Transfer,N=>{cc(N,{get accountId(){return i(y)},set accountId(At){S(y,At)},placeholder:"To",$$legacy:!0})},N=>{var At=bc(),Nt=w(At);gt(hc(Nt,{get categoryId(){return i(b)},set categoryId(wt){S(b,wt)},get value(){return i(h)},set value(wt){S(h,wt)},$$legacy:!0}),wt=>S(d,wt),()=>i(d));var Vt=x(Nt,2);T(()=>Vt.disabled=!i(b)),q("click",Vt,Js(Z)),I(N,At)});var Ce=x(xe,2),Ve=w(Ce),ke=x(Ve);const En=Zt(()=>!Pn(i(C)));T(()=>Qt(ke,"_1lVDQ",i(En))),gt(ke,N=>S(p,N),()=>i(p));var Ye=x(Ce,2);nt(Ye,()=>i(l),N=>{var At=$c(),Nt=w(At),Vt=x(Nt);T(()=>{var wt;return L(Nt,`Amount, ${((wt=i(c))==null?void 0:wt.currencyCode)??""}: `)}),dt(Vt,()=>i(D),wt=>S(D,wt)),I(N,At)});var Te=x(Ye,2),Sn=w(Te),We=x(Te,2),se=w(We),ze=w(se),Ke=x(We,2);wc(Ke,{onkey:ht});var Ha=x(Ke,2),Ga=w(Ha),Ua=w(Ga);T(()=>{var N;L(Ve,`Amount, ${((N=i(s))==null?void 0:N.currencyCode)??""}: `),L(Ua,f()?"Save":"Create")}),dt(Pt,()=>i(A),N=>S(A,N)),q("click",qe,()=>{S(A,Mr(new Date))}),dt(ke,()=>i(C),N=>S(C,N)),dt(Sn,()=>i(g),N=>S(g,N)),Ws(ze,()=>i(m),N=>S(m,N)),q("submit",at,Ut(V)),I(t,at),F()}function Vr(t,e){B(e,!1);const n=K(),r=()=>G(it,"$accounts",n),a=k();let s=O(e,"params",8);const{id:o,tid:c}=s();let l=k();const u=c?null:p(),f=c?[{id:"delete",title:"Delete"}]:null;async function v(_){S(l,await Ao(_))}function d(_){if(c){if(!i(l))return;Co(i(l),_.detail.params).then(()=>{X(`/accounts/${o}`)})}else Bo(_.detail.params).then(h=>{X(`/accounts/${o}?tid=${h.id}`)})}function p(){const[_,h]=location.hash.split("?");if(!h)return null;if(h){const $=new URLSearchParams(h).get("t");if($)return parseInt($)||null}return null}ft(()=>r(),()=>{S(a,r().find(_=>_.id===o))}),Gt(),U(),pt(t,{children:(_,h)=>{var E=vt(),$=z(E);nt($,()=>c,b=>{var y=vt(),g=z(y);Sa(g,()=>v(c),null,m=>{qr(m,{accountId:o,get transactionDoc(){return i(l)},$$events:{save:d}})}),I(b,y)},b=>{qr(b,{accountId:o,defaultTimestamp:u,$$events:{save:d}})}),I(_,E)},$$slots:{default:!0,header:(_,h)=>{var E=Zt(()=>i(a)?`${i(a).title}: Transaction`:"Transaction");_t(_,{slot:"header",get title(){return i(E)},returnPath:`/accounts/${o}`,menuItems:f,$$events:{menu:$=>{switch($.detail.id){case"delete":if(!confirm("Delete transaction?"))return!1;c&&xo(c).then(()=>{X(`/accounts/${o}`)});break}}}})}}}),F()}var Sc=P("<div> </div>");function Ic(t,e){B(e,!1);let n=O(e,"params",24,()=>({}));U();var r=Sc(),a=w(r);T(()=>L(a,`Page Not Found: /${n().wild??""}`)),I(t,r),F()}const xc={"/":Si,"/groups":xi,"/groups/new":Br,"/groups/:id":Br,"/accounts/new":Hr,"/accounts/:id/edit":Hr,"/accounts/:id":Mi,"/accounts/:id/transactions/new":Vr,"/accounts/:id/transactions/:tid":Vr,"/categories":Fi,"/categories/new":Gr,"/categories/:id":Gr,"/currencies":qi,"/rates":Wi,"/report":nc,"/currencies/new":Ur,"/currencies/:cid":Ur,"/settings":Gi,"*":Ic};function Cc(t,e){B(e,!1);let n=k(null);U();var r=vt(),a=z(r);Sa(a,()=>Go,null,s=>{io(s,{routes:xc,$$events:{routeLoaded:o=>{Da.set(i(n)),S(n,{route:o.detail.route,params:o.detail.params})}}})}),I(t,r),F()}Ms(Cc,{target:document.getElementById("app")});
