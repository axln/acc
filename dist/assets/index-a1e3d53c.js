var ur=Object.defineProperty;var ar=(t,e,n)=>e in t?ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pt=(t,e,n)=>(ar(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function S(){}function St(t,e){for(const n in e)t[n]=e[n];return t}function fr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Fn(t){return t()}function Gt(){return Object.create(null)}function re(t){t.forEach(Fn)}function Xe(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dr(t){return Object.keys(t).length===0}function It(t,...e){if(t==null){for(const r of e)r(void 0);return S}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Rt(t){let e;return It(t,n=>e=n)(),e}function Y(t,e,n){t.$$.on_destroy.push(It(e,n))}function Ze(t,e,n,r){if(t){const o=Un(t,e,n,r);return t[0](o)}}function Un(t,e,n,r){return t[1]&&r?St(n.ctx.slice(),t[1](r(e))):n.ctx}function xe(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],l=Math.max(e.dirty.length,o.length);for(let c=0;c<l;c+=1)s[c]=e.dirty[c]|o[c];return s}return e.dirty|o}return e.dirty}function et(t,e,n,r,o,s){if(o){const l=Un(e,n,r,s);t.p(l,o)}}function tt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function _r(t,e,n){return t.set(n),e}function ct(t){return t&&Xe(t.destroy)?t.destroy:S}function h(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function Ee(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function $(t){return document.createElement(t)}function ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function O(){return P(" ")}function x(){return P("")}function F(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Ae(t){return function(e){return e.preventDefault(),t.call(this,e)}}function pr(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function hr(t){return Array.from(t.childNodes)}function R(t,e){e=""+e,t.data!==e&&(t.data=e)}function U(t,e){t.value=e??""}function Ge(t,e,n){for(let r=0;r<t.options.length;r+=1){const o=t.options[r];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Et(t){const e=t.querySelector(":checked");return e&&e.__value}function le(t,e,n){t.classList.toggle(e,!!n)}function mr(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function nt(t,e){return new t(e)}let ze;function _e(t){ze=t}function Je(){if(!ze)throw new Error("Function called outside component initialization");return ze}function We(t){Je().$$.on_mount.push(t)}function gr(t){Je().$$.after_update.push(t)}function br(t){Je().$$.on_destroy.push(t)}function De(){const t=Je();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=mr(e,n,{cancelable:r});return o.slice().forEach(l=>{l.call(t,s)}),!s.defaultPrevented}return!0}}function Ht(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const Oe=[],Q=[];let Be=[];const yt=[],zn=Promise.resolve();let wt=!1;function Vn(){wt||(wt=!0,zn.then(At))}function qn(){return Vn(),zn}function Re(t){Be.push(t)}function ge(t){yt.push(t)}const ht=new Set;let Me=0;function At(){if(Me!==0)return;const t=ze;do{try{for(;Me<Oe.length;){const e=Oe[Me];Me++,_e(e),$r(e.$$)}}catch(e){throw Oe.length=0,Me=0,e}for(_e(null),Oe.length=0,Me=0;Q.length;)Q.pop()();for(let e=0;e<Be.length;e+=1){const n=Be[e];ht.has(n)||(ht.add(n),n())}Be.length=0}while(Oe.length);for(;yt.length;)yt.pop()();wt=!1,ht.clear(),_e(t)}function $r(t){if(t.fragment!==null){t.update(),re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Re)}}function yr(t){const e=[],n=[];Be.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Be=e}const Qe=new Set;let Ce;function se(){Ce={r:0,c:[],p:Ce}}function ce(){Ce.r||re(Ce.c),Ce=Ce.p}function w(t,e){t&&t.i&&(Qe.delete(t),t.i(e))}function k(t,e,n,r){if(t&&t.o){if(Qe.has(t))return;Qe.add(t),Ce.c.push(()=>{Qe.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Xn(t,e){const n=e.token={};function r(o,s,l,c){if(e.token!==n)return;e.resolved=c;let i=e.ctx;l!==void 0&&(i=i.slice(),i[l]=c);const u=o&&(e.current=o)(i);let a=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==s&&f&&(se(),k(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),ce())}):e.block.d(1),u.c(),w(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[s]=u),a&&At()}if(fr(t)){const o=Je();if(t.then(s=>{_e(o),r(e.then,1,e.value,s),_e(null)},s=>{if(_e(o),r(e.catch,2,e.error,s),_e(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function wr(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function He(t,e){t.d(1),e.delete(t.key)}function Jn(t,e){k(t,1,1,()=>{e.delete(t.key)})}function $e(t,e,n,r,o,s,l,c,i,u,a,f){let d=t.length,_=s.length,g=d;const b={};for(;g--;)b[t[g].key]=g;const m=[],y=new Map,v=new Map,I=[];for(g=_;g--;){const j=f(o,s,g),G=n(j);let D=l.get(G);D?r&&I.push(()=>D.p(j,e)):(D=u(G,j),D.c()),y.set(G,m[g]=D),G in b&&v.set(G,Math.abs(g-b[G]))}const C=new Set,T=new Set;function L(j){w(j,1),j.m(c,a),l.set(j.key,j),a=j.first,_--}for(;d&&_;){const j=m[_-1],G=t[d-1],D=j.key,K=G.key;j===G?(a=j.first,d--,_--):y.has(K)?!l.has(D)||C.has(D)?L(j):T.has(K)?d--:v.get(D)>v.get(K)?(T.add(D),L(j)):(C.add(K),d--):(i(G,l),d--)}for(;d--;){const j=t[d];y.has(j.key)||i(j,l)}for(;_;)L(m[_-1]);return re(I),m}function rt(t,e){const n={},r={},o={$$scope:1};let s=t.length;for(;s--;){const l=t[s],c=e[s];if(c){for(const i in l)i in c||(r[i]=1);for(const i in c)o[i]||(n[i]=c[i],o[i]=1);t[s]=c}else for(const i in l)o[i]=1}for(const l in r)l in n||(n[l]=void 0);return n}function ot(t){return typeof t=="object"&&t!==null?t:{}}function be(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function B(t){t&&t.c()}function M(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),Re(()=>{const s=t.$$.on_mount.map(Fn).filter(Xe);t.$$.on_destroy?t.$$.on_destroy.push(...s):re(s),t.$$.on_mount=[]}),o.forEach(Re)}function N(t,e){const n=t.$$;n.fragment!==null&&(yr(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function vr(t,e){t.$$.dirty[0]===-1&&(Oe.push(t),Vn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,r,o,s,l=null,c=[-1]){const i=ze;_e(t);const u=t.$$={fragment:null,ctx:[],props:s,update:S,not_equal:o,bound:Gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Gt(),dirty:c,skip_bound:!1,root:e.target||i.$$.root};l&&l(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(f,d,..._)=>{const g=_.length?_[0]:d;return u.ctx&&o(u.ctx[f],u.ctx[f]=g)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](g),a&&vr(t,f)),d}):[],u.update(),a=!0,re(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=hr(e.target);u.fragment&&u.fragment.l(f),f.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&w(t.$$.fragment),M(t,e.target,e.anchor),At()}_e(i)}class q{constructor(){pt(this,"$$");pt(this,"$$set")}$destroy(){N(this,1),this.$destroy=S}$on(e,n){if(!Xe(n))return S;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!dr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const kr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(kr);const Ne=[];function Wn(t,e){return{subscribe:pe(t,e).subscribe}}function pe(t,e=S){let n;const r=new Set;function o(c){if(z(t,c)&&(t=c,n)){const i=!Ne.length;for(const u of r)u[1](),Ne.push(u,t);if(i){for(let u=0;u<Ne.length;u+=2)Ne[u][0](Ne[u+1]);Ne.length=0}}}function s(c){o(c(t))}function l(c,i=S){const u=[c,i];return r.add(u),r.size===1&&(n=e(o,s)||S),c(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:l}}function Yn(t,e,n){const r=!Array.isArray(t),o=r?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Wn(n,(l,c)=>{let i=!1;const u=[];let a=0,f=S;const d=()=>{if(a)return;f();const g=e(r?u[0]:u,l,c);s?l(g):f=Xe(g)?g:S},_=o.map((g,b)=>It(g,m=>{u[b]=m,a&=~(1<<b),i&&d()},()=>{a|=1<<b}));return i=!0,d(),function(){re(_),f(),i=!1}})}function Cr(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,o,s,l=[],c="",i=t.split("/");for(i[0]||i.shift();o=i.shift();)n=o[0],n==="*"?(l.push("wild"),c+="/(.*)"):n===":"?(r=o.indexOf("?",1),s=o.indexOf(".",1),l.push(o.substring(1,~r?r:~s?s:o.length)),c+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~r?"?":"")+"\\"+o.substring(s))):c+="/"+o;return{keys:l,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}function Sr(t){let e,n,r;const o=[t[2]];var s=t[0];function l(c,i){let u={};if(i!==void 0&&i&4)u=rt(o,[ot(c[2])]);else for(let a=0;a<o.length;a+=1)u=St(u,o[a]);return{props:u}}return s&&(e=nt(s,l(t)),e.$on("routeEvent",t[7])),{c(){e&&B(e.$$.fragment),n=x()},m(c,i){e&&M(e,c,i),A(c,n,i),r=!0},p(c,i){if(i&1&&s!==(s=c[0])){if(e){se();const u=e;k(u.$$.fragment,1,0,()=>{N(u,1)}),ce()}s?(e=nt(s,l(c,i)),e.$on("routeEvent",c[7]),B(e.$$.fragment),w(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else if(s){const u=i&4?rt(o,[ot(c[2])]):{};e.$set(u)}},i(c){r||(e&&w(e.$$.fragment,c),r=!0)},o(c){e&&k(e.$$.fragment,c),r=!1},d(c){c&&E(n),e&&N(e,c)}}}function Ir(t){let e,n,r;const o=[{params:t[1]},t[2]];var s=t[0];function l(c,i){let u={};if(i!==void 0&&i&6)u=rt(o,[i&2&&{params:c[1]},i&4&&ot(c[2])]);else for(let a=0;a<o.length;a+=1)u=St(u,o[a]);return{props:u}}return s&&(e=nt(s,l(t)),e.$on("routeEvent",t[6])),{c(){e&&B(e.$$.fragment),n=x()},m(c,i){e&&M(e,c,i),A(c,n,i),r=!0},p(c,i){if(i&1&&s!==(s=c[0])){if(e){se();const u=e;k(u.$$.fragment,1,0,()=>{N(u,1)}),ce()}s?(e=nt(s,l(c,i)),e.$on("routeEvent",c[6]),B(e.$$.fragment),w(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else if(s){const u=i&6?rt(o,[i&2&&{params:c[1]},i&4&&ot(c[2])]):{};e.$set(u)}},i(c){r||(e&&w(e.$$.fragment,c),r=!0)},o(c){e&&k(e.$$.fragment,c),r=!1},d(c){c&&E(n),e&&N(e,c)}}}function Er(t){let e,n,r,o;const s=[Ir,Sr],l=[];function c(i,u){return i[1]?0:1}return e=c(t),n=l[e]=s[e](t),{c(){n.c(),r=x()},m(i,u){l[e].m(i,u),A(i,r,u),o=!0},p(i,[u]){let a=e;e=c(i),e===a?l[e].p(i,u):(se(),k(l[a],1,1,()=>{l[a]=null}),ce(),n=l[e],n?n.p(i,u):(n=l[e]=s[e](i),n.c()),w(n,1),n.m(r.parentNode,r))},i(i){o||(w(n),o=!0)},o(i){k(n),o=!1},d(i){i&&E(r),l[e].d(i)}}}function Ft(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const Dt=Wn(null,function(e){e(Ft());const n=()=>{e(Ft())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Yn(Dt,t=>t.location);Yn(Dt,t=>t.querystring);const Ut=pe(void 0);async function Z(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await qn(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function Tt(t,e){if(e=Vt(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return zt(t,e),{update(n){n=Vt(n),zt(t,n)}}}function Ar(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function zt(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||Dr(r.currentTarget.getAttribute("href"))})}function Vt(t){return t&&typeof t=="string"?{href:t}:t||{}}function Dr(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function Tr(t,e,n){let{routes:r={}}=e,{prefix:o=""}=e,{restoreScrollState:s=!1}=e;class l{constructor(T,L){if(!L||typeof L!="function"&&(typeof L!="object"||L._sveltesparouter!==!0))throw Error("Invalid component object");if(!T||typeof T=="string"&&(T.length<1||T.charAt(0)!="/"&&T.charAt(0)!="*")||typeof T=="object"&&!(T instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:j,keys:G}=Cr(T);this.path=T,typeof L=="object"&&L._sveltesparouter===!0?(this.component=L.component,this.conditions=L.conditions||[],this.userData=L.userData,this.props=L.props||{}):(this.component=()=>Promise.resolve(L),this.conditions=[],this.props={}),this._pattern=j,this._keys=G}match(T){if(o){if(typeof o=="string")if(T.startsWith(o))T=T.substr(o.length)||"/";else return null;else if(o instanceof RegExp){const D=T.match(o);if(D&&D[0])T=T.substr(D[0].length)||"/";else return null}}const L=this._pattern.exec(T);if(L===null)return null;if(this._keys===!1)return L;const j={};let G=0;for(;G<this._keys.length;){try{j[this._keys[G]]=decodeURIComponent(L[G+1]||"")||null}catch{j[this._keys[G]]=null}G++}return j}async checkConditions(T){for(let L=0;L<this.conditions.length;L++)if(!await this.conditions[L](T))return!1;return!0}}const c=[];r instanceof Map?r.forEach((C,T)=>{c.push(new l(T,C))}):Object.keys(r).forEach(C=>{c.push(new l(C,r[C]))});let i=null,u=null,a={};const f=De();async function d(C,T){await qn(),f(C,T)}let _=null,g=null;s&&(g=C=>{C.state&&(C.state.__svelte_spa_router_scrollY||C.state.__svelte_spa_router_scrollX)?_=C.state:_=null},window.addEventListener("popstate",g),gr(()=>{Ar(_)}));let b=null,m=null;const y=Dt.subscribe(async C=>{b=C;let T=0;for(;T<c.length;){const L=c[T].match(C.location);if(!L){T++;continue}const j={route:c[T].path,location:C.location,querystring:C.querystring,userData:c[T].userData,params:L&&typeof L=="object"&&Object.keys(L).length?L:null};if(!await c[T].checkConditions(j)){n(0,i=null),m=null,d("conditionsFailed",j);return}d("routeLoading",Object.assign({},j));const G=c[T].component;if(m!=G){G.loading?(n(0,i=G.loading),m=G,n(1,u=G.loadingParams),n(2,a={}),d("routeLoaded",Object.assign({},j,{component:i,name:i.name,params:u}))):(n(0,i=null),m=null);const D=await G();if(C!=b)return;n(0,i=D&&D.default||D),m=G}L&&typeof L=="object"&&Object.keys(L).length?n(1,u=L):n(1,u=null),n(2,a=c[T].props),d("routeLoaded",Object.assign({},j,{component:i,name:i.name,params:u})).then(()=>{Ut.set(u)});return}n(0,i=null),m=null,Ut.set(void 0)});br(()=>{y(),g&&window.removeEventListener("popstate",g)});function v(C){Ht.call(this,t,C)}function I(C){Ht.call(this,t,C)}return t.$$set=C=>{"routes"in C&&n(3,r=C.routes),"prefix"in C&&n(4,o=C.prefix),"restoreScrollState"in C&&n(5,s=C.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=s?"manual":"auto")},[i,u,a,r,o,s,v,I]}class Pr extends q{constructor(e){super(),V(this,e,Tr,Er,z,{routes:3,prefix:4,restoreScrollState:5})}}const jr=(t,e)=>e.some(n=>t instanceof n);let qt,Xt;function Lr(){return qt||(qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mr(){return Xt||(Xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kn=new WeakMap,vt=new WeakMap,Qn=new WeakMap,mt=new WeakMap,Pt=new WeakMap;function Nr(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(me(t.result)),o()},l=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Kn.set(n,t)}).catch(()=>{}),Pt.set(e,t),e}function Or(t){if(vt.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),o()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});vt.set(t,e)}let kt={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vt.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qn.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return me(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Br(t){kt=t(kt)}function Gr(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gt(this),e,...n);return Qn.set(r,e.sort?e.sort():[e]),me(r)}:Mr().includes(t)?function(...e){return t.apply(gt(this),e),me(Kn.get(this))}:function(...e){return me(t.apply(gt(this),e))}}function Rr(t){return typeof t=="function"?Gr(t):(t instanceof IDBTransaction&&Or(t),jr(t,Lr())?new Proxy(t,kt):t)}function me(t){if(t instanceof IDBRequest)return Nr(t);if(mt.has(t))return mt.get(t);const e=Rr(t);return e!==t&&(mt.set(t,e),Pt.set(e,t)),e}const gt=t=>Pt.get(t);function Hr(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const l=indexedDB.open(t,e),c=me(l);return r&&l.addEventListener("upgradeneeded",i=>{r(me(l.result),i.oldVersion,i.newVersion,me(l.transaction),i)}),n&&l.addEventListener("blocked",i=>n(i.oldVersion,i.newVersion,i)),c.then(i=>{s&&i.addEventListener("close",()=>s()),o&&i.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const Fr=["get","getKey","getAll","getAllKeys","count"],Ur=["put","add","delete","clear"],bt=new Map;function Jt(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bt.get(e))return bt.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Ur.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Fr.includes(n)))return;const s=async function(l,...c){const i=this.transaction(l,o?"readwrite":"readonly");let u=i.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),o&&i.done]))[0]};return bt.set(e,s),s}Br(t=>({...t,get:(e,n,r)=>Jt(e,n)||t.get(e,n,r),has:(e,n)=>!!Jt(e,n)||t.has(e,n)}));let Se=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var fe=(t=>(t.Expense="EXPENSE",t.Income="INCOME",t.Transfer="TRANSFER",t))(fe||{});const oe=pe([]),ye=pe([]),Te=pe([]),Pe=pe([]),Zn=pe([]),Ve=pe(""),it=pe({}),Wt=[{value:fe.Expense,title:"Expense"},{value:fe.Transfer,title:"Transfer"},{value:fe.Income,title:"Income"}],lt="baseCurrencyCode";let H;const zr=Hr("acc",2,{upgrade(t){t.objectStoreNames.contains("accountGroups")||t.createObjectStore("accountGroups",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("accounts")||t.createObjectStore("accounts",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("currencies")||t.createObjectStore("currencies",{keyPath:"code"}),t.objectStoreNames.contains("categories")||t.createObjectStore("categories",{keyPath:"id"}).createIndex("title",["title","subtitle"]),t.objectStoreNames.contains("entries")||t.createObjectStore("entries",{keyPath:"id"}).createIndex("accountId","accountId"),t.objectStoreNames.contains("transactions")||t.createObjectStore("transactions",{keyPath:"id"}),t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"name"}),t.objectStoreNames.contains("rates")||t.createObjectStore("rates",{keyPath:"code"})}}).then(t=>{H=t});function je(){return H.getAllFromIndex("accounts","title")}function Vr(t){return H.get("accounts",t)}async function qr(t){await H.put("accounts",t),oe.set(await je())}async function Xr(t){const e=await H.get("transactions",t);await Promise.all([H.delete("transactions",t),H.delete("entries",e.entryId),e.secondEntryId?H.delete("entries",e.secondEntryId):null]),await Promise.all([Ie(e.accountId),e.secondAccountId?Ie(e.secondAccountId):null]),oe.set(await je())}async function Jr(t,e){const[n,r]=await Promise.all([H.get("entries",t.entryId),t.secondEntryId?H.get("entries",t.secondEntryId):null]),[o,s,l]=tr(e,t.id,n.id,r?r.id:Se(5));await Promise.all([H.put("transactions",o),H.put("entries",s),l?r?H.put("entries",l):H.add("entries",l):r?H.delete("entries",r.id):null]);const[c,i]=await Promise.all([Ie(o.accountId),o.secondAccountId?Ie(o.secondAccountId):null,t.secondAccountId&&t.secondAccountId!==e.secondAccountId?Ie(t.secondAccountId):null]);(c||i)&&oe.set(await je())}function ut(){return H.getAllFromIndex("accountGroups","title")}function at(){return H.getAllFromIndex("categories","title")}function ft(){return H.getAll("currencies")}function Wr(){return H.getAll("settings")}async function Yr(){return(await H.getAll("rates")).reduce((e,n)=>(e[n.code]=n.rate,e),{})}async function xn(t,e=!0){return(await H.getAllFromIndex("entries","accountId",t)).sort((r,o)=>r.timestamp<o.timestamp?e?1:-1:r.timestamp>o.timestamp?e?-1:1:0)}function Kr(t){return H.get("transactions",t)}async function Qr(t,e){await H.put("accountGroups",{id:Se(5),currencyCode:e,title:t}),ye.set(await ut())}async function Zr(t){await H.put("accountGroups",t),ye.set(await ut())}async function xr(t,e,n){await H.put("accounts",{id:Se(5),title:t,groupId:e,currencyCode:n,balance:0}),oe.set(await je())}async function eo(t,e){await H.put("categories",{id:Se(5),title:t,subtitle:e}),Te.set(await at())}async function er(t){await H.put("settings",t)}async function to(t,e){const n={};await H.delete("rates",e),await Promise.all(t.map(r=>(n[r.code]=r.rate,H.put("rates",r)))),it.set(n)}async function no(t){await H.put("categories",t),Te.set(await at())}async function ro(t,e){await H.put("currencies",{code:t,title:e}),Pe.set(await ft())}async function oo(t){await H.put("currencies",t),Pe.set(await ft())}function tr({kind:t,accountId:e,timestamp:n,categoryId:r,secondAccountId:o,secondAmount:s,amount:l,comment:c,reconciled:i},u,a,f){const d={id:a,timestamp:n,accountId:e,...r?{categoryId:r}:{},transactionId:u,comment:c,amount:t===fe.Income?l:-l,total:0,...i?{reconciled:i}:{}};if(t===fe.Transfer){const _={id:f,timestamp:n,accountId:o,transactionId:u,comment:c,amount:s||l,total:0,...i?{reconciled:i}:{}};return[{id:u,kind:t,timestamp:n,accountId:e,secondAccountId:o,amount:l,...s?{secondAmount:s}:{},comment:c,entryId:d.id,secondEntryId:_.id,...i?{reconciled:i}:{}},d,_]}else return[{id:u,kind:t,timestamp:n,accountId:e,...r?{categoryId:r}:{},amount:l,comment:c,entryId:d.id,...i?{reconciled:i}:{}},d]}async function Ie(t){const e=await xn(t,!1);let n=0;for(const o of e)n+=o.amount,o.total!==n&&await H.put("entries",{...o,total:n});const r=await Vr(t);return r.balance!==n?(await H.put("accounts",{...r,balance:n}),!0):!1}async function lo(t){const e=H.transaction(["entries","transactions"],"readwrite"),n=e.objectStore("entries"),r=e.objectStore("transactions"),[o,s,l]=tr(t,Se(5),Se(5),Se(5));await Promise.all([r.add(o),n.add(s),...l?[n.add(l)]:[],e.done]);const[c,i]=await Promise.all([Ie(o.accountId),o.secondAccountId?Ie(o.secondAccountId):!1]);(c||i)&&oe.set(await je())}async function nr(){const[t,e,n,r,o,s]=await Promise.all([je(),ut(),at(),ft(),Wr(),Yr()]);Pe.set(r),ye.set(e),oe.set(t),Te.set(n),Zn.set(o);const l=so(o);Ve.set(l),delete s[l],it.set(s)}function so(t){for(const e of t)if(e.name===lt)return e.value;return""}async function co(){await zr,await nr()}const io=co();function uo(t){function e(r){r.target instanceof Node&&t.hasAttribute("data-opened")&&(t.contains(r.target)||t.removeAttribute("data-opened"))}function n(r){r.code==="Escape"&&t.hasAttribute("data-opened")&&t.removeAttribute("data-opened")}return document.addEventListener("click",e),document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n),document.removeEventListener("click",e)}}}const ao=t=>({}),Yt=t=>({});function fo(t){let e,n,r,o,s,l,c,i;const u=t[6].default,a=Ze(u,t,t[5],null),f=t[6].content,d=Ze(f,t,t[5],Yt);return{c(){e=$("div"),n=$("div"),a&&a.c(),r=O(),o=$("div"),d&&d.c(),p(n,"class","_2SXNm"),p(o,"class","_27WQU"),p(o,"data-role","popover"),p(e,"class",s="_2LTIc "+t[0])},m(_,g){A(_,e,g),h(e,n),a&&a.m(n,null),h(e,r),h(e,o),d&&d.m(o,null),t[8](e),l=!0,c||(i=[F(n,"click",function(){Xe(t[1]&&t[7])&&(t[1]&&t[7]).apply(this,arguments)}),ct(uo.call(null,e))],c=!0)},p(_,[g]){t=_,a&&a.p&&(!l||g&32)&&et(a,u,t,t[5],l?xe(u,t[5],g,null):tt(t[5]),null),d&&d.p&&(!l||g&32)&&et(d,f,t,t[5],l?xe(f,t[5],g,ao):tt(t[5]),Yt),(!l||g&1&&s!==(s="_2LTIc "+t[0]))&&p(e,"class",s)},i(_){l||(w(a,_),w(d,_),l=!0)},o(_){k(a,_),k(d,_),l=!1},d(_){_&&E(e),a&&a.d(_),d&&d.d(_),t[8](null),c=!1,re(i)}}}function _o(t,e,n){let{$$slots:r={},$$scope:o}=e,s,{class:l=void 0}=e,{clickToggle:c=!0}=e;function i(){s.toggleAttribute("data-opened",!1)}function u(){s.toggleAttribute("data-opened",!0)}const a=()=>{s.toggleAttribute("data-opened")};function f(d){Q[d?"unshift":"push"](()=>{s=d,n(2,s)})}return t.$$set=d=>{"class"in d&&n(0,l=d.class),"clickToggle"in d&&n(1,c=d.clickToggle),"$$scope"in d&&n(5,o=d.$$scope)},[l,c,s,i,u,o,r,a,f]}class rr extends q{constructor(e){super(),V(this,e,_o,fo,z,{class:0,clickToggle:1,close:3,show:4})}get close(){return this.$$.ctx[3]}get show(){return this.$$.ctx[4]}}function Kt(t,e,n){const r=t.slice();return r[3]=e[n],r}function po(t){let e,n=t[3].title+"",r;return{c(){e=$("span"),r=P(n),p(e,"class","_2YoB_")},m(o,s){A(o,e,s),h(e,r)},p(o,s){s&1&&n!==(n=o[3].title+"")&&R(r,n)},d(o){o&&E(e)}}}function ho(t){let e,n=t[3].title+"",r,o,s,l;return{c(){e=$("a"),r=P(n),p(e,"class","_2blFf"),p(e,"href",o=t[3].to),p(e,"draggable",!1)},m(c,i){A(c,e,i),h(e,r),s||(l=ct(Tt.call(null,e)),s=!0)},p(c,i){i&1&&n!==(n=c[3].title+"")&&R(r,n),i&1&&o!==(o=c[3].to)&&p(e,"href",o)},d(c){c&&E(e),s=!1,l()}}}function Qt(t,e){let n,r,o,s,l;function c(a,f){return a[3].to?ho:po}let i=c(e),u=i(e);return{key:t,first:null,c(){n=$("li"),u.c(),r=O(),p(n,"class","_161ne"),p(n,"data-id",o=e[3].id),this.first=n},m(a,f){A(a,n,f),u.m(n,null),h(n,r),s||(l=F(n,"click",e[2]),s=!0)},p(a,f){e=a,i===(i=c(e))&&u?u.p(e,f):(u.d(1),u=i(e),u&&(u.c(),u.m(n,r))),f&1&&o!==(o=e[3].id)&&p(n,"data-id",o)},d(a){a&&E(n),u.d(),s=!1,l()}}}function mo(t){let e,n=[],r=new Map,o=X(t[0]);const s=l=>l[3].id;for(let l=0;l<o.length;l+=1){let c=Kt(t,o,l),i=s(c);r.set(i,n[l]=Qt(i,c))}return{c(){e=$("ul");for(let l=0;l<n.length;l+=1)n[l].c();p(e,"class","_4OB04")},m(l,c){A(l,e,c);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null)},p(l,[c]){c&3&&(o=X(l[0]),n=$e(n,c,s,1,l,o,r,e,He,Qt,null,Kt))},i:S,o:S,d(l){l&&E(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function go(t,e,n){let{items:r=[]}=e;const o=De(),s=l=>{o("menu",{id:l.currentTarget.dataset.id})};return t.$$set=l=>{"items"in l&&n(0,r=l.items)},[r,o,s]}class bo extends q{constructor(e){super(),V(this,e,go,mo,z,{items:0})}}function $o(t){let e,n,r;return{c(){e=ae("svg"),n=ae("line"),r=ae("polyline"),p(n,"x1","19"),p(n,"y1","12"),p(n,"x2","5"),p(n,"y2","12"),p(r,"points","12 19 5 12 12 5"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-arrow-left")},m(o,s){A(o,e,s),h(e,n),h(e,r)},p(o,[s]){s&1&&p(e,"width",o[0]),s&1&&p(e,"height",o[0])},i:S,o:S,d(o){o&&E(e)}}}function yo(t,e,n){let{size:r=24}=e;return t.$$set=o=>{"size"in o&&n(0,r=o.size)},[r]}class wo extends q{constructor(e){super(),V(this,e,yo,$o,z,{size:0})}}function vo(t){let e,n,r;return{c(){e=ae("svg"),n=ae("line"),r=ae("line"),p(n,"x1","12"),p(n,"y1","5"),p(n,"x2","12"),p(n,"y2","19"),p(r,"x1","5"),p(r,"y1","12"),p(r,"x2","19"),p(r,"y2","12"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-plus")},m(o,s){A(o,e,s),h(e,n),h(e,r)},p(o,[s]){s&1&&p(e,"width",o[0]),s&1&&p(e,"height",o[0])},i:S,o:S,d(o){o&&E(e)}}}function ko(t,e,n){let{size:r=24}=e;return t.$$set=o=>{"size"in o&&n(0,r=o.size)},[r]}class Co extends q{constructor(e){super(),V(this,e,ko,vo,z,{size:0})}}function So(t){let e,n,r,o;return{c(){e=ae("svg"),n=ae("line"),r=ae("line"),o=ae("line"),p(n,"x1","3"),p(n,"y1","12"),p(n,"x2","21"),p(n,"y2","12"),p(r,"x1","3"),p(r,"y1","6"),p(r,"x2","21"),p(r,"y2","6"),p(o,"x1","3"),p(o,"y1","18"),p(o,"x2","21"),p(o,"y2","18"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-menu")},m(s,l){A(s,e,l),h(e,n),h(e,r),h(e,o)},p(s,[l]){l&1&&p(e,"width",s[0]),l&1&&p(e,"height",s[0])},i:S,o:S,d(s){s&&E(e)}}}function Io(t,e,n){let{size:r=24}=e;return t.$$set=o=>{"size"in o&&n(0,r=o.size)},[r]}class Eo extends q{constructor(e){super(),V(this,e,Io,So,z,{size:0})}}function Zt(t){let e,n,r,o,s;return n=new wo({}),{c(){e=$("a"),B(n.$$.fragment),p(e,"class","_3SB3X"),p(e,"href",t[1]),p(e,"draggable",!1)},m(l,c){A(l,e,c),M(n,e,null),r=!0,o||(s=ct(Tt.call(null,e)),o=!0)},p(l,c){(!r||c&2)&&p(e,"href",l[1])},i(l){r||(w(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&E(e),N(n),o=!1,s()}}}function xt(t){let e,n,r,o,s;return n=new Co({}),{c(){e=$("a"),B(n.$$.fragment),p(e,"class","_3SB3X"),p(e,"href",t[2]),p(e,"draggable",!1)},m(l,c){A(l,e,c),M(n,e,null),r=!0,o||(s=ct(Tt.call(null,e)),o=!0)},p(l,c){(!r||c&4)&&p(e,"href",l[2])},i(l){r||(w(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&E(e),N(n),o=!1,s()}}}function en(t){let e,n,r={class:"_1qXOD",$$slots:{content:[Do],default:[Ao]},$$scope:{ctx:t}};return e=new rr({props:r}),t[7](e),{c(){B(e.$$.fragment)},m(o,s){M(e,o,s),n=!0},p(o,s){const l={};s&280&&(l.$$scope={dirty:s,ctx:o}),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){t[7](null),N(e,o)}}}function Ao(t){let e,n;return e=new Eo({}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Do(t){let e,n;return e=new bo({props:{slot:"content",items:t[3]}}),e.$on("menu",t[6]),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,o){const s={};o&8&&(s.items=r[3]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function To(t){let e,n,r,o,s,l,c,i,u,a=t[1]&&Zt(t),f=t[2]&&xt(t),d=t[3]&&en(t);return{c(){e=$("header"),n=$("div"),a&&a.c(),r=O(),o=$("h1"),s=P(t[0]),l=O(),c=$("div"),f&&f.c(),i=O(),d&&d.c(),p(n,"class","_1J780"),p(o,"class","_17FA5"),p(c,"class","_3ifcR"),p(e,"class","_2Jb6S")},m(_,g){A(_,e,g),h(e,n),a&&a.m(n,null),h(e,r),h(e,o),h(o,s),h(e,l),h(e,c),f&&f.m(c,null),h(c,i),d&&d.m(c,null),u=!0},p(_,[g]){_[1]?a?(a.p(_,g),g&2&&w(a,1)):(a=Zt(_),a.c(),w(a,1),a.m(n,null)):a&&(se(),k(a,1,1,()=>{a=null}),ce()),(!u||g&1)&&R(s,_[0]),_[2]?f?(f.p(_,g),g&4&&w(f,1)):(f=xt(_),f.c(),w(f,1),f.m(c,i)):f&&(se(),k(f,1,1,()=>{f=null}),ce()),_[3]?d?(d.p(_,g),g&8&&w(d,1)):(d=en(_),d.c(),w(d,1),d.m(c,null)):d&&(se(),k(d,1,1,()=>{d=null}),ce())},i(_){u||(w(a),w(f),w(d),u=!0)},o(_){k(a),k(f),k(d),u=!1},d(_){_&&E(e),a&&a.d(),f&&f.d(),d&&d.d()}}}function Po(t,e,n){let{title:r}=e,{returnPath:o=void 0}=e,{addPath:s=void 0}=e,{menuItems:l=null}=e,c=null;const i=De(),u=f=>{c.close(),i("menu",{id:f.detail.id})};function a(f){Q[f?"unshift":"push"](()=>{c=f,n(4,c)})}return t.$$set=f=>{"title"in f&&n(0,r=f.title),"returnPath"in f&&n(1,o=f.returnPath),"addPath"in f&&n(2,s=f.addPath),"menuItems"in f&&n(3,l=f.menuItems)},[r,o,s,l,c,i,u,a]}class ie extends q{constructor(e){super(),V(this,e,Po,To,z,{title:0,returnPath:1,addPath:2,menuItems:3})}}const jo=t=>({}),tn=t=>({});function Lo(t){let e,n,r;const o=t[1].header,s=Ze(o,t,t[0],tn),l=t[1].default,c=Ze(l,t,t[0],null);return{c(){e=$("main"),s&&s.c(),n=O(),c&&c.c(),p(e,"class","_2HUC4")},m(i,u){A(i,e,u),s&&s.m(e,null),h(e,n),c&&c.m(e,null),r=!0},p(i,[u]){s&&s.p&&(!r||u&1)&&et(s,o,i,i[0],r?xe(o,i[0],u,jo):tt(i[0]),tn),c&&c.p&&(!r||u&1)&&et(c,l,i,i[0],r?xe(l,i[0],u,null):tt(i[0]),null)},i(i){r||(w(s,i),w(c,i),r=!0)},o(i){k(s,i),k(c,i),r=!1},d(i){i&&E(e),s&&s.d(i),c&&c.d(i)}}}function Mo(t,e,n){let{$$slots:r={},$$scope:o}=e;return t.$$set=s=>{"$$scope"in s&&n(0,o=s.$$scope)},[o,r]}class ue extends q{constructor(e){super(),V(this,e,Mo,Lo,z,{})}}const No=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Oo(t){const e=t.getTimezoneOffset()*6e4,n=new Date(t.getTime()-e),r=n.getFullYear(),o=String(n.getUTCMonth()+1).padStart(2,"0"),s=String(n.getUTCDate()).padStart(2,"0"),l=String(n.getUTCHours()).padStart(2,"0"),c=String(n.getUTCMinutes()).padStart(2,"0");return`${r}-${o}-${s}T${l}:${c}`}function or(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),o=r.getFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),l=String(r.getUTCDate()).padStart(2,"0"),c=String(r.getUTCHours()).padStart(2,"0"),i=String(r.getUTCMinutes()).padStart(2,"0");return`${o}-${s}-${l} ${c}:${i}`}function Bo(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),o=r.getUTCFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),l=String(r.getUTCDate()).padStart(2,"0"),c=No[r.getUTCDay()];return`${o}-${s}-${l} ${c}`}function nn(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),o=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0");return`${o}:${s}`}function st(t){return/^[1-9]\d*([.,]\d{1,2})?$/.test(t)}function $t(t){if(/[.,]/.test(t)){let[e,n]=t.split(/[.,]/);return n.length===1&&(n=n+"0"),parseInt(e+n)}else return parseInt(t)*100}function ne(t,e,n){t=Math.round(t);const r=t<0?Math.ceil(t/100):Math.floor(t/100),o=Math.abs(t%100);return(n&&t>0?"+":"")+`${e?Go(r):r}.${String(o).padStart(2,"0")}`}function lr(t,e){const n=Rt(it),r=Rt(Ve),o=n[t]?n[t]:1;return e===r?o:n[e]?o/n[e]:1}function Go(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function Ro(t,e){return t.reduce((n,r)=>(r.currencyCode===e?n+=r.balance:n+=r.balance*lr(r.currencyCode,e),n),0)}function Ho(t,e){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=e,o.click(),URL.revokeObjectURL(r)}function Fo(t){const e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!1,e.onchange=()=>{const n=e.files[0];if(n){const r=new FileReader;r.onload=function(){t(r.result)},r.readAsText(n)}},e.click()}function Uo(t){try{return JSON.parse(t)}catch{return console.warn("JSON parsing failed."),null}}async function zo(){const[t,e,n,r,o,s]=await Promise.all([ft(),ut(),je(),at(),H.getAll("transactions"),H.getAll("entries")]);return{ver:or(Date.now()),currencies:t,accountGroups:e,accounts:n,categories:r,transactions:o,entries:s}}async function Vo(t){if(!confirm("All the data will be overwritten. Are you sure you want to continue?"))return!1;if(qo(t)){const e=H.transaction(["currencies","accountGroups","accounts","categories","transactions","entries"],"readwrite");await Promise.all([e.objectStore("currencies").clear(),e.objectStore("accountGroups").clear(),e.objectStore("accounts").clear(),e.objectStore("categories").clear(),e.objectStore("transactions").clear(),e.objectStore("entries").clear()]);for(const n of t.currencies)await e.objectStore("currencies").put(n);for(const n of t.accountGroups)await e.objectStore("accountGroups").put(n);for(const n of t.accounts)await e.objectStore("accounts").put(n);for(const n of t.categories)await e.objectStore("categories").put(n);for(const n of t.transactions)await e.objectStore("transactions").put(n);for(const n of t.entries)await e.objectStore("entries").put(n);return await e.done,!0}else return alert("Invalid snapshot format."),!1}function qo(t){return!(!t.ver||!t.currencies||!t.accountGroups||!t.categories||!t.categories||!t.transactions||!t.entries)}function Xo(t){let e,n,r,o=t[0].title+"",s,l,c,i=ne(t[0].balance,!0)+"",u,a,f=t[0].currencyCode+"",d,_,g;return{c(){e=$("div"),n=$("div"),r=$("span"),s=P(o),l=O(),c=$("span"),u=P(i),a=O(),d=P(f),p(r,"class","_3HVLl"),p(n,"class","_1gfEY"),p(e,"class","_2kBg8"),p(e,"data-role","account")},m(b,m){A(b,e,m),h(e,n),h(n,r),h(r,s),h(n,l),h(n,c),h(c,u),h(c,a),h(c,d),_||(g=F(e,"click",t[3]),_=!0)},p(b,[m]){m&1&&o!==(o=b[0].title+"")&&R(s,o),m&1&&i!==(i=ne(b[0].balance,!0)+"")&&R(u,i),m&1&&f!==(f=b[0].currencyCode+"")&&R(d,f)},i:S,o:S,d(b){b&&E(e),_=!1,g()}}}function Jo(t,e,n){let{account:r}=e,{editing:o=!1}=e;const s=De(),l=()=>{o||s("account",{id:r.id})};return t.$$set=c=>{"account"in c&&n(0,r=c.account),"editing"in c&&n(1,o=c.editing)},[r,o,s,l]}class Wo extends q{constructor(e){super(),V(this,e,Jo,Xo,z,{account:0,editing:1})}}function rn(t,e,n){const r=t.slice();return r[5]=e[n],r}function on(t,e){let n,r,o;return r=new Wo({props:{account:e[5]}}),r.$on("account",e[4]),{key:t,first:null,c(){n=x(),B(r.$$.fragment),this.first=n},m(s,l){A(s,n,l),M(r,s,l),o=!0},p(s,l){e=s;const c={};l&2&&(c.account=e[5]),r.$set(c)},i(s){o||(w(r.$$.fragment,s),o=!0)},o(s){k(r.$$.fragment,s),o=!1},d(s){s&&E(n),N(r,s)}}}function Yo(t){let e,n,r,o=t[0].title+"",s,l,c,i=ne(t[2],!0)+"",u,a,f=t[0].currencyCode+"",d,_,g=[],b=new Map,m,y=X(t[1]);const v=I=>I[5].id;for(let I=0;I<y.length;I+=1){let C=rn(t,y,I),T=v(C);b.set(T,g[I]=on(T,C))}return{c(){e=$("div"),n=$("div"),r=$("span"),s=P(o),l=O(),c=$("span"),u=P(i),a=O(),d=P(f),_=O();for(let I=0;I<g.length;I+=1)g[I].c();p(r,"class","_2RwqA"),p(n,"class","FmXIb")},m(I,C){A(I,e,C),h(e,n),h(n,r),h(r,s),h(n,l),h(n,c),h(c,u),h(c,a),h(c,d),h(e,_);for(let T=0;T<g.length;T+=1)g[T]&&g[T].m(e,null);m=!0},p(I,[C]){(!m||C&1)&&o!==(o=I[0].title+"")&&R(s,o),(!m||C&4)&&i!==(i=ne(I[2],!0)+"")&&R(u,i),(!m||C&1)&&f!==(f=I[0].currencyCode+"")&&R(d,f),C&2&&(y=X(I[1]),se(),g=$e(g,C,v,1,I,y,b,e,Jn,on,null,rn),ce())},i(I){if(!m){for(let C=0;C<y.length;C+=1)w(g[C]);m=!0}},o(I){for(let C=0;C<g.length;C+=1)k(g[C]);m=!1},d(I){I&&E(e);for(let C=0;C<g.length;C+=1)g[C].d()}}}function Ko(t,e,n){let r,o,s;Y(t,oe,i=>n(3,s=i));let{accountGroup:l}=e;const c=i=>{Z(`/accounts/${i.detail.id}`)};return t.$$set=i=>{"accountGroup"in i&&n(0,l=i.accountGroup)},t.$$.update=()=>{t.$$.dirty&9&&n(1,r=s.filter(i=>i.groupId===l.id)),t.$$.dirty&3&&n(2,o=Ro(r,l.currencyCode))},[l,r,o,s,c]}class Qo extends q{constructor(e){super(),V(this,e,Ko,Yo,z,{accountGroup:0})}}function ln(t,e,n){const r=t.slice();return r[6]=e[n],r}function sn(t){let e,n;return e=new Qo({props:{accountGroup:t[6]}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,o){const s={};o&4&&(s.accountGroup=r[6]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Zo(t){let e,n,r,o,s,l=ne(t[1],!0)+"",c,i,u=(t[0]||"")+"",a,f,d=X(t[2]),_=[];for(let b=0;b<d.length;b+=1)_[b]=sn(ln(t,d,b));const g=b=>k(_[b],1,1,()=>{_[b]=null});return{c(){for(let b=0;b<_.length;b+=1)_[b].c();e=O(),n=$("div"),r=$("div"),r.textContent="Total",o=O(),s=$("div"),c=P(l),i=O(),a=P(u),p(s,"class","_2wBv"),p(n,"class","_3c4Tf")},m(b,m){for(let y=0;y<_.length;y+=1)_[y]&&_[y].m(b,m);A(b,e,m),A(b,n,m),h(n,r),h(n,o),h(n,s),h(s,c),h(s,i),h(s,a),f=!0},p(b,m){if(m&4){d=X(b[2]);let y;for(y=0;y<d.length;y+=1){const v=ln(b,d,y);_[y]?(_[y].p(v,m),w(_[y],1)):(_[y]=sn(v),_[y].c(),w(_[y],1),_[y].m(e.parentNode,e))}for(se(),y=d.length;y<_.length;y+=1)g(y);ce()}(!f||m&2)&&l!==(l=ne(b[1],!0)+"")&&R(c,l),(!f||m&1)&&u!==(u=(b[0]||"")+"")&&R(a,u)},i(b){if(!f){for(let m=0;m<d.length;m+=1)w(_[m]);f=!0}},o(b){_=_.filter(Boolean);for(let m=0;m<_.length;m+=1)k(_[m]);f=!1},d(b){b&&(E(e),E(n)),Ee(_,b)}}}function xo(t){let e,n;return e=new ie({props:{slot:"header",title:"Accounts",addPath:"/accounts/new",menuItems:t[3]}}),e.$on("menu",t[5]),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function el(t){let e,n;return e=new ue({props:{$$slots:{header:[xo],default:[Zo]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&519&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function tl(t,e,n){let r,o,s,l;Y(t,Ve,u=>n(0,o=u)),Y(t,oe,u=>n(4,s=u)),Y(t,ye,u=>n(2,l=u));const c=[{id:"groups",title:"Account Groups",to:"/groups"},{id:"category",title:"Categories",to:"/categories"},{id:"currency",title:"Currencies",to:"/currencies"},{id:"rates",title:"Rates",to:"/rates"},{id:"backup",title:"Backup"},{id:"restore",title:"Restore"}],i=u=>{switch(u.detail.id){case"backup":zo().then(a=>{Ho(a,`${or(Date.now())}.json`)});break;case"restore":Fo(a=>{const f=Uo(a);f&&Vo(f).then(d=>{d&&nr()})});break}};return t.$$.update=()=>{t.$$.dirty&17&&n(1,r=s.reduce((u,a)=>(a.currencyCode===o?u+=a.balance:u+=a.balance*lr(a.currencyCode,o),u),0))},[o,r,l,c,s,i]}class nl extends q{constructor(e){super(),V(this,e,tl,el,z,{})}}function cn(t,e,n){const r=t.slice();return r[2]=e[n],r}function un(t,e){let n,r=e[2].title+"",o,s,l,c,i;return{key:t,first:null,c(){n=$("div"),o=P(r),s=O(),p(n,"class","_3JK5K"),p(n,"data-id",l=e[2].id),this.first=n},m(u,a){A(u,n,a),h(n,o),h(n,s),c||(i=F(n,"click",e[1]),c=!0)},p(u,a){e=u,a&1&&r!==(r=e[2].title+"")&&R(o,r),a&1&&l!==(l=e[2].id)&&p(n,"data-id",l)},d(u){u&&E(n),c=!1,i()}}}function rl(t){let e=[],n=new Map,r,o=X(t[0]);const s=l=>l[2].id;for(let l=0;l<o.length;l+=1){let c=cn(t,o,l),i=s(c);n.set(i,e[l]=un(i,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=x()},m(l,c){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(l,c);A(l,r,c)},p(l,c){c&3&&(o=X(l[0]),e=$e(e,c,s,1,l,o,n,r.parentNode,He,un,r,cn))},d(l){l&&E(r);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function ol(t){let e,n;return e=new ie({props:{slot:"header",title:"Account Groups",returnPath:"/",addPath:"/groups/new"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ll(t){let e,n;return e=new ue({props:{$$slots:{header:[ol],default:[rl]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&33&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function sl(t,e,n){let r;Y(t,ye,s=>n(0,r=s));function o(s){s.target instanceof HTMLElement&&s.target.dataset.id&&Z(`/groups/${s.target.dataset.id}`)}return[r,o]}class cl extends q{constructor(e){super(),V(this,e,sl,ll,z,{})}}function an(t,e,n){const r=t.slice();return r[4]=e[n].code,r[5]=e[n].title,r}function fn(t,e){let n,r,o=e[4]+"",s,l,c=e[5]+"",i,u,a;return{key:t,first:null,c(){n=P(`}
    `),r=$("option"),s=P(o),l=O(),i=P(c),u=O(),r.__value=a=e[4],U(r,r.__value),this.first=n},m(f,d){A(f,n,d),A(f,r,d),h(r,s),h(r,l),h(r,i),h(r,u)},p(f,d){e=f,d&4&&o!==(o=e[4]+"")&&R(s,o),d&4&&c!==(c=e[5]+"")&&R(i,c),d&4&&a!==(a=e[4])&&(r.__value=a,U(r,r.__value))},d(f){f&&(E(n),E(r))}}}function il(t){let e,n,r,o=[],s=new Map,l,c,i=X(t[2]);const u=a=>a[4];for(let a=0;a<i.length;a+=1){let f=an(t,i,a),d=u(f);s.set(d,o[a]=fn(d,f))}return{c(){e=$("select"),n=$("option"),r=P(t[1]);for(let a=0;a<o.length;a+=1)o[a].c();n.__value="",U(n,n.__value),n.disabled=!0,n.selected=!0,n.hidden=!0,p(e,"class","_1kHx0"),e.required=!0,t[0]===void 0&&Re(()=>t[3].call(e))},m(a,f){A(a,e,f),h(e,n),h(n,r);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);Ge(e,t[0],!0),l||(c=F(e,"change",t[3]),l=!0)},p(a,[f]){f&2&&R(r,a[1]),f&4&&(i=X(a[2]),o=$e(o,f,u,1,a,i,s,e,He,fn,null,an)),f&5&&Ge(e,a[0])},i:S,o:S,d(a){a&&E(e);for(let f=0;f<o.length;f+=1)o[f].d();l=!1,c()}}}function ul(t,e,n){let r;Y(t,Pe,c=>n(2,r=c));let{currencyCode:o}=e,{placeholder:s="Currency"}=e;function l(){o=Et(this),n(0,o)}return t.$$set=c=>{"currencyCode"in c&&n(0,o=c.currencyCode),"placeholder"in c&&n(1,s=c.placeholder)},[o,s,r,l]}class dt extends q{constructor(e){super(),V(this,e,ul,il,z,{currencyCode:0,placeholder:1})}}function al(t){let e,n,r,o,s,l,c,i,u,a,f=t[4]?"Save":"Create",d,_,g,b;function m(v){t[7](v)}let y={};return t[1]!==void 0&&(y.currencyCode=t[1]),r=new dt({props:y}),Q.push(()=>be(r,"currencyCode",m)),{c(){e=$("form"),n=$("div"),B(r.$$.fragment),s=O(),l=$("div"),c=$("input"),i=O(),u=$("div"),a=$("button"),d=P(f),p(c,"class","_3xyX_"),p(c,"type","text"),c.disabled=t[3],p(c,"placeholder","Title"),p(a,"class","_2G9AC"),p(a,"type","submit"),a.disabled=t[3],p(e,"class","_3RSQr")},m(v,I){A(v,e,I),h(e,n),M(r,n,null),h(e,s),h(e,l),h(l,c),t[8](c),U(c,t[0]),h(e,i),h(e,u),h(u,a),h(a,d),_=!0,g||(b=[F(c,"input",t[9]),F(e,"submit",Ae(t[5]))],g=!0)},p(v,I){const C={};!o&&I&2&&(o=!0,C.currencyCode=v[1],ge(()=>o=!1)),r.$set(C),(!_||I&8)&&(c.disabled=v[3]),I&1&&c.value!==v[0]&&U(c,v[0]),(!_||I&8)&&(a.disabled=v[3])},i(v){_||(w(r.$$.fragment,v),_=!0)},o(v){k(r.$$.fragment,v),_=!1},d(v){v&&E(e),N(r),t[8](null),g=!1,re(b)}}}function fl(t){let e,n;return e=new ie({props:{slot:"header",title:t[4]?"Account Group":"New Account Group",returnPath:"/groups"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function dl(t){let e,n;return e=new ue({props:{$$slots:{header:[fl],default:[al]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&4111&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function _l(t,e,n){let r;Y(t,ye,b=>n(10,r=b));let{params:o={}}=e;const{id:s}=o;let l=s?r.find(b=>b.id===s):null,c=l?l.title:"",i=l?l.currencyCode:void 0,u,a=!1;We(()=>{u.focus()});function f(){c.trim()&&i?(n(3,a=!0),l?Zr({...l,title:c.trim(),currencyCode:i}).then(()=>{Z("/groups")}).finally(()=>{n(3,a=!1)}):Qr(c,i).then(()=>{Z("/groups")}).finally(()=>{n(3,a=!1)})):alert("All fields must be specified.")}function d(b){i=b,n(1,i)}function _(b){Q[b?"unshift":"push"](()=>{u=b,n(2,u)})}function g(){c=this.value,n(0,c)}return t.$$set=b=>{"params"in b&&n(6,o=b.params)},[c,i,u,a,l,f,o,d,_,g]}class dn extends q{constructor(e){super(),V(this,e,_l,dl,z,{params:6})}}function _n(t,e,n){const r=t.slice();return r[3]=e[n],r}function pn(t){let e,n=t[3].title+"",r,o,s;return{c(){e=$("option"),r=P(n),o=O(),e.__value=s=t[3].id,U(e,e.__value)},m(l,c){A(l,e,c),h(e,r),h(e,o)},p(l,c){c&2&&n!==(n=l[3].title+"")&&R(r,n),c&2&&s!==(s=l[3].id)&&(e.__value=s,U(e,e.__value))},d(l){l&&E(e)}}}function pl(t){let e,n,r,o,s=X(t[1]),l=[];for(let c=0;c<s.length;c+=1)l[c]=pn(_n(t,s,c));return{c(){e=$("select"),n=$("option"),n.textContent="Account Group";for(let c=0;c<l.length;c+=1)l[c].c();p(n,"class","placeholder"),n.__value="",U(n,n.__value),n.disabled=!0,n.selected=!0,n.hidden=!0,p(e,"class","_2Ge4O"),e.required=!0,t[0]===void 0&&Re(()=>t[2].call(e))},m(c,i){A(c,e,i),h(e,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);Ge(e,t[0],!0),r||(o=F(e,"change",t[2]),r=!0)},p(c,[i]){if(i&2){s=X(c[1]);let u;for(u=0;u<s.length;u+=1){const a=_n(c,s,u);l[u]?l[u].p(a,i):(l[u]=pn(a),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=s.length}i&3&&Ge(e,c[0])},i:S,o:S,d(c){c&&E(e),Ee(l,c),r=!1,o()}}}function hl(t,e,n){let r;Y(t,ye,l=>n(1,r=l));let{groupId:o}=e;function s(){o=Et(this),n(0,o)}return t.$$set=l=>{"groupId"in l&&n(0,o=l.groupId)},[o,r,s]}class ml extends q{constructor(e){super(),V(this,e,hl,pl,z,{groupId:0})}}function gl(t){let e,n,r,o,s,l,c,i,u,a,f,d,_,g,b=t[0]?"Save":"Create",m,y,v,I,C;function T(D){t[8](D)}let L={};t[2]!==void 0&&(L.groupId=t[2]),r=new ml({props:L}),Q.push(()=>be(r,"groupId",T));function j(D){t[9](D)}let G={};return t[3]!==void 0&&(G.currencyCode=t[3]),c=new dt({props:G}),Q.push(()=>be(c,"currencyCode",j)),{c(){e=$("form"),n=$("div"),B(r.$$.fragment),s=O(),l=$("div"),B(c.$$.fragment),u=O(),a=$("div"),f=$("input"),d=O(),_=$("div"),g=$("button"),m=P(b),p(f,"class","_3hIGg"),p(f,"type","text"),p(f,"placeholder","Title"),f.disabled=t[5],p(g,"class","J-mxG"),p(g,"type","submit"),g.disabled=t[5],p(e,"class",y="_2Na6L "+t[1])},m(D,K){A(D,e,K),h(e,n),M(r,n,null),h(e,s),h(e,l),M(c,l,null),h(e,u),h(e,a),h(a,f),U(f,t[4]),t[11](f),h(e,d),h(e,_),h(_,g),h(g,m),v=!0,I||(C=[F(f,"input",t[10]),F(e,"submit",Ae(t[7]))],I=!0)},p(D,[K]){const we={};!o&&K&4&&(o=!0,we.groupId=D[2],ge(()=>o=!1)),r.$set(we);const ve={};!i&&K&8&&(i=!0,ve.currencyCode=D[3],ge(()=>i=!1)),c.$set(ve),(!v||K&32)&&(f.disabled=D[5]),K&16&&f.value!==D[4]&&U(f,D[4]),(!v||K&1)&&b!==(b=D[0]?"Save":"Create")&&R(m,b),(!v||K&32)&&(g.disabled=D[5]),(!v||K&2&&y!==(y="_2Na6L "+D[1]))&&p(e,"class",y)},i(D){v||(w(r.$$.fragment,D),w(c.$$.fragment,D),v=!0)},o(D){k(r.$$.fragment,D),k(c.$$.fragment,D),v=!1},d(D){D&&E(e),N(r),N(c),t[11](null),I=!1,re(C)}}}function bl(t,e,n){let{accountDoc:r=null}=e,{class:o=void 0}=e,{groupId:s,currencyCode:l,title:c=""}=r||{},i=!1,u;const a=De();function f(){c.trim()&&s&&l?(n(5,i=!0),a("save",{groupId:s,currencyCode:l,title:c})):alert("Must fill all fields.")}We(()=>{u&&u.focus()});function d(m){s=m,n(2,s)}function _(m){l=m,n(3,l)}function g(){c=this.value,n(4,c)}function b(m){Q[m?"unshift":"push"](()=>{u=m,n(6,u)})}return t.$$set=m=>{"accountDoc"in m&&n(0,r=m.accountDoc),"class"in m&&n(1,o=m.class)},[r,o,s,l,c,i,u,f,d,_,g,b]}class sr extends q{constructor(e){super(),V(this,e,bl,gl,z,{accountDoc:0,class:1})}}function $l(t){let e,n;return e=new sr({props:{class:"_1tO9D"}}),e.$on("save",t[2]),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function yl(t){let e,n;return e=new sr({props:{class:"_1tO9D",accountDoc:t[1]}}),e.$on("save",t[2]),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function wl(t){let e,n,r,o;const s=[yl,$l],l=[];function c(i,u){return i[0]?0:1}return e=c(t),n=l[e]=s[e](t),{c(){n.c(),r=x()},m(i,u){l[e].m(i,u),A(i,r,u),o=!0},p(i,u){n.p(i,u)},i(i){o||(w(n),o=!0)},o(i){k(n),o=!1},d(i){i&&E(r),l[e].d(i)}}}function vl(t){var r;let e,n;return e=new ie({props:{slot:"header",title:t[0]?(r=t[1])==null?void 0:r.title:"New Account",returnPath:"/"}}),{c(){B(e.$$.fragment)},m(o,s){M(e,o,s),n=!0},p:S,i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){N(e,o)}}}function kl(t){let e,n;return e=new ue({props:{$$slots:{header:[vl],default:[wl]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&32&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Cl(t,e,n){let r;Y(t,oe,i=>n(4,r=i));let{params:o={}}=e;const{id:s}=o;let l=s?r.find(i=>i.id===s):null;function c(i){const{title:u,groupId:a,currencyCode:f}=i.detail;s?qr({...l,title:u,groupId:a,currencyCode:f}).then(()=>{Z("/")}):xr(u,a,f).then(()=>{Z("/")})}return t.$$set=i=>{"params"in i&&n(3,o=i.params)},[s,l,c,o]}class hn extends q{constructor(e){super(),V(this,e,Cl,kl,z,{params:3})}}function mn(t){let e,n=t[1].title+"",r,o=t[1].subtitle?`:${t[1].subtitle}`:"",s;return{c(){e=$("span"),r=P(n),s=P(o),p(e,"class","_12oY6")},m(l,c){A(l,e,c),h(e,r),h(e,s)},p(l,c){c&2&&n!==(n=l[1].title+"")&&R(r,n),c&2&&o!==(o=l[1].subtitle?`:${l[1].subtitle}`:"")&&R(s,o)},d(l){l&&E(e)}}}function Sl(t){let e,n,r,o,s=t[0].comment+"",l,c,i,u,a=ne(t[0].amount,!0,!0)+"",f,d,_,g,b=nn(t[0].timestamp)+"",m,y,v,I=ne(t[0].total,!0)+"",C,T,L,j=t[1]&&mn(t);return{c(){e=$("div"),n=$("div"),r=$("div"),o=$("span"),l=P(s),c=O(),j&&j.c(),i=O(),u=$("div"),f=P(a),d=O(),_=$("div"),g=$("div"),m=P(b),y=O(),v=$("div"),C=P(I),p(o,"class","BRMlm"),p(r,"class","_3ibZX"),p(u,"class","_2uKiq"),le(u,"_2TC9s",t[0].amount>0),p(n,"class","_1RLk7"),p(g,"class","mm7AA"),p(v,"class","_1e2eL"),p(_,"class","_3_MwA"),p(e,"class","_3ieFT"),le(e,"GILTz",t[0].reconciled)},m(G,D){A(G,e,D),h(e,n),h(n,r),h(r,o),h(o,l),h(r,c),j&&j.m(r,null),h(n,i),h(n,u),h(u,f),h(e,d),h(e,_),h(_,g),h(g,m),h(_,y),h(_,v),h(v,C),T||(L=F(e,"click",t[4]),T=!0)},p(G,[D]){D&1&&s!==(s=G[0].comment+"")&&R(l,s),G[1]?j?j.p(G,D):(j=mn(G),j.c(),j.m(r,null)):j&&(j.d(1),j=null),D&1&&a!==(a=ne(G[0].amount,!0,!0)+"")&&R(f,a),D&1&&le(u,"_2TC9s",G[0].amount>0),D&1&&b!==(b=nn(G[0].timestamp)+"")&&R(m,b),D&1&&I!==(I=ne(G[0].total,!0)+"")&&R(C,I),D&1&&le(e,"GILTz",G[0].reconciled)},i:S,o:S,d(G){G&&E(e),j&&j.d(),T=!1,L()}}}function Il(t,e,n){let r,o;Y(t,Te,i=>n(3,o=i));let{entry:s}=e;const l=De(),c=()=>{l("transaction",{id:s.transactionId})};return t.$$set=i=>{"entry"in i&&n(0,s=i.entry)},t.$$.update=()=>{t.$$.dirty&9&&n(1,r=s.categoryId?o.find(i=>i.id===s.categoryId):null)},[s,r,l,o,c]}class El extends q{constructor(e){super(),V(this,e,Il,Sl,z,{entry:0})}}function gn(t,e,n){const r=t.slice();return r[7]=e[n],r}function bn(t,e,n){const r=t.slice();return r[10]=e[n],r}function $n(t,e){let n,r,o;return r=new El({props:{entry:e[10]}}),r.$on("transaction",e[6]),{key:t,first:null,c(){n=x(),B(r.$$.fragment),this.first=n},m(s,l){A(s,n,l),M(r,s,l),o=!0},p(s,l){e=s;const c={};l&1&&(c.entry=e[10]),r.$set(c)},i(s){o||(w(r.$$.fragment,s),o=!0)},o(s){k(r.$$.fragment,s),o=!1},d(s){s&&E(n),N(r,s)}}}function yn(t){let e,n,r=t[7]+"",o,s,l,c=ne(t[0][t[7]].total,!0,!0)+"",i,u,a=[],f=new Map,d,_,g=X(t[0][t[7]].entries);const b=m=>m[10].id;for(let m=0;m<g.length;m+=1){let y=bn(t,g,m),v=b(y);f.set(v,a[m]=$n(v,y))}return{c(){e=$("div"),n=$("span"),o=P(r),s=O(),l=$("span"),i=P(c),u=O();for(let m=0;m<a.length;m+=1)a[m].c();d=x(),p(n,"class","AOdh"),p(l,"class","KP4vf"),p(e,"class","_1DJNy")},m(m,y){A(m,e,y),h(e,n),h(n,o),h(e,s),h(e,l),h(l,i),A(m,u,y);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(m,y);A(m,d,y),_=!0},p(m,y){(!_||y&1)&&r!==(r=m[7]+"")&&R(o,r),(!_||y&1)&&c!==(c=ne(m[0][m[7]].total,!0,!0)+"")&&R(i,c),y&5&&(g=X(m[0][m[7]].entries),se(),a=$e(a,y,b,1,m,g,f,d.parentNode,Jn,$n,d,bn),ce())},i(m){if(!_){for(let y=0;y<g.length;y+=1)w(a[y]);_=!0}},o(m){for(let y=0;y<a.length;y+=1)k(a[y]);_=!1},d(m){m&&(E(e),E(u),E(d));for(let y=0;y<a.length;y+=1)a[y].d(m)}}}function Al(t){let e,n,r=X(Object.keys(t[0])),o=[];for(let l=0;l<r.length;l+=1)o[l]=yn(gn(t,r,l));const s=l=>k(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=x()},m(l,c){for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(l,c);A(l,e,c),n=!0},p(l,c){if(c&5){r=X(Object.keys(l[0]));let i;for(i=0;i<r.length;i+=1){const u=gn(l,r,i);o[i]?(o[i].p(u,c),w(o[i],1)):(o[i]=yn(u),o[i].c(),w(o[i],1),o[i].m(e.parentNode,e))}for(se(),i=r.length;i<o.length;i+=1)s(i);ce()}},i(l){if(!n){for(let c=0;c<r.length;c+=1)w(o[c]);n=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)k(o[c]);n=!1},d(l){l&&E(e),Ee(o,l)}}}function Dl(t){let e,n;return e=new ie({props:{slot:"header",title:t[1]?`${t[1].title}`:"Not Found",returnPath:"/",addPath:`/accounts/${t[2]}/transactions/new`,menuItems:t[3]}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,o){const s={};o&2&&(s.title=r[1]?`${r[1].title}`:"Not Found"),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Tl(t){let e,n;return e=new ue({props:{$$slots:{header:[Dl],default:[Al]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&8195&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Pl(t,e,n){let r,o;Y(t,oe,a=>n(5,o=a));let{params:s}=e;const{id:l}=s;let c={};xn(l).then(a=>{n(0,c=a.reduce((f,d)=>{const _=Bo(d.timestamp);return f[_]?f[_].entries.push(d):f[_]={entries:[d],total:0},f},{}));for(const f of Object.values(c))f.total=f.entries.reduce((d,_)=>(d+=_.amount,d),0);console.log("entriesByDays:",c)});const i=[{id:"edit",title:"Edit",to:`/accounts/${l}/edit`}],u=a=>{Z(`/accounts/${l}/transactions/${a.detail.id}`)};return t.$$set=a=>{"params"in a&&n(4,s=a.params)},t.$$.update=()=>{t.$$.dirty&32&&n(1,r=o.find(a=>a.id===l))},[c,r,l,i,s,o,u]}class jl extends q{constructor(e){super(),V(this,e,Pl,Tl,z,{params:4})}}function wn(t,e,n){const r=t.slice();return r[2]=e[n],r}function vn(t,e){let n,r=e[2].title+"",o,s=e[2].subtitle?`:${e[2].subtitle}`:"",l,c,i,u,a;return{key:t,first:null,c(){n=$("div"),o=P(r),l=P(s),c=O(),p(n,"class","_1Hdo"),p(n,"data-id",i=e[2].id),this.first=n},m(f,d){A(f,n,d),h(n,o),h(n,l),h(n,c),u||(a=F(n,"click",e[1]),u=!0)},p(f,d){e=f,d&1&&r!==(r=e[2].title+"")&&R(o,r),d&1&&s!==(s=e[2].subtitle?`:${e[2].subtitle}`:"")&&R(l,s),d&1&&i!==(i=e[2].id)&&p(n,"data-id",i)},d(f){f&&E(n),u=!1,a()}}}function Ll(t){let e=[],n=new Map,r,o=X(t[0]);const s=l=>l[2].id;for(let l=0;l<o.length;l+=1){let c=wn(t,o,l),i=s(c);n.set(i,e[l]=vn(i,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=x()},m(l,c){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(l,c);A(l,r,c)},p(l,c){c&3&&(o=X(l[0]),e=$e(e,c,s,1,l,o,n,r.parentNode,He,vn,r,wn))},d(l){l&&E(r);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function Ml(t){let e,n;return e=new ie({props:{slot:"header",title:"Categories",returnPath:"/",addPath:"/categories/new"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Nl(t){let e,n;return e=new ue({props:{$$slots:{header:[Ml],default:[Ll]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&33&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Ol(t,e,n){let r;Y(t,Te,s=>n(0,r=s));function o(s){if(s.target.dataset.id){const l=s.target.dataset.id;Z(`/categories/${l}`)}}return[r,o]}class Bl extends q{constructor(e){super(),V(this,e,Ol,Nl,z,{})}}function Gl(t){let e,n,r,o,s,l,c,i,u,a;function f(_){t[2](_)}let d={placeholder:"Base Currency"};return t[0]!==void 0&&(d.currencyCode=t[0]),o=new dt({props:d}),Q.push(()=>be(o,"currencyCode",f)),{c(){e=$("form"),n=$("div"),r=P(`Base currency:
      `),B(o.$$.fragment),l=O(),c=$("div"),c.innerHTML='<button class="_19-gA" type="submit">Save</button>',p(e,"class","_1JFP_")},m(_,g){A(_,e,g),h(e,n),h(n,r),M(o,n,null),h(e,l),h(e,c),i=!0,u||(a=F(e,"submit",Ae(t[1])),u=!0)},p(_,g){const b={};!s&&g&1&&(s=!0,b.currencyCode=_[0],ge(()=>s=!1)),o.$set(b)},i(_){i||(w(o.$$.fragment,_),i=!0)},o(_){k(o.$$.fragment,_),i=!1},d(_){_&&E(e),N(o),u=!1,a()}}}function Rl(t){let e,n;return e=new ie({props:{slot:"header",title:"Settings",returnPath:"/"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Hl(t){let e,n;return e=new ue({props:{$$slots:{header:[Rl],default:[Gl]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&17&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Fl(t,e,n){var c;let r;Y(t,Zn,i=>n(3,r=i));let o=(c=r.find(i=>i.name===lt))==null?void 0:c.value;function s(){er({name:lt,value:o}).then(()=>{Z("/")})}function l(i){o=i,n(0,o)}return[o,s,l]}class Ul extends q{constructor(e){super(),V(this,e,Fl,Hl,z,{})}}function kn(t,e,n){const r=t.slice();return r[2]=e[n],r}function Cn(t,e){let n,r,o=e[2].code+"",s,l,c,i=e[2].title+"",u,a,f,d,_;return{key:t,first:null,c(){n=$("div"),r=$("div"),s=P(o),l=O(),c=$("div"),u=P(i),a=O(),p(r,"class","_4jwya"),p(c,"class","_1GjZM"),p(n,"class","_3HmHC"),p(n,"data-role","item"),p(n,"data-code",f=e[2].code),this.first=n},m(g,b){A(g,n,b),h(n,r),h(r,s),h(n,l),h(n,c),h(c,u),h(n,a),d||(_=F(n,"click",e[1]),d=!0)},p(g,b){e=g,b&1&&o!==(o=e[2].code+"")&&R(s,o),b&1&&i!==(i=e[2].title+"")&&R(u,i),b&1&&f!==(f=e[2].code)&&p(n,"data-code",f)},d(g){g&&E(n),d=!1,_()}}}function zl(t){let e=[],n=new Map,r,o=X(t[0]);const s=l=>l[2].code;for(let l=0;l<o.length;l+=1){let c=kn(t,o,l),i=s(c);n.set(i,e[l]=Cn(i,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=x()},m(l,c){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(l,c);A(l,r,c)},p(l,c){c&3&&(o=X(l[0]),e=$e(e,c,s,1,l,o,n,r.parentNode,He,Cn,r,kn))},d(l){l&&E(r);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function Vl(t){let e,n;return e=new ie({props:{slot:"header",title:"Currencies",returnPath:"/",addPath:"/currencies/new"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ql(t){let e,n;return e=new ue({props:{$$slots:{header:[Vl],default:[zl]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&33&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Xl(t,e,n){let r;Y(t,Pe,s=>n(0,r=s));function o(s){if(s.target instanceof HTMLElement){const l=s.target.closest('[data-role="item"]');l instanceof HTMLElement&&l.dataset.code&&Z(`/currencies/${l.dataset.code}`)}}return[r,o]}class Jl extends q{constructor(e){super(),V(this,e,Xl,ql,z,{})}}function Sn(t,e,n){const r=t.slice();return r[11]=e[n].code,r[12]=e,r[13]=n,r}function In(t){let e,n,r=t[11]+"",o,s,l,c,i,u,a,f,d,_,g;function b(){t[7].call(i,t[11])}return{c(){e=$("div"),n=$("div"),o=P(r),s=P(":"),l=O(),c=$("div"),i=$("input"),a=O(),f=$("span"),d=P(t[1]),p(i,"id",u=t[11]),p(i,"class","_234LA"),p(i,"type","text"),le(i,"_2j9gN",!qe(t[2][t[11]])),p(c,"class","gqdmv")},m(m,y){A(m,e,y),h(e,n),h(n,o),h(n,s),h(e,l),h(e,c),h(c,i),U(i,t[2][t[11]]),h(c,a),h(c,f),h(f,d),_||(g=F(i,"input",b),_=!0)},p(m,y){t=m,y&8&&r!==(r=t[11]+"")&&R(o,r),y&8&&u!==(u=t[11])&&p(i,"id",u),y&12&&i.value!==t[2][t[11]]&&U(i,t[2][t[11]]),y&13&&le(i,"_2j9gN",!qe(t[2][t[11]])),y&2&&R(d,t[1])},d(m){m&&E(e),_=!1,g()}}}function En(t){let e,n=t[11]!==t[1]&&In(t);return{c(){n&&n.c(),e=x()},m(r,o){n&&n.m(r,o),A(r,e,o)},p(r,o){r[11]!==r[1]?n?n.p(r,o):(n=In(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(r){r&&E(e),n&&n.d(r)}}}function Wl(t){let e,n,r,o,s,l,c,i,u,a,f;function d(m){t[6](m)}let _={placeholder:"Base Currency"};t[1]!==void 0&&(_.currencyCode=t[1]),o=new dt({props:_}),Q.push(()=>be(o,"currencyCode",d));let g=X(t[3]),b=[];for(let m=0;m<g.length;m+=1)b[m]=En(Sn(t,g,m));return{c(){e=$("form"),n=$("div"),r=P(`Base currency:
      `),B(o.$$.fragment),l=O();for(let m=0;m<b.length;m+=1)b[m].c();c=O(),i=$("div"),i.innerHTML='<button class="_3vC8G" type="submit">Save</button>',p(e,"class","_1SqME")},m(m,y){A(m,e,y),h(e,n),h(n,r),M(o,n,null),h(e,l);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(e,null);h(e,c),h(e,i),u=!0,a||(f=F(e,"submit",Ae(t[4])),a=!0)},p(m,y){const v={};if(!s&&y&2&&(s=!0,v.currencyCode=m[1],ge(()=>s=!1)),o.$set(v),y&15){g=X(m[3]);let I;for(I=0;I<g.length;I+=1){const C=Sn(m,g,I);b[I]?b[I].p(C,y):(b[I]=En(C),b[I].c(),b[I].m(e,c))}for(;I<b.length;I+=1)b[I].d(1);b.length=g.length}},i(m){u||(w(o.$$.fragment,m),u=!0)},o(m){k(o.$$.fragment,m),u=!1},d(m){m&&E(e),N(o),Ee(b,m),a=!1,f()}}}function Yl(t){let e,n;return e=new ie({props:{slot:"header",title:"Rates",returnPath:"/"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Kl(t){let e,n;return e=new ue({props:{$$slots:{header:[Yl],default:[Wl]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&16398&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function qe(t){return/^([1-9]\d*|[0])([.,]\d+)?$/.test(t)}function Ct(t){return parseFloat(t.replace(",","."))}function Ql(t,e,n){let r,o,s;Y(t,Ve,d=>n(8,r=d)),Y(t,Pe,d=>n(3,o=d)),Y(t,it,d=>n(9,s=d));let l=r,c=o.reduce((d,{code:_})=>(d[_]=String(s[_]||1),d),{});function i(){const d=u();if(d){alert(d);return}const _=o.filter(({code:g})=>g!==l).map(({code:g})=>({code:g,rate:Ct(c[g])}));er({name:lt,value:l}).then(()=>(_r(Ve,r=l,r),to(_,l))).then(()=>{Z("/")})}function u(){for(const[d,_]of Object.entries(c))if(!qe(_)){const g=document.getElementById(d);return g&&g.focus(),`Invalid rate for ${d}`}return""}function a(d){l=d,n(1,l)}function f(d){c[d]=this.value,n(2,c)}return[qe,l,c,o,i,Ct,a,f]}class Zl extends q{constructor(e){super(),V(this,e,Ql,Kl,z,{validateRate:0,parseRate:5})}get validateRate(){return qe}get parseRate(){return Ct}}function xl(t){let e,n,r,o,s,l,c,i,u,a,f;return{c(){e=$("form"),n=$("div"),r=$("input"),o=O(),s=$("div"),l=$("input"),c=O(),i=$("div"),u=$("button"),u.textContent=`${t[3]?"Save":"Create"}`,p(r,"type","text"),p(r,"placeholder","Title"),p(n,"class","_1F3oU"),p(l,"type","text"),p(l,"placeholder","Subtitle (optional)"),p(s,"class","_1F3oU"),p(u,"type","submit"),p(i,"class","_1F3oU"),p(e,"class","_2sHk9")},m(d,_){A(d,e,_),h(e,n),h(n,r),U(r,t[0]),t[7](r),h(e,o),h(e,s),h(s,l),U(l,t[1]),h(e,c),h(e,i),h(i,u),a||(f=[F(r,"input",t[6]),F(l,"input",t[8]),F(e,"submit",Ae(t[4]))],a=!0)},p(d,_){_&1&&r.value!==d[0]&&U(r,d[0]),_&2&&l.value!==d[1]&&U(l,d[1])},d(d){d&&E(e),t[7](null),a=!1,re(f)}}}function es(t){let e,n;return e=new ie({props:{slot:"header",title:t[3]?"Category":"New Category",returnPath:"/categories"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ts(t){let e,n;return e=new ue({props:{$$slots:{header:[es],default:[xl]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&2055&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ns(t,e,n){let r;Y(t,Te,g=>n(9,r=g));let{params:o={}}=e;const{id:s}=o;let l=s?r.find(g=>g.id===s):null,c=l?l.title:"",i=l?l.subtitle:"",u;We(()=>{u&&u.focus()});function a(){c.trim()?l?no({...l,title:c.trim(),subtitle:i.trim()}).then(()=>{Z("/categories")}):eo(c.trim(),i.trim()).then(()=>{Z("/categories")}):alert("The title must be specified.")}function f(){c=this.value,n(0,c)}function d(g){Q[g?"unshift":"push"](()=>{u=g,n(2,u)})}function _(){i=this.value,n(1,i)}return t.$$set=g=>{"params"in g&&n(5,o=g.params)},[c,i,u,l,a,o,f,d,_]}class An extends q{constructor(e){super(),V(this,e,ns,ts,z,{params:5})}}function rs(t){let e,n,r,o,s,l,c,i,u,a,f;return{c(){e=$("form"),n=$("div"),r=$("input"),o=O(),s=$("div"),l=$("input"),c=O(),i=$("div"),u=$("button"),u.textContent=`${t[4]?"Save":"Add"}`,p(r,"type","text"),p(r,"placeholder","Code"),r.disabled=t[4]!==null,p(n,"class","EbSwc"),p(l,"type","text"),p(l,"placeholder","Title"),p(s,"class","EbSwc"),p(u,"type","submit"),p(i,"class","EbSwc")},m(d,_){A(d,e,_),h(e,n),h(n,r),U(r,t[0]),t[8](r),h(e,o),h(e,s),h(s,l),U(l,t[1]),t[10](l),h(e,c),h(e,i),h(i,u),a||(f=[F(r,"input",t[7]),F(l,"input",t[9]),F(e,"submit",Ae(t[5]))],a=!0)},p(d,_){_&1&&r.value!==d[0]&&U(r,d[0]),_&2&&l.value!==d[1]&&U(l,d[1])},d(d){d&&E(e),t[8](null),t[10](null),a=!1,re(f)}}}function os(t){let e,n;return e=new ie({props:{slot:"header",title:t[4]?"Currency":"New Currency",returnPath:"/currencies"}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ls(t){let e,n;return e=new ue({props:{$$slots:{header:[os],default:[rs]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&8207&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ss(t,e,n){let r;Y(t,Pe,m=>n(11,r=m));let{params:o={}}=e;const{cid:s}=o;let l=s?r.find(m=>m.code===s):null,c=l?l.code:"",i=l?l.title:"",u,a;function f(){c.trim()&&i.trim()?l?oo({...l,title:i.trim()}).then(()=>{Z("/currencies")}):ro(c.trim(),i.trim()).then(()=>{Z("/currencies")}):alert("Code and title must be specified.")}We(()=>{l?a&&a.focus():u&&u.focus()});function d(){c=this.value,n(0,c)}function _(m){Q[m?"unshift":"push"](()=>{u=m,n(2,u)})}function g(){i=this.value,n(1,i)}function b(m){Q[m?"unshift":"push"](()=>{a=m,n(3,a)})}return t.$$set=m=>{"params"in m&&n(6,o=m.params)},[c,i,u,a,l,f,o,d,_,g,b]}class Dn extends q{constructor(e){super(),V(this,e,ss,ls,z,{params:6})}}function Tn(t,e,n){const r=t.slice();return r[6]=e[n],r}function Pn(t,e,n){const r=t.slice();return r[9]=e[n],r}function jn(t){let e,n=t[9].title+"",r,o;return{c(){e=$("option"),r=P(n),e.__value=o=t[9].id,U(e,e.__value)},m(s,l){A(s,e,l),h(e,r)},p(s,l){l&4&&n!==(n=s[9].title+"")&&R(r,n),l&4&&o!==(o=s[9].id)&&(e.__value=o,U(e,e.__value))},d(s){s&&E(e)}}}function Ln(t){let e,n,r=X(t[6].accounts),o=[];for(let s=0;s<r.length;s+=1)o[s]=jn(Pn(t,r,s));return{c(){e=$("optgroup");for(let s=0;s<o.length;s+=1)o[s].c();p(e,"label",n=t[6].title)},m(s,l){A(s,e,l);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null)},p(s,l){if(l&4){r=X(s[6].accounts);let c;for(c=0;c<r.length;c+=1){const i=Pn(s,r,c);o[c]?o[c].p(i,l):(o[c]=jn(i),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}l&4&&n!==(n=s[6].title)&&p(e,"label",n)},d(s){s&&E(e),Ee(o,s)}}}function cs(t){let e,n,r,o,s,l=X(t[2]),c=[];for(let i=0;i<l.length;i+=1)c[i]=Ln(Tn(t,l,i));return{c(){e=$("select"),n=$("option"),r=P(t[1]);for(let i=0;i<c.length;i+=1)c[i].c();n.__value="",U(n,n.__value),n.disabled=!0,n.selected=!0,n.hidden=!0,p(e,"class","_1vWtV"),e.required=!0,t[0]===void 0&&Re(()=>t[5].call(e))},m(i,u){A(i,e,u),h(e,n),h(n,r);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(e,null);Ge(e,t[0],!0),o||(s=F(e,"change",t[5]),o=!0)},p(i,[u]){if(u&2&&R(r,i[1]),u&4){l=X(i[2]);let a;for(a=0;a<l.length;a+=1){const f=Tn(i,l,a);c[a]?c[a].p(f,u):(c[a]=Ln(f),c[a].c(),c[a].m(e,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=l.length}u&5&&Ge(e,i[0])},i:S,o:S,d(i){i&&E(e),Ee(c,i),o=!1,s()}}}function is(t,e,n){let r,o,s;Y(t,oe,u=>n(3,o=u)),Y(t,ye,u=>n(4,s=u));let{accountId:l}=e,{placeholder:c="Account"}=e;function i(){l=Et(this),n(0,l),n(2,r),n(4,s),n(3,o)}return t.$$set=u=>{"accountId"in u&&n(0,l=u.accountId),"placeholder"in u&&n(1,c=u.placeholder)},t.$$.update=()=>{t.$$.dirty&24&&n(2,r=s.reduce((u,a)=>{const f={title:a.title,accounts:o.filter(d=>d.groupId===a.id)};return u.push(f),u},[]))},[l,c,r,o,s,i]}class us extends q{constructor(e){super(),V(this,e,is,cs,z,{accountId:0,placeholder:1})}}function Mn(t,e,n){const r=t.slice();return r[2]=e[n],r}function Nn(t){let e,n,r;return{c(){e=$("span"),e.textContent=`${t[2].title} `,p(e,"data-value",t[2].value),le(e,"_1zm3o",t[2].value===t[0])},m(o,s){A(o,e,s),n||(r=F(e,"pointerdown",t[1]),n=!0)},p(o,s){s&1&&le(e,"_1zm3o",o[2].value===o[0])},d(o){o&&E(e),n=!1,r()}}}function as(t){let e,n=X(Wt),r=[];for(let o=0;o<n.length;o+=1)r[o]=Nn(Mn(t,n,o));return{c(){e=$("div");for(let o=0;o<r.length;o+=1)r[o].c();p(e,"class","_2dieg")},m(o,s){A(o,e,s);for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(e,null)},p(o,[s]){if(s&3){n=X(Wt);let l;for(l=0;l<n.length;l+=1){const c=Mn(o,n,l);r[l]?r[l].p(c,s):(r[l]=Nn(c),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:S,o:S,d(o){o&&E(e),Ee(r,o)}}}function fs(t,e,n){let{kind:r}=e;function o(s){s.target instanceof HTMLSpanElement&&(console.log("kind:",s.target.dataset.value),n(0,r=s.target.dataset.value))}return t.$$set=s=>{"kind"in s&&n(0,r=s.kind)},[r,o]}class ds extends q{constructor(e){super(),V(this,e,fs,as,z,{kind:0})}}function On(t,e,n){const r=t.slice();return r[7]=e[n],r}function _s(t){let e,n,r;return{c(){e=$("input"),p(e,"class","_1LWF4"),p(e,"type","text"),p(e,"placeholder","Category")},m(o,s){A(o,e,s),t[10](e),U(e,t[3]),n||(r=[F(e,"input",t[11]),F(e,"input",t[6])],n=!0)},p(o,s){s&8&&e.value!==o[3]&&U(e,o[3])},d(o){o&&E(e),t[10](null),n=!1,re(r)}}}function Bn(t){let e;return{c(){e=$("li"),e.textContent="Empty",p(e,"class","_1FJls")},m(n,r){A(n,e,r)},p:S,d(n){n&&E(e)}}}function Gn(t,e){let n,r=e[7].title+"",o,s=e[7].subtitle?`:${e[7].subtitle}`:"",l,c,i;return{key:t,first:null,c(){n=$("li"),o=P(r),l=P(s),c=O(),p(n,"data-id",i=e[7].id),le(n,"_2P4tM",e[7].id===e[0]),this.first=n},m(u,a){A(u,n,a),h(n,o),h(n,l),h(n,c)},p(u,a){e=u,a&25&&r!==(r=e[7].title+"")&&R(o,r),a&25&&s!==(s=e[7].subtitle?`:${e[7].subtitle}`:"")&&R(l,s),a&25&&i!==(i=e[7].id)&&p(n,"data-id",i),a&25&&le(n,"_2P4tM",e[7].id===e[0])},d(u){u&&E(n)}}}function ps(t){let e,n=[],r=new Map,o,s,l=X(t[0]?t[4]:t[4].filter(t[9]));const c=u=>u[7].id;for(let u=0;u<l.length;u+=1){let a=On(t,l,u),f=c(a);r.set(f,n[u]=Gn(f,a))}let i=null;return l.length||(i=Bn()),{c(){e=$("ul");for(let u=0;u<n.length;u+=1)n[u].c();i&&i.c(),p(e,"class","_2VAoI"),p(e,"slot","content")},m(u,a){A(u,e,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);i&&i.m(e,null),o||(s=F(e,"click",t[5]),o=!0)},p(u,a){a&25&&(l=X(u[0]?u[4]:u[4].filter(u[9])),n=$e(n,a,c,1,u,l,r,e,He,Gn,null,On),!l.length&&i?i.p(u,a):l.length?i&&(i.d(1),i=null):(i=Bn(),i.c(),i.m(e,null)))},d(u){u&&E(e);for(let a=0;a<n.length;a+=1)n[a].d();i&&i.d(),o=!1,s()}}}function hs(t){let e,n,r={class:"_3pEZc",clickToggle:!0,$$slots:{content:[ps],default:[_s]},$$scope:{ctx:t}};return e=new rr({props:r}),t[12](e),{c(){B(e.$$.fragment)},m(o,s){M(e,o,s),n=!0},p(o,[s]){const l={};s&32797&&(l.$$scope={dirty:s,ctx:o}),e.$set(l)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){k(e.$$.fragment,o),n=!1},d(o){t[12](null),N(e,o)}}}function Ke(t){return`${t.title}${t.subtitle?`:${t.subtitle}`:""}`}function ms(t,e,n){let r;Y(t,Te,m=>n(4,r=m));let{categoryId:o}=e,s,l;function c(){n(0,o=""),n(3,u="")}let i=o?r.find(m=>m.id===o):null,u=i?Ke(i):"";function a(m){if(m.target instanceof HTMLLIElement){n(0,o=m.target.dataset.id),s.close();const y=r.find(v=>v.id===o);y&&n(3,u=Ke(y))}}function f(){const m=r.find(y=>l.value.trim().toLocaleLowerCase()===Ke(y).toLocaleLowerCase());m?(n(0,o=m.id),n(2,l.value=Ke(m),l)):n(0,o="")}const d=m=>`${m.title}:${m.subtitle}`.toLowerCase().includes(u.trim().toLowerCase());function _(m){Q[m?"unshift":"push"](()=>{l=m,n(2,l)})}function g(){u=this.value,n(3,u)}function b(m){Q[m?"unshift":"push"](()=>{s=m,n(1,s)})}return t.$$set=m=>{"categoryId"in m&&n(0,o=m.categoryId)},[o,s,l,u,r,a,f,i,c,d,_,g,b]}class gs extends q{constructor(e){super(),V(this,e,ms,hs,z,{categoryId:0,clear:8})}get clear(){return this.$$.ctx[8]}}function bs(t){let e,n,r,o,s,l,c,i,u,a;function f(_){t[22](_)}let d={};return t[7]!==void 0&&(d.categoryId=t[7]),n=new gs({props:d}),Q.push(()=>be(n,"categoryId",f)),t[23](n),{c(){e=$("div"),B(n.$$.fragment),o=O(),s=$("button"),l=P("Clear"),p(s,"type","button"),s.disabled=c=!t[7],p(e,"class","_2d6ay")},m(_,g){A(_,e,g),M(n,e,null),h(e,o),h(e,s),h(s,l),i=!0,u||(a=F(s,"click",pr(t[15])),u=!0)},p(_,g){const b={};!r&&g&128&&(r=!0,b.categoryId=_[7],ge(()=>r=!1)),n.$set(b),(!i||g&128&&c!==(c=!_[7]))&&(s.disabled=c)},i(_){i||(w(n.$$.fragment,_),i=!0)},o(_){k(n.$$.fragment,_),i=!1},d(_){_&&E(e),t[23](null),N(n),u=!1,a()}}}function $s(t){let e,n,r;function o(l){t[21](l)}let s={placeholder:"To"};return t[1]!==void 0&&(s.accountId=t[1]),e=new us({props:s}),Q.push(()=>be(e,"accountId",o)),{c(){B(e.$$.fragment)},m(l,c){M(e,l,c),r=!0},p(l,c){const i={};!n&&c&2&&(n=!0,i.accountId=l[1],ge(()=>n=!1)),e.$set(i)},i(l){r||(w(e.$$.fragment,l),r=!0)},o(l){k(e.$$.fragment,l),r=!1},d(l){N(e,l)}}}function Rn(t){var u;let e,n,r=((u=t[2])==null?void 0:u.currencyCode)+"",o,s,l,c,i;return{c(){e=$("div"),n=P("Amount, "),o=P(r),s=P(`:
      `),l=$("input"),p(l,"class","yrEDP"),p(l,"type","text")},m(a,f){A(a,e,f),h(e,n),h(e,o),h(e,s),h(e,l),U(l,t[12]),c||(i=F(l,"input",t[26]),c=!0)},p(a,f){var d;f&4&&r!==(r=((d=a[2])==null?void 0:d.currencyCode)+"")&&R(o,r),f&4096&&l.value!==a[12]&&U(l,a[12])},d(a){a&&E(e),c=!1,i()}}}function ys(t){var Nt;let e,n,r,o,s,l,c,i,u,a,f,d,_,g,b=((Nt=t[3])==null?void 0:Nt.currencyCode)+"",m,y,v,I,C,T,L,j,G,D,K,we,ve,Fe,ke,Le=t[0]?"Save":"Create",Ue,de,J,Ye;function ir(W){t[19](W)}let jt={};t[6]!==void 0&&(jt.kind=t[6]),r=new ds({props:jt}),Q.push(()=>be(r,"kind",ir));const Lt=[$s,bs],he=[];function Mt(W,te){return W[6]===fe.Transfer?0:1}a=Mt(t),f=he[a]=Lt[a](t);let ee=t[13]&&Rn(t);return{c(){e=$("form"),n=$("div"),B(r.$$.fragment),s=O(),l=$("div"),c=$("input"),i=O(),u=$("div"),f.c(),d=O(),_=$("div"),g=P("Amount, "),m=P(b),y=P(`:
    `),v=$("input"),I=O(),ee&&ee.c(),C=O(),T=$("div"),L=$("input"),j=O(),G=$("div"),D=$("label"),K=$("input"),we=P(`
      Reconciled`),ve=O(),Fe=$("div"),ke=$("button"),Ue=P(Le),p(c,"class","yrEDP"),p(c,"type","datetime-local"),p(v,"class","yrEDP"),p(v,"type","text"),le(v,"_3p4li",!st(t[11])),p(L,"class","yrEDP"),p(L,"type","text"),p(L,"placeholder","Comment"),p(K,"type","checkbox"),p(D,"class","_19jWl"),p(ke,"class","DfOJQ"),p(ke,"type","submit"),p(e,"class","_2zOgU")},m(W,te){A(W,e,te),h(e,n),M(r,n,null),h(e,s),h(e,l),h(l,c),U(c,t[10]),h(e,i),h(e,u),he[a].m(u,null),h(e,d),h(e,_),h(_,g),h(_,m),h(_,y),h(_,v),U(v,t[11]),t[25](v),h(e,I),ee&&ee.m(e,null),h(e,C),h(e,T),h(T,L),U(L,t[8]),h(e,j),h(e,G),h(G,D),h(D,K),K.checked=t[9],h(D,we),h(e,ve),h(e,Fe),h(Fe,ke),h(ke,Ue),de=!0,J||(Ye=[F(c,"input",t[20]),F(v,"input",t[24]),F(L,"input",t[27]),F(K,"change",t[28]),F(e,"submit",Ae(t[14]))],J=!0)},p(W,[te]){var Bt;const Ot={};!o&&te&64&&(o=!0,Ot.kind=W[6],ge(()=>o=!1)),r.$set(Ot),te&1024&&U(c,W[10]);let _t=a;a=Mt(W),a===_t?he[a].p(W,te):(se(),k(he[_t],1,1,()=>{he[_t]=null}),ce(),f=he[a],f?f.p(W,te):(f=he[a]=Lt[a](W),f.c()),w(f,1),f.m(u,null)),(!de||te&8)&&b!==(b=((Bt=W[3])==null?void 0:Bt.currencyCode)+"")&&R(m,b),te&2048&&v.value!==W[11]&&U(v,W[11]),(!de||te&2048)&&le(v,"_3p4li",!st(W[11])),W[13]?ee?ee.p(W,te):(ee=Rn(W),ee.c(),ee.m(e,C)):ee&&(ee.d(1),ee=null),te&256&&L.value!==W[8]&&U(L,W[8]),te&512&&(K.checked=W[9]),(!de||te&1)&&Le!==(Le=W[0]?"Save":"Create")&&R(Ue,Le)},i(W){de||(w(r.$$.fragment,W),w(f),de=!0)},o(W){k(r.$$.fragment,W),k(f),de=!1},d(W){W&&E(e),N(r),he[a].d(),t[25](null),ee&&ee.d(),J=!1,re(Ye)}}}function ws(t,e,n){let r,o,s,l,c;Y(t,oe,J=>n(18,c=J));let{accountId:i}=e,{transactionDoc:u=null}=e,a,f;We(()=>{f&&f.focus()});let{kind:d=fe.Expense,categoryId:_,secondAccountId:g,comment:b="",reconciled:m=!1}=u||{},y=Oo(new Date((u==null?void 0:u.timestamp)||Date.now())),v=u?ne(u.amount):"",I=u?ne(u.secondAmount):"";const C=De();function T(){const J=L();if(J){alert(J);return}const Ye=d===fe.Transfer?{kind:d,timestamp:new Date(y).getTime(),accountId:i,secondAccountId:g,...l?{secondAmount:$t(I)}:{},amount:$t(v),comment:b.trim(),...m?{reconciled:!0}:{}}:{kind:d,timestamp:new Date(y).getTime(),accountId:i,categoryId:_||null,amount:$t(v),comment:b.trim(),...m?{reconciled:!0}:{}};C("save",{params:Ye})}function L(){if(!st(v))return"Invalid amount";if(d===fe.Transfer){if(!g)return"Must choose the second account";if(g===i)return"Cannot transfer to the same account";if(l&&!st(I))return"Invalid second amount"}return""}function j(){a.clear()}function G(J){d=J,n(6,d)}function D(){y=this.value,n(10,y)}function K(J){g=J,n(1,g)}function we(J){_=J,n(7,_)}function ve(J){Q[J?"unshift":"push"](()=>{a=J,n(4,a)})}function Fe(){v=this.value,n(11,v)}function ke(J){Q[J?"unshift":"push"](()=>{f=J,n(5,f)})}function Le(){I=this.value,n(12,I)}function Ue(){b=this.value,n(8,b)}function de(){m=this.checked,n(9,m)}return t.$$set=J=>{"accountId"in J&&n(16,i=J.accountId),"transactionDoc"in J&&n(0,u=J.transactionDoc)},t.$$.update=()=>{t.$$.dirty&327680&&n(3,r=c.find(J=>J.id===i)),t.$$.dirty&8&&n(17,o=r==null?void 0:r.currencyCode),t.$$.dirty&262146&&n(2,s=g?c.find(J=>J.id===g):null),t.$$.dirty&131076&&n(13,l=s&&o?s.currencyCode!==o:!1)},[u,g,s,r,a,f,d,_,b,m,y,v,I,l,T,j,i,o,c,G,D,K,we,ve,Fe,ke,Le,Ue,de]}class cr extends q{constructor(e){super(),V(this,e,ws,ys,z,{accountId:16,transactionDoc:0})}}function vs(t){let e,n;return e=new cr({props:{accountId:t[2]}}),e.$on("save",t[6]),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p:S,i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function ks(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Is,then:Ss,catch:Cs,blocks:[,,,]};return Xn(t[5](t[3]),r),{c(){e=x(),r.block.c()},m(o,s){A(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(o,s){t=o,wr(r,t,s)},i(o){n||(w(r.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const l=r.blocks[s];k(l)}n=!1},d(o){o&&E(e),r.block.d(o),r.token=null,r=null}}}function Cs(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Ss(t){let e,n;return e=new cr({props:{accountId:t[2],transactionDoc:t[0]}}),e.$on("save",t[6]),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,o){const s={};o&1&&(s.transactionDoc=r[0]),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Is(t){return{c:S,m:S,p:S,i:S,o:S,d:S}}function Es(t){let e,n,r,o;const s=[ks,vs],l=[];function c(i,u){return i[3]?0:1}return e=c(t),n=l[e]=s[e](t),{c(){n.c(),r=x()},m(i,u){l[e].m(i,u),A(i,r,u),o=!0},p(i,u){n.p(i,u)},i(i){o||(w(n),o=!0)},o(i){k(n),o=!1},d(i){i&&E(r),l[e].d(i)}}}function As(t){let e,n;return e=new ie({props:{slot:"header",title:t[1]?`${t[1].title}: Transaction`:"Transaction",returnPath:`/accounts/${t[2]}`,menuItems:t[4]}}),e.$on("menu",t[9]),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,o){const s={};o&2&&(s.title=r[1]?`${r[1].title}: Transaction`:"Transaction"),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Ds(t){let e,n;return e=new ue({props:{$$slots:{header:[As],default:[Es]},$$scope:{ctx:t}}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},p(r,[o]){const s={};o&1027&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Ts(t,e,n){let r,o;Y(t,oe,_=>n(8,o=_));let{params:s}=e;const{id:l,tid:c}=s;let i;const u=c?[{id:"delete",title:"Delete"}]:null;async function a(_){n(0,i=await Kr(_))}function f(_){c?Jr(i,_.detail.params).then(()=>{Z(`/accounts/${l}`)}):lo(_.detail.params).then(()=>{Z(`/accounts/${l}`)})}const d=_=>{switch(_.detail.id){case"delete":if(!confirm("Delete transaction?"))return!1;c&&Xr(c).then(()=>{Z(`/accounts/${l}`)});break}};return t.$$set=_=>{"params"in _&&n(7,s=_.params)},t.$$.update=()=>{t.$$.dirty&256&&n(1,r=o.find(_=>_.id===l))},[i,r,l,c,u,a,f,s,o,d]}class Hn extends q{constructor(e){super(),V(this,e,Ts,Ds,z,{params:7})}}function Ps(t){let e,n,r=t[0].wild+"",o;return{c(){e=$("div"),n=P("Page Not Found: /"),o=P(r)},m(s,l){A(s,e,l),h(e,n),h(e,o)},p(s,[l]){l&1&&r!==(r=s[0].wild+"")&&R(o,r)},i:S,o:S,d(s){s&&E(e)}}}function js(t,e,n){let{params:r={}}=e;return t.$$set=o=>{"params"in o&&n(0,r=o.params)},[r]}class Ls extends q{constructor(e){super(),V(this,e,js,Ps,z,{params:0})}}const Ms={"/":nl,"/groups":cl,"/groups/new":dn,"/groups/:id":dn,"/accounts/new":hn,"/accounts/:id/edit":hn,"/accounts/:id":jl,"/accounts/:id/transactions/new":Hn,"/accounts/:id/transactions/:tid":Hn,"/categories":Bl,"/categories/new":An,"/categories/:id":An,"/currencies":Jl,"/rates":Zl,"/currencies/new":Dn,"/currencies/:cid":Dn,"/settings":Ul,"*":Ls};function Ns(t){return{c:S,m:S,i:S,o:S,d:S}}function Os(t){let e,n;return e=new Pr({props:{routes:Ms}}),{c(){B(e.$$.fragment)},m(r,o){M(e,r,o),n=!0},i(r){n||(w(e.$$.fragment,r),n=!0)},o(r){k(e.$$.fragment,r),n=!1},d(r){N(e,r)}}}function Bs(t){return{c:S,m:S,i:S,o:S,d:S}}function Gs(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Bs,then:Os,catch:Ns,blocks:[,,,]};return Xn(io,r),{c(){e=x(),r.block.c()},m(o,s){A(o,e,s),r.block.m(o,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e,n=!0},p(o,[s]){t=o},i(o){n||(w(r.block),n=!0)},o(o){for(let s=0;s<3;s+=1){const l=r.blocks[s];k(l)}n=!1},d(o){o&&E(e),r.block.d(o),r.token=null,r=null}}}class Rs extends q{constructor(e){super(),V(this,e,null,Gs,z,{})}}new Rs({target:document.getElementById("app")});
