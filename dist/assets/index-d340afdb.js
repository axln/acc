var Yn=Object.defineProperty;var Zn=(t,e,r)=>e in t?Yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var at=(t,e,r)=>(Zn(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function k(){}function tt(t,e){for(const r in e)t[r]=e[r];return t}function xn(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Mn(t){return t()}function Nt(){return Object.create(null)}function ue(t){t.forEach(Mn)}function ct(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function er(t){return Object.keys(t).length===0}function Pn(t,...e){if(t==null){for(const n of e)n(void 0);return k}const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function x(t,e,r){t.$$.on_destroy.push(Pn(e,r))}function Oe(t,e,r,n){if(t){const o=On(t,e,r,n);return t[0](o)}}function On(t,e,r,n){return t[1]&&n?tt(r.ctx.slice(),t[1](n(e))):r.ctx}function Ge(t,e,r,n){if(t[2]&&n){const o=t[2](n(r));if(e.dirty===void 0)return o;if(typeof o=="object"){const c=[],l=Math.max(e.dirty.length,o.length);for(let s=0;s<l;s+=1)c[s]=e.dirty[s]|o[s];return c}return e.dirty|o}return e.dirty}function Le(t,e,r,n,o,c){if(o){const l=On(e,r,n,c);t.p(l,o)}}function Re(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function jt(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function tr(t){return t&&ct(t.destroy)?t.destroy:k}function m(t,e){t.appendChild(e)}function I(t,e,r){t.insertBefore(e,r||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function ze(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function w(t){return document.createElement(t)}function he(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function B(){return L(" ")}function oe(){return L("")}function J(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Ve(t){return function(e){return e.preventDefault(),t.call(this,e)}}function nr(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function p(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function rr(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.data!==e&&(t.data=e)}function V(t,e){t.value=e??""}function $e(t,e,r){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Ze(t){const e=t.querySelector(":checked");return e&&e.__value}function Ue(t,e,r){t.classList.toggle(e,!!r)}function or(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function Bt(t,e){return new t(e)}let Xe;function be(t){Xe=t}function Ke(){if(!Xe)throw new Error("Function called outside component initialization");return Xe}function Je(t){Ke().$$.on_mount.push(t)}function cr(t){Ke().$$.on_destroy.push(t)}function We(){const t=Ke();return(e,r,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const c=or(e,r,{cancelable:n});return o.slice().forEach(l=>{l.call(t,c)}),!c.defaultPrevented}return!0}}function ft(t,e){return Ke().$$.context.set(t,e),e}function bt(t){return Ke().$$.context.get(t)}const Me=[],re=[];let Pe=[];const yt=[],lr=Promise.resolve();let wt=!1;function sr(){wt||(wt=!0,lr.then(At))}function ke(t){Pe.push(t)}function He(t){yt.push(t)}const dt=new Set;let je=0;function At(){if(je!==0)return;const t=Xe;do{try{for(;je<Me.length;){const e=Me[je];je++,be(e),ir(e.$$)}}catch(e){throw Me.length=0,je=0,e}for(be(null),Me.length=0,je=0;re.length;)re.pop()();for(let e=0;e<Pe.length;e+=1){const r=Pe[e];dt.has(r)||(dt.add(r),r())}Pe.length=0}while(Me.length);for(;yt.length;)yt.pop()();wt=!1,dt.clear(),be(t)}function ir(t){if(t.fragment!==null){t.update(),ue(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ke)}}function ur(t){const e=[],r=[];Pe.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),Pe=e}const et=new Set;let Ae;function le(){Ae={r:0,c:[],p:Ae}}function se(){Ae.r||ue(Ae.c),Ae=Ae.p}function y(t,e){t&&t.i&&(et.delete(t),t.i(e))}function v(t,e,r,n){if(t&&t.o){if(et.has(t))return;et.add(t),Ae.c.push(()=>{et.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Ye(t,e){const r=e.token={};function n(o,c,l,s){if(e.token!==r)return;e.resolved=s;let i=e.ctx;l!==void 0&&(i=i.slice(),i[l]=s);const u=o&&(e.current=o)(i);let a=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==c&&f&&(le(),v(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),se())}):e.block.d(1),u.c(),y(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[c]=u),a&&At()}if(xn(t)){const o=Ke();if(t.then(c=>{be(o),n(e.then,1,e.value,c),be(null)},c=>{if(be(o),n(e.catch,2,e.error,c),be(null),!e.hasCatch)throw c}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function Gn(t,e,r){const n=e.slice(),{resolved:o}=t;t.current===t.then&&(n[t.value]=o),t.current===t.catch&&(n[t.error]=o),t.block.p(n,r)}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function qe(t,e){t.d(1),e.delete(t.key)}function Ln(t,e){v(t,1,1,()=>{e.delete(t.key)})}function Se(t,e,r,n,o,c,l,s,i,u,a,f){let d=t.length,_=c.length,h=d;const g={};for(;h--;)g[t[h].key]=h;const b=[],S=new Map,M=new Map,T=[];for(h=_;h--;){const j=f(o,c,h),O=r(j);let A=l.get(O);A?n&&T.push(()=>A.p(j,e)):(A=u(O,j),A.c()),S.set(O,b[h]=A),O in g&&M.set(O,Math.abs(h-g[O]))}const G=new Set,U=new Set;function P(j){y(j,1),j.m(s,a),l.set(j.key,j),a=j.first,_--}for(;d&&_;){const j=b[_-1],O=t[d-1],A=j.key,Y=O.key;j===O?(a=j.first,d--,_--):S.has(Y)?!l.has(A)||G.has(A)?P(j):U.has(Y)?d--:M.get(A)>M.get(Y)?(U.add(A),P(j)):(G.add(Y),d--):(i(O,l),d--)}for(;d--;){const j=t[d];S.has(j.key)||i(j,l)}for(;_;)P(b[_-1]);return ue(T),b}function Mt(t,e){const r={},n={},o={$$scope:1};let c=t.length;for(;c--;){const l=t[c],s=e[c];if(s){for(const i in l)i in s||(n[i]=1);for(const i in s)o[i]||(r[i]=s[i],o[i]=1);t[c]=s}else for(const i in l)o[i]=1}for(const l in n)l in r||(r[l]=void 0);return r}function xe(t){return typeof t=="object"&&t!==null?t:{}}function Fe(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function N(t){t&&t.c()}function D(t,e,r){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,r),ke(()=>{const c=t.$$.on_mount.map(Mn).filter(ct);t.$$.on_destroy?t.$$.on_destroy.push(...c):ue(c),t.$$.on_mount=[]}),o.forEach(ke)}function E(t,e){const r=t.$$;r.fragment!==null&&(ur(r.after_update),ue(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ar(t,e){t.$$.dirty[0]===-1&&(Me.push(t),sr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,r,n,o,c,l,s=[-1]){const i=Xe;be(t);const u=t.$$={fragment:null,ctx:[],props:c,update:k,not_equal:o,bound:Nt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Nt(),dirty:s,skip_bound:!1,root:e.target||i.$$.root};l&&l(u.root);let a=!1;if(u.ctx=r?r(t,e.props||{},(f,d,..._)=>{const h=_.length?_[0]:d;return u.ctx&&o(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),a&&ar(t,f)),d}):[],u.update(),a=!0,ue(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=rr(e.target);u.fragment&&u.fragment.l(f),f.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),D(t,e.target,e.anchor),At()}be(i)}class Q{constructor(){at(this,"$$");at(this,"$$set")}$destroy(){E(this,1),this.$destroy=k}$on(e,r){if(!ct(r))return k;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const o=n.indexOf(r);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!er(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fr);const Pt={},vt={},dr={},Rn=/^:(.+)/,Ot=4,_r=3,pr=2,mr=1,hr=1,kt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),_t=t=>t.replace(/(^\/+|\/+$)/g,""),gr=(t,e)=>{const r=t.default?0:kt(t.path).reduce((n,o)=>(n+=Ot,o===""?n+=hr:Rn.test(o)?n+=pr:o[0]==="*"?n-=Ot+mr:n+=_r,n),0);return{route:t,score:r,index:e}},$r=t=>t.map(gr).sort((e,r)=>e.score<r.score?1:e.score>r.score?-1:e.index-r.index),Gt=(t,e)=>{let r,n;const[o]=e.split("?"),c=kt(o),l=c[0]==="",s=$r(t);for(let i=0,u=s.length;i<u;i++){const a=s[i].route;let f=!1;if(a.default){n={route:a,params:{},uri:e};continue}const d=kt(a.path),_={},h=Math.max(c.length,d.length);let g=0;for(;g<h;g++){const b=d[g],S=c[g];if(b&&b[0]==="*"){const T=b==="*"?"*":b.slice(1);_[T]=c.slice(g).map(decodeURIComponent).join("/");break}if(typeof S>"u"){f=!0;break}const M=Rn.exec(b);if(M&&!l){const T=decodeURIComponent(S);_[M[1]]=T}else if(b!==S){f=!0;break}}if(!f){r={route:a,params:_,uri:"/"+c.slice(0,g).join("/")};break}}return r||n||null},Lt=(t,e)=>`${_t(e==="/"?t:`${_t(t)}/${_t(e)}`)}/`,Un=()=>typeof window<"u"&&"document"in window&&"location"in window,br=t=>({params:t&4}),Rt=t=>({params:t[2]});function Ut(t){let e,r,n,o;const c=[wr,yr],l=[];function s(i,u){return i[0]?0:1}return e=s(t),r=l[e]=c[e](t),{c(){r.c(),n=oe()},m(i,u){l[e].m(i,u),I(i,n,u),o=!0},p(i,u){let a=e;e=s(i),e===a?l[e].p(i,u):(le(),v(l[a],1,1,()=>{l[a]=null}),se(),r=l[e],r?r.p(i,u):(r=l[e]=c[e](i),r.c()),y(r,1),r.m(n.parentNode,n))},i(i){o||(y(r),o=!0)},o(i){v(r),o=!1},d(i){i&&C(n),l[e].d(i)}}}function yr(t){let e;const r=t[8].default,n=Oe(r,t,t[7],Rt);return{c(){n&&n.c()},m(o,c){n&&n.m(o,c),e=!0},p(o,c){n&&n.p&&(!e||c&132)&&Le(n,r,o,o[7],e?Ge(r,o[7],c,br):Re(o[7]),Rt)},i(o){e||(y(n,o),e=!0)},o(o){v(n,o),e=!1},d(o){n&&n.d(o)}}}function wr(t){let e,r,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Sr,then:kr,catch:vr,value:12,blocks:[,,,]};return Ye(r=t[0],o),{c(){e=oe(),o.block.c()},m(c,l){I(c,e,l),o.block.m(c,o.anchor=l),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(c,l){t=c,o.ctx=t,l&1&&r!==(r=t[0])&&Ye(r,o)||Gn(o,t,l)},i(c){n||(y(o.block),n=!0)},o(c){for(let l=0;l<3;l+=1){const s=o.blocks[l];v(s)}n=!1},d(c){c&&C(e),o.block.d(c),o.token=null,o=null}}}function vr(t){return{c:k,m:k,p:k,i:k,o:k,d:k}}function kr(t){var s;let e,r,n;const o=[t[2],t[3]];var c=((s=t[12])==null?void 0:s.default)||t[12];function l(i,u){let a={};if(u!==void 0&&u&12)a=Mt(o,[u&4&&xe(i[2]),u&8&&xe(i[3])]);else for(let f=0;f<o.length;f+=1)a=tt(a,o[f]);return{props:a}}return c&&(e=Bt(c,l(t))),{c(){e&&N(e.$$.fragment),r=oe()},m(i,u){e&&D(e,i,u),I(i,r,u),n=!0},p(i,u){var a;if(u&1&&c!==(c=((a=i[12])==null?void 0:a.default)||i[12])){if(e){le();const f=e;v(f.$$.fragment,1,0,()=>{E(f,1)}),se()}c?(e=Bt(c,l(i,u)),N(e.$$.fragment),y(e.$$.fragment,1),D(e,r.parentNode,r)):e=null}else if(c){const f=u&12?Mt(o,[u&4&&xe(i[2]),u&8&&xe(i[3])]):{};e.$set(f)}},i(i){n||(e&&y(e.$$.fragment,i),n=!0)},o(i){e&&v(e.$$.fragment,i),n=!1},d(i){i&&C(r),e&&E(e,i)}}}function Sr(t){return{c:k,m:k,p:k,i:k,o:k,d:k}}function Cr(t){let e,r,n=t[1]&&t[1].route===t[5]&&Ut(t);return{c(){n&&n.c(),e=oe()},m(o,c){n&&n.m(o,c),I(o,e,c),r=!0},p(o,[c]){o[1]&&o[1].route===o[5]?n?(n.p(o,c),c&2&&y(n,1)):(n=Ut(o),n.c(),y(n,1),n.m(e.parentNode,e)):n&&(le(),v(n,1,1,()=>{n=null}),se())},i(o){r||(y(n),r=!0)},o(o){v(n),r=!1},d(o){o&&C(e),n&&n.d(o)}}}function Ir(t,e,r){let n,{$$slots:o={},$$scope:c}=e,{path:l=""}=e,{component:s=null}=e,i={},u={};const{registerRoute:a,unregisterRoute:f,activeRoute:d}=bt(vt);x(t,d,h=>r(1,n=h));const _={path:l,default:l===""};return a(_),cr(()=>{f(_)}),t.$$set=h=>{r(11,e=tt(tt({},e),jt(h))),"path"in h&&r(6,l=h.path),"component"in h&&r(0,s=h.component),"$$scope"in h&&r(7,c=h.$$scope)},t.$$.update=()=>{if(n&&n.route===_){r(2,i=n.params);const{component:h,path:g,...b}=e;r(3,u=b),h&&(h.toString().startsWith("class ")?r(0,s=h):r(0,s=h())),Un()&&(window==null||window.scrollTo(0,0))}},e=jt(e),[s,n,i,u,d,_,l,c,o]}class te extends Q{constructor(e){super(),q(this,e,Ir,Cr,W,{path:6,component:0})}}const Be=[];function Ar(t,e){return{subscribe:ge(t,e).subscribe}}function ge(t,e=k){let r;const n=new Set;function o(s){if(W(t,s)&&(t=s,r)){const i=!Be.length;for(const u of n)u[1](),Be.push(u,t);if(i){for(let u=0;u<Be.length;u+=2)Be[u][0](Be[u+1]);Be.length=0}}}function c(s){o(s(t))}function l(s,i=k){const u=[s,i];return n.add(u),n.size===1&&(r=e(o,c)||k),s(t),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:o,update:c,subscribe:l}}function Dr(t,e,r){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=e.length<2;return Ar(r,(l,s)=>{let i=!1;const u=[];let a=0,f=k;const d=()=>{if(a)return;f();const h=e(n?u[0]:u,l,s);c?l(h):f=ct(h)?h:k},_=o.map((h,g)=>Pn(h,b=>{u[g]=b,a&=~(1<<g),i&&d()},()=>{a|=1<<g}));return i=!0,d(),function(){ue(_),f(),i=!1}})}const pt=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Er=t=>{const e=[];let r=pt(t);return{get location(){return r},listen(n){e.push(n);const o=()=>{r=pt(t),n({location:r,action:"POP"})};return t.addEventListener("popstate",o),()=>{t.removeEventListener("popstate",o);const c=e.indexOf(n);e.splice(c,1)}},navigate(n,{state:o,replace:c=!1}={}){o={...o,key:Date.now()+""};try{c?t.history.replaceState(o,"",n):t.history.pushState(o,"",n)}catch{t.location[c?"replace":"assign"](n)}r=pt(t),e.forEach(l=>l({location:r,action:"PUSH"})),document.activeElement.blur()}}},Tr=(t="/")=>{let e=0;const r=[{pathname:t,search:""}],n=[];return{get location(){return r[e]},addEventListener(o,c){},removeEventListener(o,c){},history:{get entries(){return r},get index(){return e},get state(){return n[e]},pushState(o,c,l){const[s,i=""]=l.split("?");e++,r.push({pathname:s,search:i}),n.push(o)},replaceState(o,c,l){const[s,i=""]=l.split("?");r[e]={pathname:s,search:i},n[e]=o}}}},Hn=Er(Un()?window:Tr()),{navigate:F}=Hn,Nr=t=>({route:t&2,location:t&1}),Ht=t=>({route:t[1]&&t[1].uri,location:t[0]});function jr(t){let e;const r=t[12].default,n=Oe(r,t,t[11],Ht);return{c(){n&&n.c()},m(o,c){n&&n.m(o,c),e=!0},p(o,[c]){n&&n.p&&(!e||c&2051)&&Le(n,r,o,o[11],e?Ge(r,o[11],c,Nr):Re(o[11]),Ht)},i(o){e||(y(n,o),e=!0)},o(o){v(n,o),e=!1},d(o){n&&n.d(o)}}}function Br(t,e,r){let n,o,c,l,{$$slots:s={},$$scope:i}=e,{basepath:u="/"}=e,{url:a=null}=e,{history:f=Hn}=e;ft(dr,f);const d=bt(Pt),_=bt(vt),h=ge([]);x(t,h,P=>r(9,o=P));const g=ge(null);x(t,g,P=>r(1,l=P));let b=!1;const S=d||ge(a?{pathname:a}:f.location);x(t,S,P=>r(0,n=P));const M=_?_.routerBase:ge({path:u,uri:u});x(t,M,P=>r(10,c=P));const T=Dr([M,g],([P,j])=>{if(!j)return P;const{path:O}=P,{route:A,uri:Y}=j;return{path:A.default?O:A.path.replace(/\*.*$/,""),uri:Y}}),G=P=>{const{path:j}=c;let{path:O}=P;if(P._path=O,P.path=Lt(j,O),typeof window>"u"){if(b)return;const A=Gt([P],n.pathname);A&&(g.set(A),b=!0)}else h.update(A=>[...A,P])},U=P=>{h.update(j=>j.filter(O=>O!==P))};return d||(Je(()=>f.listen(j=>{S.set(j.location)})),ft(Pt,S)),ft(vt,{activeRoute:g,base:M,routerBase:T,registerRoute:G,unregisterRoute:U}),t.$$set=P=>{"basepath"in P&&r(6,u=P.basepath),"url"in P&&r(7,a=P.url),"history"in P&&r(8,f=P.history),"$$scope"in P&&r(11,i=P.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:P}=c;h.update(j=>j.map(O=>Object.assign(O,{path:Lt(P,O._path)})))}if(t.$$.dirty&513){const P=Gt(o,n.pathname);g.set(P)}},[n,l,h,g,S,M,u,a,f,o,c,i,s]}class Mr extends Q{constructor(e){super(),q(this,e,Br,jr,W,{basepath:6,url:7,history:8})}}function Pr(t){function e(n){n.target instanceof Node&&t.hasAttribute("data-opened")&&(t.contains(n.target)||t.removeAttribute("data-opened"))}function r(n){n.code==="Escape"&&t.hasAttribute("data-opened")&&t.removeAttribute("data-opened")}return document.addEventListener("click",e),document.addEventListener("keydown",r),{destroy(){document.removeEventListener("keydown",r),document.removeEventListener("click",e)}}}const Or=t=>({}),Ft=t=>({});function Gr(t){let e,r,n,o,c,l,s;const i=t[3].default,u=Oe(i,t,t[2],null),a=t[3].content,f=Oe(a,t,t[2],Ft);return{c(){e=w("div"),r=w("div"),u&&u.c(),n=B(),o=w("div"),f&&f.c(),p(r,"class","_3g1Lt"),p(o,"class","_214AN"),p(e,"class","_1vPHZ")},m(d,_){I(d,e,_),m(e,r),u&&u.m(r,null),m(e,n),m(e,o),f&&f.m(o,null),t[5](e),c=!0,l||(s=[J(r,"click",t[4]),tr(Pr.call(null,e))],l=!0)},p(d,[_]){u&&u.p&&(!c||_&4)&&Le(u,i,d,d[2],c?Ge(i,d[2],_,null):Re(d[2]),null),f&&f.p&&(!c||_&4)&&Le(f,a,d,d[2],c?Ge(a,d[2],_,Or):Re(d[2]),Ft)},i(d){c||(y(u,d),y(f,d),c=!0)},o(d){v(u,d),v(f,d),c=!1},d(d){d&&C(e),u&&u.d(d),f&&f.d(d),t[5](null),l=!1,ue(s)}}}function Lr(t,e,r){let{$$slots:n={},$$scope:o}=e,c;function l(){c.toggleAttribute("data-opened",!1)}const s=()=>{c.toggleAttribute("data-opened")};function i(u){re[u?"unshift":"push"](()=>{c=u,r(0,c)})}return t.$$set=u=>{"$$scope"in u&&r(2,o=u.$$scope)},[c,l,o,n,s,i]}class Rr extends Q{constructor(e){super(),q(this,e,Lr,Gr,W,{close:1})}get close(){return this.$$.ctx[1]}}function zt(t,e,r){const n=t.slice();return n[3]=e[r],n}function Vt(t,e){let r,n=e[3].title+"",o,c,l,s,i;return{key:t,first:null,c(){r=w("li"),o=L(n),c=B(),p(r,"class","_1KUa7"),p(r,"data-id",l=e[3].id),this.first=r},m(u,a){I(u,r,a),m(r,o),m(r,c),s||(i=J(r,"click",e[2]),s=!0)},p(u,a){e=u,a&1&&n!==(n=e[3].title+"")&&z(o,n),a&1&&l!==(l=e[3].id)&&p(r,"data-id",l)},d(u){u&&C(r),s=!1,i()}}}function Ur(t){let e,r=[],n=new Map,o=X(t[0]);const c=l=>l[3].id;for(let l=0;l<o.length;l+=1){let s=zt(t,o,l),i=c(s);n.set(i,r[l]=Vt(i,s))}return{c(){e=w("ul");for(let l=0;l<r.length;l+=1)r[l].c();p(e,"class","agdvM")},m(l,s){I(l,e,s);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null)},p(l,[s]){s&3&&(o=X(l[0]),r=Se(r,s,c,1,l,o,n,e,qe,Vt,null,zt))},i:k,o:k,d(l){l&&C(e);for(let s=0;s<r.length;s+=1)r[s].d()}}}function Hr(t,e,r){let{items:n=[]}=e;const o=We(),c=l=>{o("menu",{id:l.currentTarget.dataset.id})};return t.$$set=l=>{"items"in l&&r(0,n=l.items)},[n,o,c]}class Fr extends Q{constructor(e){super(),q(this,e,Hr,Ur,W,{items:0})}}function zr(t){let e,r,n;return{c(){e=he("svg"),r=he("line"),n=he("polyline"),p(r,"x1","19"),p(r,"y1","12"),p(r,"x2","5"),p(r,"y2","12"),p(n,"points","12 19 5 12 12 5"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-arrow-left")},m(o,c){I(o,e,c),m(e,r),m(e,n)},p(o,[c]){c&1&&p(e,"width",o[0]),c&1&&p(e,"height",o[0])},i:k,o:k,d(o){o&&C(e)}}}function Vr(t,e,r){let{size:n=24}=e;return t.$$set=o=>{"size"in o&&r(0,n=o.size)},[n]}class Kr extends Q{constructor(e){super(),q(this,e,Vr,zr,W,{size:0})}}function Jr(t){let e,r,n;return{c(){e=he("svg"),r=he("line"),n=he("line"),p(r,"x1","12"),p(r,"y1","5"),p(r,"x2","12"),p(r,"y2","19"),p(n,"x1","5"),p(n,"y1","12"),p(n,"x2","19"),p(n,"y2","12"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-plus")},m(o,c){I(o,e,c),m(e,r),m(e,n)},p(o,[c]){c&1&&p(e,"width",o[0]),c&1&&p(e,"height",o[0])},i:k,o:k,d(o){o&&C(e)}}}function Wr(t,e,r){let{size:n=24}=e;return t.$$set=o=>{"size"in o&&r(0,n=o.size)},[n]}class qr extends Q{constructor(e){super(),q(this,e,Wr,Jr,W,{size:0})}}function Qr(t){let e,r,n,o;return{c(){e=he("svg"),r=he("line"),n=he("line"),o=he("line"),p(r,"x1","3"),p(r,"y1","12"),p(r,"x2","21"),p(r,"y2","12"),p(n,"x1","3"),p(n,"y1","6"),p(n,"x2","21"),p(n,"y2","6"),p(o,"x1","3"),p(o,"y1","18"),p(o,"x2","21"),p(o,"y2","18"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-menu")},m(c,l){I(c,e,l),m(e,r),m(e,n),m(e,o)},p(c,[l]){l&1&&p(e,"width",c[0]),l&1&&p(e,"height",c[0])},i:k,o:k,d(c){c&&C(e)}}}function Xr(t,e,r){let{size:n=24}=e;return t.$$set=o=>{"size"in o&&r(0,n=o.size)},[n]}class Yr extends Q{constructor(e){super(),q(this,e,Xr,Qr,W,{size:0})}}function Kt(t){let e,r,n,o,c;return r=new Kr({}),{c(){e=w("button"),N(r.$$.fragment),p(e,"class","xy7r")},m(l,s){I(l,e,s),D(r,e,null),n=!0,o||(c=J(e,"click",t[6]),o=!0)},p:k,i(l){n||(y(r.$$.fragment,l),n=!0)},o(l){v(r.$$.fragment,l),n=!1},d(l){l&&C(e),E(r),o=!1,c()}}}function Jt(t){let e,r,n,o,c;return r=new qr({}),{c(){e=w("button"),N(r.$$.fragment),p(e,"class","xy7r")},m(l,s){I(l,e,s),D(r,e,null),n=!0,o||(c=J(e,"click",t[7]),o=!0)},p:k,i(l){n||(y(r.$$.fragment,l),n=!0)},o(l){v(r.$$.fragment,l),n=!1},d(l){l&&C(e),E(r),o=!1,c()}}}function Wt(t){let e,r,n={$$slots:{content:[xr],default:[Zr]},$$scope:{ctx:t}};return e=new Rr({props:n}),t[9](e),{c(){N(e.$$.fragment)},m(o,c){D(e,o,c),r=!0},p(o,c){const l={};c&1048&&(l.$$scope={dirty:c,ctx:o}),e.$set(l)},i(o){r||(y(e.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),r=!1},d(o){t[9](null),E(e,o)}}}function Zr(t){let e,r;return e=new Yr({}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function xr(t){let e,r,n;return r=new Fr({props:{items:t[3]}}),r.$on("menu",t[8]),{c(){e=w("div"),N(r.$$.fragment),p(e,"slot","content")},m(o,c){I(o,e,c),D(r,e,null),n=!0},p(o,c){const l={};c&8&&(l.items=o[3]),r.$set(l)},i(o){n||(y(r.$$.fragment,o),n=!0)},o(o){v(r.$$.fragment,o),n=!1},d(o){o&&C(e),E(r)}}}function eo(t){let e,r,n,o,c,l,s,i,u,a=t[1]&&Kt(t),f=t[2]&&Jt(t),d=t[3]&&Wt(t);return{c(){e=w("header"),r=w("div"),a&&a.c(),n=B(),o=w("h1"),c=L(t[0]),l=B(),s=w("div"),f&&f.c(),i=B(),d&&d.c(),p(r,"class","_3_RNs"),p(o,"class","_2_-u_"),p(s,"class","W_MA6"),p(e,"class","HKFde")},m(_,h){I(_,e,h),m(e,r),a&&a.m(r,null),m(e,n),m(e,o),m(o,c),m(e,l),m(e,s),f&&f.m(s,null),m(s,i),d&&d.m(s,null),u=!0},p(_,[h]){_[1]?a?(a.p(_,h),h&2&&y(a,1)):(a=Kt(_),a.c(),y(a,1),a.m(r,null)):a&&(le(),v(a,1,1,()=>{a=null}),se()),(!u||h&1)&&z(c,_[0]),_[2]?f?(f.p(_,h),h&4&&y(f,1)):(f=Jt(_),f.c(),y(f,1),f.m(s,i)):f&&(le(),v(f,1,1,()=>{f=null}),se()),_[3]?d?(d.p(_,h),h&8&&y(d,1)):(d=Wt(_),d.c(),y(d,1),d.m(s,null)):d&&(le(),v(d,1,1,()=>{d=null}),se())},i(_){u||(y(a),y(f),y(d),u=!0)},o(_){v(a),v(f),v(d),u=!1},d(_){_&&C(e),a&&a.d(),f&&f.d(),d&&d.d()}}}function to(t,e,r){let{title:n}=e,{back:o=!1}=e,{add:c=!1}=e,{menuItems:l=null}=e,s=null;const i=We(),u=()=>{i("back")},a=()=>{i("add")},f=_=>{s.close(),i("menu",{id:_.detail.id})};function d(_){re[_?"unshift":"push"](()=>{s=_,r(4,s)})}return t.$$set=_=>{"title"in _&&r(0,n=_.title),"back"in _&&r(1,o=_.back),"add"in _&&r(2,c=_.add),"menuItems"in _&&r(3,l=_.menuItems)},[n,o,c,l,s,i,u,a,f,d]}class _e extends Q{constructor(e){super(),q(this,e,to,eo,W,{title:0,back:1,add:2,menuItems:3})}}const no=t=>({}),qt=t=>({});function ro(t){let e,r,n;const o=t[1].header,c=Oe(o,t,t[0],qt),l=t[1].default,s=Oe(l,t,t[0],null);return{c(){e=w("main"),c&&c.c(),r=B(),s&&s.c(),p(e,"class","_2HUC4")},m(i,u){I(i,e,u),c&&c.m(e,null),m(e,r),s&&s.m(e,null),n=!0},p(i,[u]){c&&c.p&&(!n||u&1)&&Le(c,o,i,i[0],n?Ge(o,i[0],u,no):Re(i[0]),qt),s&&s.p&&(!n||u&1)&&Le(s,l,i,i[0],n?Ge(l,i[0],u,null):Re(i[0]),null)},i(i){n||(y(c,i),y(s,i),n=!0)},o(i){v(c,i),v(s,i),n=!1},d(i){i&&C(e),c&&c.d(i),s&&s.d(i)}}}function oo(t,e,r){let{$$slots:n={},$$scope:o}=e;return t.$$set=c=>{"$$scope"in c&&r(0,o=c.$$scope)},[o,n]}class pe extends Q{constructor(e){super(),q(this,e,oo,ro,W,{})}}const co=(t,e)=>e.some(r=>t instanceof r);let Qt,Xt;function lo(){return Qt||(Qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function so(){return Xt||(Xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fn=new WeakMap,St=new WeakMap,zn=new WeakMap,mt=new WeakMap,Dt=new WeakMap;function io(t){const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",l)},c=()=>{r(we(t.result)),o()},l=()=>{n(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&Fn.set(r,t)}).catch(()=>{}),Dt.set(e,t),e}function uo(t){if(St.has(t))return;const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",l),t.removeEventListener("abort",l)},c=()=>{r(),o()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",l),t.addEventListener("abort",l)});St.set(t,e)}let Ct={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return St.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zn.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return we(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ao(t){Ct=t(Ct)}function fo(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ht(this),e,...r);return zn.set(n,e.sort?e.sort():[e]),we(n)}:so().includes(t)?function(...e){return t.apply(ht(this),e),we(Fn.get(this))}:function(...e){return we(t.apply(ht(this),e))}}function _o(t){return typeof t=="function"?fo(t):(t instanceof IDBTransaction&&uo(t),co(t,lo())?new Proxy(t,Ct):t)}function we(t){if(t instanceof IDBRequest)return io(t);if(mt.has(t))return mt.get(t);const e=_o(t);return e!==t&&(mt.set(t,e),Dt.set(e,t)),e}const ht=t=>Dt.get(t);function po(t,e,{blocked:r,upgrade:n,blocking:o,terminated:c}={}){const l=indexedDB.open(t,e),s=we(l);return n&&l.addEventListener("upgradeneeded",i=>{n(we(l.result),i.oldVersion,i.newVersion,we(l.transaction),i)}),r&&l.addEventListener("blocked",i=>r(i.oldVersion,i.newVersion,i)),s.then(i=>{c&&i.addEventListener("close",()=>c()),o&&i.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const mo=["get","getKey","getAll","getAllKeys","count"],ho=["put","add","delete","clear"],gt=new Map;function Yt(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gt.get(e))return gt.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=ho.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||mo.includes(r)))return;const c=async function(l,...s){const i=this.transaction(l,o?"readwrite":"readonly");let u=i.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),o&&i.done]))[0]};return gt.set(e,c),c}ao(t=>({...t,get:(e,r,n)=>Yt(e,r)||t.get(e,r,n),has:(e,r)=>!!Yt(e,r)||t.has(e,r)}));let De=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const me=ge([]),Ce=ge([]),Ee=ge([]),Te=ge([]),lt=ge([]);var ve=(t=>(t.Expense="EXPENSE",t.Income="INCOME",t.Transfer="TRANSFER",t))(ve||{});let K;const go=po("acc",1,{upgrade(t){t.objectStoreNames.contains("accountGroups")||t.createObjectStore("accountGroups",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("accounts")||t.createObjectStore("accounts",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("currencies")||t.createObjectStore("currencies",{keyPath:"code"}),t.objectStoreNames.contains("categories")||t.createObjectStore("categories",{keyPath:"id"}).createIndex("title",["title","subtitle"]),t.objectStoreNames.contains("entries")||t.createObjectStore("entries",{keyPath:"id"}).createIndex("accountId","accountId"),t.objectStoreNames.contains("transactions")||t.createObjectStore("transactions",{keyPath:"id"}),t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"name"})}}).then(t=>{K=t});function Qe(){return K.getAllFromIndex("accounts","title")}function $o(t){return K.get("accounts",t)}async function bo(t){await K.put("accounts",t),me.set(await Qe())}async function yo(t,e){const[r,n]=await Promise.all([K.get("entries",t.entryId),t.secondEntryId?K.get("entries",t.secondEntryId):null]),[o,c,l]=Jn(e,t.id,r.id,n?n.id:De(5));await Promise.all([K.put("transactions",o),K.put("entries",c),l?n?K.put("entries",l):K.add("entries",l):n?K.delete("entries",n.id):null]);const[s,i]=await Promise.all([nt(o.accountId),o.secondAccountId?nt(o.secondAccountId):null]);(s||i)&&me.set(await Qe())}function st(){return K.getAllFromIndex("accountGroups","title")}function it(){return K.getAllFromIndex("categories","title")}function ut(){return K.getAll("currencies")}function Vn(){return K.getAll("settings")}async function Kn(t,e=!0){return(await K.getAllFromIndex("entries","accountId",t)).sort((n,o)=>n.timestamp<o.timestamp?e?1:-1:n.timestamp>o.timestamp?e?-1:1:0)}function wo(t){return K.get("transactions",t)}async function vo(t,e){await K.put("accountGroups",{id:De(5),currencyCode:e,title:t}),Ce.set(await st())}async function ko(t){await K.put("accountGroups",t),Ce.set(await st())}async function So(t,e,r){await K.put("accounts",{id:De(5),title:t,groupId:e,currencyCode:r,balance:0}),me.set(await Qe())}async function Co(t,e){await K.put("categories",{id:De(5),title:t,subtitle:e}),Ee.set(await it())}async function Io(t){await K.put("settings",t),lt.set(await Vn())}async function Ao(t){await K.put("categories",t),Ee.set(await it())}async function Do(t,e){await K.put("currencies",{code:t,title:e}),Te.set(await ut())}async function Eo(t){await K.put("currencies",t),Te.set(await ut())}function Jn({kind:t,accountId:e,timestamp:r,categoryId:n,secondAccountId:o,secondAmount:c,amount:l,comment:s},i,u,a){const f={id:u,timestamp:r,accountId:e,...n?{categoryId:n}:{},transactionId:i,comment:s,amount:t==="INCOME"?l:-l,total:0};if(t==="TRANSFER"){const d={id:a,timestamp:r,accountId:o,transactionId:i,comment:s,amount:c||l,total:0};return[{id:i,kind:t,timestamp:r,accountId:e,secondAccountId:o,amount:l,...c?{secondAmount:c}:{},comment:s,entryId:f.id,secondEntryId:d.id},f,d]}else return[{id:i,kind:t,timestamp:r,accountId:e,...n?{categoryId:n}:{},amount:l,comment:s,entryId:f.id},f]}async function nt(t){const e=await Kn(t,!1);let r=0;for(const o of e)r+=o.amount,o.total!==r&&await K.put("entries",{...o,total:r});const n=await $o(t);return n.balance!==r?(await K.put("accounts",{...n,balance:r}),!0):!1}async function To(t){const e=K.transaction(["entries","transactions"],"readwrite"),r=e.objectStore("entries"),n=e.objectStore("transactions"),[o,c,l]=Jn(t,De(5),De(5),De(5));await Promise.all([n.add(o),r.add(c),...l?[r.add(l)]:[],e.done]);const[s,i]=await Promise.all([nt(o.accountId),o.secondAccountId?nt(o.secondAccountId):!1]);(s||i)&&me.set(await Qe())}async function Wn(){const[t,e,r,n,o]=await Promise.all([Qe(),st(),it(),ut(),Vn()]);Te.set(n),Ce.set(e),me.set(t),Ee.set(r),lt.set(o)}async function No(){await go,await Wn()}const jo=No(),Bo=[{value:ve.Expense,title:"Expense"},{value:ve.Income,title:"Income"},{value:ve.Transfer,title:"Transfer"}],Zt=4.78,xt=461.43,en=96.62,tn={KZT:{RUB:1/Zt,USD:1/xt},RUB:{USD:1/en,KZT:Zt},USD:{KZT:xt,RUB:en}},It="baseCurrencyCode";function Mo(t){const e=t.getTimezoneOffset()*6e4,r=new Date(t.getTime()-e),n=r.getFullYear(),o=String(r.getUTCMonth()+1).padStart(2,"0"),c=String(r.getUTCDate()).padStart(2,"0"),l=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0");return`${n}-${o}-${c}T${l}:${s}`}function rt(t){const e=new Date(t),r=e.getTimezoneOffset()*6e4,n=new Date(e.getTime()-r),o=n.getFullYear(),c=String(n.getUTCMonth()+1).padStart(2,"0"),l=String(n.getUTCDate()).padStart(2,"0"),s=String(n.getUTCHours()).padStart(2,"0"),i=String(n.getUTCMinutes()).padStart(2,"0");return`${o}-${c}-${l} ${s}:${i}`}function Po(t){const e=new Date(t),r=e.getTimezoneOffset()*6e4,n=new Date(e.getTime()-r),o=n.getFullYear(),c=String(n.getUTCMonth()+1).padStart(2,"0"),l=String(n.getUTCDate()).padStart(2,"0");return`${o}-${c}-${l}`}function ot(t){return/^[1-9]\d*([.,]\d{2})?$/.test(t)}function $t(t){return/[.,]/.test(t)?parseInt(t.replace(/[,.]/,"")):parseInt(t)*100}function fe(t,e,r){t=Math.round(t);const n=Math.floor(t/100),o=t%100;return(r&&t>0?"+":"")+`${e?Oo(n):n}.${String(o).padStart(2,"0")}`}function qn(t,e){var r,n;return(r=tn[t])!=null&&r[e]?(n=tn[t])==null?void 0:n[e]:NaN}function Oo(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function Go(t,e){return t.reduce((r,n)=>(n.currencyCode===e?r+=n.balance:r+=n.balance*qn(n.currencyCode,e),r),0)}function Lo(t,e){const r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download=e,o.click(),URL.revokeObjectURL(n)}function Ro(t){const e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!1,e.onchange=()=>{const r=e.files[0];if(r){const n=new FileReader;n.onload=function(){t(n.result)},n.readAsText(r)}},e.click()}function Uo(t){try{return JSON.parse(t)}catch{return console.warn("JSON parsing failed."),null}}async function Ho(){const[t,e,r,n,o,c]=await Promise.all([ut(),st(),Qe(),it(),K.getAll("transactions"),K.getAll("entries")]);return{ver:rt(Date.now()),currencies:t,accountGroups:e,accounts:r,categories:n,transactions:o,entries:c}}async function Fo(t){if(!confirm("All the data will be overwritten. Are you sure you want to continue?"))return!1;if(zo(t)){const e=K.transaction(["currencies","accountGroups","accounts","categories","transactions","entries"],"readwrite");await Promise.all([e.objectStore("currencies").clear(),e.objectStore("accountGroups").clear(),e.objectStore("accounts").clear(),e.objectStore("categories").clear(),e.objectStore("transactions").clear(),e.objectStore("entries").clear()]);for(const r of t.currencies)await e.objectStore("currencies").put(r);for(const r of t.accountGroups)await e.objectStore("accountGroups").put(r);for(const r of t.accounts)await e.objectStore("accounts").put(r);for(const r of t.categories)await e.objectStore("categories").put(r);for(const r of t.transactions)await e.objectStore("transactions").put(r);for(const r of t.entries)await e.objectStore("entries").put(r);return await e.done,!0}else return alert("Invalid snapshot format."),!1}function zo(t){return!(!t.ver||!t.currencies||!t.accountGroups||!t.categories||!t.categories||!t.transactions||!t.entries)}function Vo(t){let e,r,n,o=t[0].title+"",c,l,s,i=fe(t[0].balance,!0)+"",u,a,f=t[0].currencyCode+"",d,_,h;return{c(){e=w("div"),r=w("div"),n=w("span"),c=L(o),l=B(),s=w("span"),u=L(i),a=B(),d=L(f),p(n,"class","_1Pq8u"),p(r,"class","_1wAoL"),p(e,"class","_2R8pY"),p(e,"data-role","account")},m(g,b){I(g,e,b),m(e,r),m(r,n),m(n,c),m(r,l),m(r,s),m(s,u),m(s,a),m(s,d),_||(h=J(e,"click",t[3]),_=!0)},p(g,[b]){b&1&&o!==(o=g[0].title+"")&&z(c,o),b&1&&i!==(i=fe(g[0].balance,!0)+"")&&z(u,i),b&1&&f!==(f=g[0].currencyCode+"")&&z(d,f)},i:k,o:k,d(g){g&&C(e),_=!1,h()}}}function Ko(t,e,r){let{account:n}=e,{editing:o=!1}=e;const c=We(),l=()=>{o||c("account",{id:n.id})};return t.$$set=s=>{"account"in s&&r(0,n=s.account),"editing"in s&&r(1,o=s.editing)},[n,o,c,l]}class Jo extends Q{constructor(e){super(),q(this,e,Ko,Vo,W,{account:0,editing:1})}}function nn(t,e,r){const n=t.slice();return n[5]=e[r],n}function rn(t,e){let r,n,o;return n=new Jo({props:{account:e[5]}}),n.$on("account",e[4]),{key:t,first:null,c(){r=oe(),N(n.$$.fragment),this.first=r},m(c,l){I(c,r,l),D(n,c,l),o=!0},p(c,l){e=c;const s={};l&2&&(s.account=e[5]),n.$set(s)},i(c){o||(y(n.$$.fragment,c),o=!0)},o(c){v(n.$$.fragment,c),o=!1},d(c){c&&C(r),E(n,c)}}}function Wo(t){let e,r,n,o=t[0].title+"",c,l,s,i=fe(t[2],!0)+"",u,a,f=t[0].currencyCode+"",d,_,h=[],g=new Map,b,S=X(t[1]);const M=T=>T[5].id;for(let T=0;T<S.length;T+=1){let G=nn(t,S,T),U=M(G);g.set(U,h[T]=rn(U,G))}return{c(){e=w("div"),r=w("div"),n=w("span"),c=L(o),l=B(),s=w("span"),u=L(i),a=B(),d=L(f),_=B();for(let T=0;T<h.length;T+=1)h[T].c();p(n,"class","TS06y"),p(r,"class","_24Qdi")},m(T,G){I(T,e,G),m(e,r),m(r,n),m(n,c),m(r,l),m(r,s),m(s,u),m(s,a),m(s,d),m(e,_);for(let U=0;U<h.length;U+=1)h[U]&&h[U].m(e,null);b=!0},p(T,[G]){(!b||G&1)&&o!==(o=T[0].title+"")&&z(c,o),(!b||G&4)&&i!==(i=fe(T[2],!0)+"")&&z(u,i),(!b||G&1)&&f!==(f=T[0].currencyCode+"")&&z(d,f),G&2&&(S=X(T[1]),le(),h=Se(h,G,M,1,T,S,g,e,Ln,rn,null,nn),se())},i(T){if(!b){for(let G=0;G<S.length;G+=1)y(h[G]);b=!0}},o(T){for(let G=0;G<h.length;G+=1)v(h[G]);b=!1},d(T){T&&C(e);for(let G=0;G<h.length;G+=1)h[G].d()}}}function qo(t,e,r){let n,o,c;x(t,me,i=>r(3,c=i));let{accountGroup:l}=e;const s=i=>{F(`/accounts/${i.detail.id}`)};return t.$$set=i=>{"accountGroup"in i&&r(0,l=i.accountGroup)},t.$$.update=()=>{t.$$.dirty&9&&r(1,n=c.filter(i=>i.groupId===l.id)),t.$$.dirty&3&&r(2,o=Go(n,l.currencyCode))},[l,n,o,c,s]}class Qo extends Q{constructor(e){super(),q(this,e,qo,Wo,W,{accountGroup:0})}}function on(t,e,r){const n=t.slice();return n[9]=e[r],n}function cn(t){let e,r;return e=new Qo({props:{accountGroup:t[9]}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,o){const c={};o&4&&(c.accountGroup=n[9]),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Xo(t){let e,r,n,o,c,l=fe(t[1],!0)+"",s,i,u=(t[0]||"")+"",a,f,d=X(t[2]),_=[];for(let g=0;g<d.length;g+=1)_[g]=cn(on(t,d,g));const h=g=>v(_[g],1,1,()=>{_[g]=null});return{c(){for(let g=0;g<_.length;g+=1)_[g].c();e=B(),r=w("div"),n=w("div"),n.textContent="Total",o=B(),c=w("div"),s=L(l),i=B(),a=L(u),p(c,"class","_3iJTu"),p(r,"class","_2VS7X")},m(g,b){for(let S=0;S<_.length;S+=1)_[S]&&_[S].m(g,b);I(g,e,b),I(g,r,b),m(r,n),m(r,o),m(r,c),m(c,s),m(c,i),m(c,a),f=!0},p(g,b){if(b&4){d=X(g[2]);let S;for(S=0;S<d.length;S+=1){const M=on(g,d,S);_[S]?(_[S].p(M,b),y(_[S],1)):(_[S]=cn(M),_[S].c(),y(_[S],1),_[S].m(e.parentNode,e))}for(le(),S=d.length;S<_.length;S+=1)h(S);se()}(!f||b&2)&&l!==(l=fe(g[1],!0)+"")&&z(s,l),(!f||b&1)&&u!==(u=(g[0]||"")+"")&&z(a,u)},i(g){if(!f){for(let b=0;b<d.length;b+=1)y(_[b]);f=!0}},o(g){_=_.filter(Boolean);for(let b=0;b<_.length;b+=1)v(_[b]);f=!1},d(g){g&&(C(e),C(r)),ze(_,g)}}}function Yo(t){let e,r;return e=new _e({props:{slot:"header",title:"Accounts",add:!0,menuItems:t[3]}}),e.$on("add",t[7]),e.$on("menu",t[8]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Zo(t){let e,r;return e=new pe({props:{$$slots:{header:[Yo],default:[Xo]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&4103&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function xo(t,e,r){let n,o,c,l,s,i;x(t,me,d=>r(4,c=d)),x(t,Te,d=>r(5,l=d)),x(t,lt,d=>r(6,s=d)),x(t,Ce,d=>r(2,i=d));const u=[{id:"groups",title:"Account Groups"},{id:"category",title:"Categories"},{id:"currency",title:"Currencies"},{id:"backup",title:"Backup"},{id:"restore",title:"Restore"},{id:"settings",title:"Settings"}],a=()=>{F("/accounts/new")},f=d=>{switch(d.detail.id){case"groups":F("/groups");break;case"category":F("/categories");break;case"currency":F("/currencies");break;case"settings":F("/settings");break;case"backup":Ho().then(_=>{Lo(_,`${rt(Date.now())}.json`)});break;case"restore":Ro(_=>{const h=Uo(_);h&&Fo(h).then(g=>{g&&Wn()})});break}};return t.$$.update=()=>{var d,_;t.$$.dirty&96&&r(0,n=((d=s.find(h=>h.name===It))==null?void 0:d.value)||((_=l[0])==null?void 0:_.code)),t.$$.dirty&17&&r(1,o=c.reduce((h,g)=>(g.currencyCode===n?h+=g.balance:h+=g.balance*qn(g.currencyCode,n),h),0))},[n,o,i,u,c,l,s,a,f]}class ec extends Q{constructor(e){super(),q(this,e,xo,Zo,W,{})}}function ln(t,e,r){const n=t.slice();return n[4]=e[r],n}function sn(t,e){let r,n=e[4].title+"",o,c,l,s,i;return{key:t,first:null,c(){r=w("div"),o=L(n),c=B(),p(r,"class","_3JK5K"),p(r,"data-id",l=e[4].id),this.first=r},m(u,a){I(u,r,a),m(r,o),m(r,c),s||(i=J(r,"click",e[1]),s=!0)},p(u,a){e=u,a&1&&n!==(n=e[4].title+"")&&z(o,n),a&1&&l!==(l=e[4].id)&&p(r,"data-id",l)},d(u){u&&C(r),s=!1,i()}}}function tc(t){let e=[],r=new Map,n,o=X(t[0]);const c=l=>l[4].id;for(let l=0;l<o.length;l+=1){let s=ln(t,o,l),i=c(s);r.set(i,e[l]=sn(i,s))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=oe()},m(l,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(l,s);I(l,n,s)},p(l,s){s&3&&(o=X(l[0]),e=Se(e,s,c,1,l,o,r,n.parentNode,qe,sn,n,ln))},d(l){l&&C(n);for(let s=0;s<e.length;s+=1)e[s].d(l)}}}function nc(t){let e,r;return e=new _e({props:{slot:"header",title:"Account Groups",back:!0,add:!0}}),e.$on("back",t[2]),e.$on("add",t[3]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function rc(t){let e,r;return e=new pe({props:{$$slots:{header:[nc],default:[tc]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&129&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function oc(t,e,r){let n;x(t,Ce,s=>r(0,n=s));function o(s){s.target instanceof HTMLElement&&s.target.dataset.id&&F(`/groups/${s.target.dataset.id}`)}return[n,o,()=>{F("/")},()=>{F("/groups/new")}]}class cc extends Q{constructor(e){super(),q(this,e,oc,rc,W,{})}}function un(t,e,r){const n=t.slice();return n[4]=e[r].code,n[5]=e[r].title,n}function an(t,e){let r,n,o=e[4]+"",c,l,s=e[5]+"",i,u,a;return{key:t,first:null,c(){r=L(`}
    `),n=w("option"),c=L(o),l=B(),i=L(s),u=B(),n.__value=a=e[4],V(n,n.__value),this.first=r},m(f,d){I(f,r,d),I(f,n,d),m(n,c),m(n,l),m(n,i),m(n,u)},p(f,d){e=f,d&4&&o!==(o=e[4]+"")&&z(c,o),d&4&&s!==(s=e[5]+"")&&z(i,s),d&4&&a!==(a=e[4])&&(n.__value=a,V(n,n.__value))},d(f){f&&(C(r),C(n))}}}function lc(t){let e,r,n,o=[],c=new Map,l,s,i=X(t[2]);const u=a=>a[4];for(let a=0;a<i.length;a+=1){let f=un(t,i,a),d=u(f);c.set(d,o[a]=an(d,f))}return{c(){e=w("select"),r=w("option"),n=L(t[1]);for(let a=0;a<o.length;a+=1)o[a].c();r.__value="",V(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_1kHx0"),e.required=!0,t[0]===void 0&&ke(()=>t[3].call(e))},m(a,f){I(a,e,f),m(e,r),m(r,n);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);$e(e,t[0],!0),l||(s=J(e,"change",t[3]),l=!0)},p(a,[f]){f&2&&z(n,a[1]),f&4&&(i=X(a[2]),o=Se(o,f,u,1,a,i,c,e,qe,an,null,un)),f&5&&$e(e,a[0])},i:k,o:k,d(a){a&&C(e);for(let f=0;f<o.length;f+=1)o[f].d();l=!1,s()}}}function sc(t,e,r){let n;x(t,Te,s=>r(2,n=s));let{currencyCode:o}=e,{placeholder:c="Currency"}=e;function l(){o=Ze(this),r(0,o)}return t.$$set=s=>{"currencyCode"in s&&r(0,o=s.currencyCode),"placeholder"in s&&r(1,c=s.placeholder)},[o,c,n,l]}class Et extends Q{constructor(e){super(),q(this,e,sc,lc,W,{currencyCode:0,placeholder:1})}}function ic(t){let e,r,n,o,c,l,s,i,u,a,f=t[4]?"Save":"Create",d,_,h,g;function b(M){t[8](M)}let S={};return t[1]!==void 0&&(S.currencyCode=t[1]),n=new Et({props:S}),re.push(()=>Fe(n,"currencyCode",b)),{c(){e=w("form"),r=w("div"),N(n.$$.fragment),c=B(),l=w("div"),s=w("input"),i=B(),u=w("div"),a=w("button"),d=L(f),p(s,"class","_3xyX_"),p(s,"type","text"),s.disabled=t[3],p(s,"placeholder","Title"),p(a,"class","_2G9AC"),p(a,"type","submit"),a.disabled=t[3],p(e,"class","_3RSQr")},m(M,T){I(M,e,T),m(e,r),D(n,r,null),m(e,c),m(e,l),m(l,s),t[9](s),V(s,t[0]),m(e,i),m(e,u),m(u,a),m(a,d),_=!0,h||(g=[J(s,"input",t[10]),J(e,"submit",Ve(t[5]))],h=!0)},p(M,T){const G={};!o&&T&2&&(o=!0,G.currencyCode=M[1],He(()=>o=!1)),n.$set(G),(!_||T&8)&&(s.disabled=M[3]),T&1&&s.value!==M[0]&&V(s,M[0]),(!_||T&8)&&(a.disabled=M[3])},i(M){_||(y(n.$$.fragment,M),_=!0)},o(M){v(n.$$.fragment,M),_=!1},d(M){M&&C(e),E(n),t[9](null),h=!1,ue(g)}}}function uc(t){let e,r;return e=new _e({props:{slot:"header",title:t[4]?"Account Group":"New Account Group",back:!0}}),e.$on("back",t[7]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function ac(t){let e,r;return e=new pe({props:{$$slots:{header:[uc],default:[ic]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&4111&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function fc(t,e,r){let n;x(t,Ce,g=>r(11,n=g));let{id:o=void 0}=e,c=o?n.find(g=>g.id===o):null,l=c?c.title:"",s=c?c.currencyCode:void 0,i,u=!1;Je(()=>{i.focus()});function a(){l.trim()&&s?(r(3,u=!0),c?ko({...c,title:l.trim(),currencyCode:s}).then(()=>{F("/groups")}).finally(()=>{r(3,u=!1)}):vo(l,s).then(()=>{F("/groups")}).finally(()=>{r(3,u=!1)})):alert("All fields must be specified.")}const f=()=>{F("/groups")};function d(g){s=g,r(1,s)}function _(g){re[g?"unshift":"push"](()=>{i=g,r(2,i)})}function h(){l=this.value,r(0,l)}return t.$$set=g=>{"id"in g&&r(6,o=g.id)},[l,s,i,u,c,a,o,f,d,_,h]}class fn extends Q{constructor(e){super(),q(this,e,fc,ac,W,{id:6})}}function dn(t,e,r){const n=t.slice();return n[3]=e[r],n}function _n(t){let e,r=t[3].title+"",n,o,c;return{c(){e=w("option"),n=L(r),o=B(),e.__value=c=t[3].id,V(e,e.__value)},m(l,s){I(l,e,s),m(e,n),m(e,o)},p(l,s){s&2&&r!==(r=l[3].title+"")&&z(n,r),s&2&&c!==(c=l[3].id)&&(e.__value=c,V(e,e.__value))},d(l){l&&C(e)}}}function dc(t){let e,r,n,o,c=X(t[1]),l=[];for(let s=0;s<c.length;s+=1)l[s]=_n(dn(t,c,s));return{c(){e=w("select"),r=w("option"),r.textContent="Account Group";for(let s=0;s<l.length;s+=1)l[s].c();p(r,"class","placeholder"),r.__value="",V(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_2Ge4O"),e.required=!0,t[0]===void 0&&ke(()=>t[2].call(e))},m(s,i){I(s,e,i),m(e,r);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);$e(e,t[0],!0),n||(o=J(e,"change",t[2]),n=!0)},p(s,[i]){if(i&2){c=X(s[1]);let u;for(u=0;u<c.length;u+=1){const a=dn(s,c,u);l[u]?l[u].p(a,i):(l[u]=_n(a),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=c.length}i&3&&$e(e,s[0])},i:k,o:k,d(s){s&&C(e),ze(l,s),n=!1,o()}}}function _c(t,e,r){let n;x(t,Ce,l=>r(1,n=l));let{groupId:o}=e;function c(){o=Ze(this),r(0,o)}return t.$$set=l=>{"groupId"in l&&r(0,o=l.groupId)},[o,n,c]}class pc extends Q{constructor(e){super(),q(this,e,_c,dc,W,{groupId:0})}}function mc(t){let e,r,n,o,c,l,s,i,u,a,f,d,_,h,g=t[0]?"Save":"Create",b,S,M,T,G;function U(A){t[8](A)}let P={};t[2]!==void 0&&(P.groupId=t[2]),n=new pc({props:P}),re.push(()=>Fe(n,"groupId",U));function j(A){t[9](A)}let O={};return t[3]!==void 0&&(O.currencyCode=t[3]),s=new Et({props:O}),re.push(()=>Fe(s,"currencyCode",j)),{c(){e=w("form"),r=w("div"),N(n.$$.fragment),c=B(),l=w("div"),N(s.$$.fragment),u=B(),a=w("div"),f=w("input"),d=B(),_=w("div"),h=w("button"),b=L(g),p(f,"class","_3hIGg"),p(f,"type","text"),p(f,"placeholder","Title"),f.disabled=t[5],p(h,"class","J-mxG"),p(h,"type","submit"),h.disabled=t[5],p(e,"class",S="_2Na6L "+t[1])},m(A,Y){I(A,e,Y),m(e,r),D(n,r,null),m(e,c),m(e,l),D(s,l,null),m(e,u),m(e,a),m(a,f),V(f,t[4]),t[11](f),m(e,d),m(e,_),m(_,h),m(h,b),M=!0,T||(G=[J(f,"input",t[10]),J(e,"submit",Ve(t[7]))],T=!0)},p(A,[Y]){const ee={};!o&&Y&4&&(o=!0,ee.groupId=A[2],He(()=>o=!1)),n.$set(ee);const ae={};!i&&Y&8&&(i=!0,ae.currencyCode=A[3],He(()=>i=!1)),s.$set(ae),(!M||Y&32)&&(f.disabled=A[5]),Y&16&&f.value!==A[4]&&V(f,A[4]),(!M||Y&1)&&g!==(g=A[0]?"Save":"Create")&&z(b,g),(!M||Y&32)&&(h.disabled=A[5]),(!M||Y&2&&S!==(S="_2Na6L "+A[1]))&&p(e,"class",S)},i(A){M||(y(n.$$.fragment,A),y(s.$$.fragment,A),M=!0)},o(A){v(n.$$.fragment,A),v(s.$$.fragment,A),M=!1},d(A){A&&C(e),E(n),E(s),t[11](null),T=!1,ue(G)}}}function hc(t,e,r){let{accountDoc:n=null}=e,{class:o=void 0}=e,{groupId:c,currencyCode:l,title:s=""}=n||{},i=!1,u;const a=We();function f(){s.trim()&&c&&l?(r(5,i=!0),a("save",{groupId:c,currencyCode:l,title:s})):alert("Must fill all fields.")}Je(()=>{u&&u.focus()});function d(b){c=b,r(2,c)}function _(b){l=b,r(3,l)}function h(){s=this.value,r(4,s)}function g(b){re[b?"unshift":"push"](()=>{u=b,r(6,u)})}return t.$$set=b=>{"accountDoc"in b&&r(0,n=b.accountDoc),"class"in b&&r(1,o=b.class)},[n,o,c,l,s,i,u,f,d,_,h,g]}class Qn extends Q{constructor(e){super(),q(this,e,hc,mc,W,{accountDoc:0,class:1})}}function gc(t){let e,r;return e=new Qn({props:{class:"_1tO9D"}}),e.$on("save",t[2]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function $c(t){let e,r;return e=new Qn({props:{class:"_1tO9D",accountDoc:t[1]}}),e.$on("save",t[2]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function bc(t){let e,r,n,o;const c=[$c,gc],l=[];function s(i,u){return i[0]?0:1}return e=s(t),r=l[e]=c[e](t),{c(){r.c(),n=oe()},m(i,u){l[e].m(i,u),I(i,n,u),o=!0},p(i,u){let a=e;e=s(i),e===a?l[e].p(i,u):(le(),v(l[a],1,1,()=>{l[a]=null}),se(),r=l[e],r?r.p(i,u):(r=l[e]=c[e](i),r.c()),y(r,1),r.m(n.parentNode,n))},i(i){o||(y(r),o=!0)},o(i){v(r),o=!1},d(i){i&&C(n),l[e].d(i)}}}function yc(t){var n;let e,r;return e=new _e({props:{slot:"header",title:t[0]?(n=t[1])==null?void 0:n.title:"New Account",back:!0}}),e.$on("back",t[3]),{c(){N(e.$$.fragment)},m(o,c){D(e,o,c),r=!0},p(o,c){var s;const l={};c&1&&(l.title=o[0]?(s=o[1])==null?void 0:s.title:"New Account"),e.$set(l)},i(o){r||(y(e.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),r=!1},d(o){E(e,o)}}}function wc(t){let e,r;return e=new pe({props:{$$slots:{header:[yc],default:[bc]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&33&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function vc(t,e,r){let n;x(t,me,i=>r(4,n=i));let{id:o=null}=e,c=o?n.find(i=>i.id===o):null;function l(i){const{title:u,groupId:a,currencyCode:f}=i.detail;o?bo({...c,title:u,groupId:a,currencyCode:f}).then(()=>{F("/")}):So(u,a,f).then(()=>{F("/")})}const s=()=>{F("/")};return t.$$set=i=>{"id"in i&&r(0,o=i.id)},[o,c,l,s]}class pn extends Q{constructor(e){super(),q(this,e,vc,wc,W,{id:0})}}function mn(t){let e,r=t[1].title+"",n,o=t[1].subtitle?`:${t[1].subtitle}`:"",c;return{c(){e=w("span"),n=L(r),c=L(o),p(e,"class","_3a6iu")},m(l,s){I(l,e,s),m(e,n),m(e,c)},p(l,s){s&2&&r!==(r=l[1].title+"")&&z(n,r),s&2&&o!==(o=l[1].subtitle?`:${l[1].subtitle}`:"")&&z(c,o)},d(l){l&&C(e)}}}function kc(t){let e,r,n,o,c=t[0].comment+"",l,s,i,u,a=fe(t[0].amount,!0,!0)+"",f,d,_,h,g=rt(t[0].timestamp)+"",b,S,M,T=fe(t[0].total,!0)+"",G,U,P,j=t[1]&&mn(t);return{c(){e=w("div"),r=w("div"),n=w("div"),o=w("span"),l=L(c),s=B(),j&&j.c(),i=B(),u=w("div"),f=L(a),d=B(),_=w("div"),h=w("div"),b=L(g),S=B(),M=w("div"),G=L(T),p(o,"class","oaX67"),p(n,"class","Ht4pv"),p(u,"class","_2Tc1T"),Ue(u,"_3ifDQ",t[0].amount>0),p(r,"class","_2HVzW"),p(h,"class","_XQIj"),p(M,"class","_21zTG"),p(_,"class","_5Nfzx"),p(e,"class","_32Une")},m(O,A){I(O,e,A),m(e,r),m(r,n),m(n,o),m(o,l),m(n,s),j&&j.m(n,null),m(r,i),m(r,u),m(u,f),m(e,d),m(e,_),m(_,h),m(h,b),m(_,S),m(_,M),m(M,G),U||(P=J(e,"click",t[4]),U=!0)},p(O,[A]){A&1&&c!==(c=O[0].comment+"")&&z(l,c),O[1]?j?j.p(O,A):(j=mn(O),j.c(),j.m(n,null)):j&&(j.d(1),j=null),A&1&&a!==(a=fe(O[0].amount,!0,!0)+"")&&z(f,a),A&1&&Ue(u,"_3ifDQ",O[0].amount>0),A&1&&g!==(g=rt(O[0].timestamp)+"")&&z(b,g),A&1&&T!==(T=fe(O[0].total,!0)+"")&&z(G,T)},i:k,o:k,d(O){O&&C(e),j&&j.d(),U=!1,P()}}}function Sc(t,e,r){let n,o;x(t,Ee,i=>r(3,o=i));let{entry:c}=e;const l=We(),s=()=>{l("transaction",{id:c.transactionId})};return t.$$set=i=>{"entry"in i&&r(0,c=i.entry)},t.$$.update=()=>{t.$$.dirty&9&&r(1,n=c.categoryId?o.find(i=>i.id===c.categoryId):null)},[c,n,l,o,s]}class Cc extends Q{constructor(e){super(),q(this,e,Sc,kc,W,{entry:0})}}function hn(t,e,r){const n=t.slice();return n[10]=e[r],n}function gn(t,e,r){const n=t.slice();return n[13]=e[r],n}function $n(t,e){let r,n,o;return n=new Cc({props:{entry:e[13]}}),n.$on("transaction",e[9]),{key:t,first:null,c(){r=oe(),N(n.$$.fragment),this.first=r},m(c,l){I(c,r,l),D(n,c,l),o=!0},p(c,l){e=c;const s={};l&1&&(s.entry=e[13]),n.$set(s)},i(c){o||(y(n.$$.fragment,c),o=!0)},o(c){v(n.$$.fragment,c),o=!1},d(c){c&&C(r),E(n,c)}}}function bn(t){let e,r=t[10]+"",n,o,c=[],l=new Map,s,i,u=X(t[0][t[10]]);const a=f=>f[13].id;for(let f=0;f<u.length;f+=1){let d=gn(t,u,f),_=a(d);l.set(_,c[f]=$n(_,d))}return{c(){e=w("div"),n=L(r),o=B();for(let f=0;f<c.length;f+=1)c[f].c();s=oe(),p(e,"class","_14m25")},m(f,d){I(f,e,d),m(e,n),I(f,o,d);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(f,d);I(f,s,d),i=!0},p(f,d){(!i||d&1)&&r!==(r=f[10]+"")&&z(n,r),d&3&&(u=X(f[0][f[10]]),le(),c=Se(c,d,a,1,f,u,l,s.parentNode,Ln,$n,s,gn),se())},i(f){if(!i){for(let d=0;d<u.length;d+=1)y(c[d]);i=!0}},o(f){for(let d=0;d<c.length;d+=1)v(c[d]);i=!1},d(f){f&&(C(e),C(o),C(s));for(let d=0;d<c.length;d+=1)c[d].d(f)}}}function Ic(t){let e,r,n=X(Object.keys(t[0])),o=[];for(let l=0;l<n.length;l+=1)o[l]=bn(hn(t,n,l));const c=l=>v(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=oe()},m(l,s){for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(l,s);I(l,e,s),r=!0},p(l,s){if(s&3){n=X(Object.keys(l[0]));let i;for(i=0;i<n.length;i+=1){const u=hn(l,n,i);o[i]?(o[i].p(u,s),y(o[i],1)):(o[i]=bn(u),o[i].c(),y(o[i],1),o[i].m(e.parentNode,e))}for(le(),i=n.length;i<o.length;i+=1)c(i);se()}},i(l){if(!r){for(let s=0;s<n.length;s+=1)y(o[s]);r=!0}},o(l){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)v(o[s]);r=!1},d(l){l&&C(e),ze(o,l)}}}function Ac(t){let e,r;return e=new _e({props:{slot:"header",title:t[2]?`${t[2].title}`:"Not Found",back:!0,add:!0,menuItems:t[3]}}),e.$on("back",t[6]),e.$on("add",t[7]),e.$on("menu",t[8]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,o){const c={};o&4&&(c.title=n[2]?`${n[2].title}`:"Not Found"),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Dc(t){let e,r;return e=new pe({props:{$$slots:{header:[Ac],default:[Ic]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&65543&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Ec(t,e,r){let n,o;x(t,me,_=>r(5,o=_));let{id:c}=e,{entries:l=[]}=e,{entriesByDays:s={}}=e;Kn(c).then(_=>{r(4,l=_),r(0,s=_.reduce((h,g)=>{const b=Po(g.timestamp);return h[b]?h[b].push(g):h[b]=[g],h},{}))});const i=[{id:"edit",title:"Edit"}],u=()=>{F("/")},a=()=>{F(`/accounts/${c}/transactions/new`)},f=_=>{switch(_.detail.id){case"edit":F(`/accounts/${c}/edit`);break}},d=_=>{F(`/accounts/${c}/transactions/${_.detail.id}`)};return t.$$set=_=>{"id"in _&&r(1,c=_.id),"entries"in _&&r(4,l=_.entries),"entriesByDays"in _&&r(0,s=_.entriesByDays)},t.$$.update=()=>{t.$$.dirty&34&&r(2,n=o.find(_=>_.id===c))},[s,c,n,i,l,o,u,a,f,d]}class Tc extends Q{constructor(e){super(),q(this,e,Ec,Dc,W,{id:1,entries:4,entriesByDays:0})}}function yn(t,e,r){const n=t.slice();return n[4]=e[r],n}function wn(t,e){let r,n=e[4].title+"",o,c=e[4].subtitle?`:${e[4].subtitle}`:"",l,s,i,u,a;return{key:t,first:null,c(){r=w("div"),o=L(n),l=L(c),s=B(),p(r,"class","_6UwqU"),p(r,"data-id",i=e[4].id),this.first=r},m(f,d){I(f,r,d),m(r,o),m(r,l),m(r,s),u||(a=J(r,"click",e[1]),u=!0)},p(f,d){e=f,d&1&&n!==(n=e[4].title+"")&&z(o,n),d&1&&c!==(c=e[4].subtitle?`:${e[4].subtitle}`:"")&&z(l,c),d&1&&i!==(i=e[4].id)&&p(r,"data-id",i)},d(f){f&&C(r),u=!1,a()}}}function Nc(t){let e=[],r=new Map,n,o=X(t[0]);const c=l=>l[4].id;for(let l=0;l<o.length;l+=1){let s=yn(t,o,l),i=c(s);r.set(i,e[l]=wn(i,s))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=oe()},m(l,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(l,s);I(l,n,s)},p(l,s){s&3&&(o=X(l[0]),e=Se(e,s,c,1,l,o,r,n.parentNode,qe,wn,n,yn))},d(l){l&&C(n);for(let s=0;s<e.length;s+=1)e[s].d(l)}}}function jc(t){let e,r;return e=new _e({props:{slot:"header",title:"Categories",back:!0,add:!0}}),e.$on("back",t[2]),e.$on("add",t[3]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Bc(t){let e,r;return e=new pe({props:{$$slots:{header:[jc],default:[Nc]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&129&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Mc(t,e,r){let n;x(t,Ee,s=>r(0,n=s));function o(s){if(s.target.dataset.id){const i=s.target.dataset.id;F(`/categories/${i}`)}}return[n,o,()=>{F("/")},()=>{F("/categories/new")}]}class Pc extends Q{constructor(e){super(),q(this,e,Mc,Bc,W,{})}}function Oc(t){let e,r,n,o,c,l,s,i,u,a;function f(_){t[3](_)}let d={placeholder:"Base Currency"};return t[0]!==void 0&&(d.currencyCode=t[0]),o=new Et({props:d}),re.push(()=>Fe(o,"currencyCode",f)),{c(){e=w("form"),r=w("div"),n=L(`Base currency:
      `),N(o.$$.fragment),l=B(),s=w("div"),s.innerHTML='<button type="submit" class="_19-gA">Save</button>',p(e,"class","_1JFP_")},m(_,h){I(_,e,h),m(e,r),m(r,n),D(o,r,null),m(e,l),m(e,s),i=!0,u||(a=J(e,"submit",Ve(t[1])),u=!0)},p(_,h){const g={};!c&&h&1&&(c=!0,g.currencyCode=_[0],He(()=>c=!1)),o.$set(g)},i(_){i||(y(o.$$.fragment,_),i=!0)},o(_){v(o.$$.fragment,_),i=!1},d(_){_&&C(e),E(o),u=!1,a()}}}function Gc(t){let e,r;return e=new _e({props:{slot:"header",title:"Settings",back:!0,add:!0}}),e.$on("back",t[2]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Lc(t){let e,r;return e=new pe({props:{$$slots:{header:[Gc],default:[Oc]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&33&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Rc(t,e,r){var i;let n;x(t,lt,u=>r(4,n=u));let o=(i=n.find(u=>u.name===It))==null?void 0:i.value;function c(){Io({name:It,value:o}).then(()=>{F("/")})}const l=()=>{F("/")};function s(u){o=u,r(0,o)}return[o,c,l,s]}class Uc extends Q{constructor(e){super(),q(this,e,Rc,Lc,W,{})}}function vn(t,e,r){const n=t.slice();return n[4]=e[r],n}function kn(t,e){let r,n,o=e[4].code+"",c,l,s,i=e[4].title+"",u,a,f,d,_;return{key:t,first:null,c(){r=w("div"),n=w("div"),c=L(o),l=B(),s=w("div"),u=L(i),a=B(),p(n,"class","_9tmh3"),p(s,"class","lB3BI"),p(r,"class","_3DaGu"),p(r,"data-role","item"),p(r,"data-code",f=e[4].code),this.first=r},m(h,g){I(h,r,g),m(r,n),m(n,c),m(r,l),m(r,s),m(s,u),m(r,a),d||(_=J(r,"click",e[1]),d=!0)},p(h,g){e=h,g&1&&o!==(o=e[4].code+"")&&z(c,o),g&1&&i!==(i=e[4].title+"")&&z(u,i),g&1&&f!==(f=e[4].code)&&p(r,"data-code",f)},d(h){h&&C(r),d=!1,_()}}}function Hc(t){let e=[],r=new Map,n,o=X(t[0]);const c=l=>l[4].code;for(let l=0;l<o.length;l+=1){let s=vn(t,o,l),i=c(s);r.set(i,e[l]=kn(i,s))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=oe()},m(l,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(l,s);I(l,n,s)},p(l,s){s&3&&(o=X(l[0]),e=Se(e,s,c,1,l,o,r,n.parentNode,qe,kn,n,vn))},d(l){l&&C(n);for(let s=0;s<e.length;s+=1)e[s].d(l)}}}function Fc(t){let e,r;return e=new _e({props:{slot:"header",title:"Currencies",back:!0,add:!0}}),e.$on("back",t[2]),e.$on("add",t[3]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function zc(t){let e,r;return e=new pe({props:{$$slots:{header:[Fc],default:[Hc]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&129&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Vc(t,e,r){let n;x(t,Te,s=>r(0,n=s));function o(s){if(console.log("e:",s),s.target instanceof HTMLElement){const i=s.target.closest('[data-role="item"]');i instanceof HTMLElement&&i.dataset.code&&F(`/currencies/${i.dataset.code}`)}}return[n,o,()=>{F("/")},()=>{F("/currencies/new")}]}class Kc extends Q{constructor(e){super(),q(this,e,Vc,zc,W,{})}}function Jc(t){let e,r,n,o,c,l,s,i,u,a,f;return{c(){e=w("form"),r=w("div"),n=w("input"),o=B(),c=w("div"),l=w("input"),s=B(),i=w("div"),u=w("button"),u.textContent=`${t[3]?"Save":"Create"}`,p(n,"type","text"),p(n,"placeholder","Title"),p(r,"class","_1H9BX"),p(l,"type","text"),p(l,"placeholder","Subtitle (optional)"),p(c,"class","_1H9BX"),p(u,"type","submit"),p(i,"class","_1H9BX"),p(e,"class","_2vZ1J")},m(d,_){I(d,e,_),m(e,r),m(r,n),V(n,t[0]),t[8](n),m(e,o),m(e,c),m(c,l),V(l,t[1]),m(e,s),m(e,i),m(i,u),a||(f=[J(n,"input",t[7]),J(l,"input",t[9]),J(e,"submit",Ve(t[4]))],a=!0)},p(d,_){_&1&&n.value!==d[0]&&V(n,d[0]),_&2&&l.value!==d[1]&&V(l,d[1])},d(d){d&&C(e),t[8](null),a=!1,ue(f)}}}function Wc(t){let e,r;return e=new _e({props:{slot:"header",title:t[3]?"Category":"New Category",back:!0}}),e.$on("back",t[6]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function qc(t){let e,r;return e=new pe({props:{$$slots:{header:[Wc],default:[Jc]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&2055&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Qc(t,e,r){let n;x(t,Ee,h=>r(10,n=h));let{id:o=void 0}=e,c=o?n.find(h=>h.id===o):null,l=c?c.title:"",s=c?c.subtitle:"",i;Je(()=>{i&&i.focus()});function u(){l.trim()?c?Ao({...c,title:l.trim(),subtitle:s.trim()}).then(()=>{F("/categories")}):Co(l.trim(),s.trim()).then(()=>{F("/categories")}):alert("The title must be specified.")}const a=()=>{F("/categories")};function f(){l=this.value,r(0,l)}function d(h){re[h?"unshift":"push"](()=>{i=h,r(2,i)})}function _(){s=this.value,r(1,s)}return t.$$set=h=>{"id"in h&&r(5,o=h.id)},[l,s,i,c,u,o,a,f,d,_]}class Sn extends Q{constructor(e){super(),q(this,e,Qc,qc,W,{id:5})}}function Xc(t){let e,r,n,o,c,l,s,i,u,a,f;return{c(){e=w("form"),r=w("div"),n=w("input"),o=B(),c=w("div"),l=w("input"),s=B(),i=w("div"),u=w("button"),u.textContent=`${t[4]?"Save":"Add"}`,p(n,"type","text"),p(n,"placeholder","Code"),n.disabled=t[4]!==null,p(r,"class","EbSwc"),p(l,"type","text"),p(l,"placeholder","Title"),p(c,"class","EbSwc"),p(u,"type","submit"),p(i,"class","EbSwc")},m(d,_){I(d,e,_),m(e,r),m(r,n),V(n,t[0]),t[9](n),m(e,o),m(e,c),m(c,l),V(l,t[1]),t[11](l),m(e,s),m(e,i),m(i,u),a||(f=[J(n,"input",t[8]),J(l,"input",t[10]),J(e,"submit",Ve(t[5]))],a=!0)},p(d,_){_&1&&n.value!==d[0]&&V(n,d[0]),_&2&&l.value!==d[1]&&V(l,d[1])},d(d){d&&C(e),t[9](null),t[11](null),a=!1,ue(f)}}}function Yc(t){let e,r;return e=new _e({props:{slot:"header",title:t[4]?"Currency":"New Currency",back:!0}}),e.$on("back",t[7]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function Zc(t){let e,r;return e=new pe({props:{$$slots:{header:[Yc],default:[Xc]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&8207&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function xc(t,e,r){let n;x(t,Te,b=>r(12,n=b));let{cid:o=void 0}=e,c=o?n.find(b=>b.code===o):null,l=c?c.code:"",s=c?c.title:"",i,u;function a(){l.trim()&&s.trim()?c?Eo({...c,title:s.trim()}).then(()=>{F("/currencies")}):Do(l.trim(),s.trim()).then(()=>{F("/currencies")}):alert("Code and title must be specified.")}Je(()=>{c?u&&u.focus():i&&i.focus()});const f=()=>{F("/currencies")};function d(){l=this.value,r(0,l)}function _(b){re[b?"unshift":"push"](()=>{i=b,r(2,i)})}function h(){s=this.value,r(1,s)}function g(b){re[b?"unshift":"push"](()=>{u=b,r(3,u)})}return t.$$set=b=>{"cid"in b&&r(6,o=b.cid)},[l,s,i,u,c,a,o,f,d,_,h,g]}class Cn extends Q{constructor(e){super(),q(this,e,xc,Zc,W,{cid:6})}}function In(t,e,r){const n=t.slice();return n[6]=e[r],n}function An(t,e,r){const n=t.slice();return n[9]=e[r],n}function Dn(t){let e,r=t[9].title+"",n,o;return{c(){e=w("option"),n=L(r),e.__value=o=t[9].id,V(e,e.__value)},m(c,l){I(c,e,l),m(e,n)},p(c,l){l&4&&r!==(r=c[9].title+"")&&z(n,r),l&4&&o!==(o=c[9].id)&&(e.__value=o,V(e,e.__value))},d(c){c&&C(e)}}}function En(t){let e,r,n=X(t[6].accounts),o=[];for(let c=0;c<n.length;c+=1)o[c]=Dn(An(t,n,c));return{c(){e=w("optgroup");for(let c=0;c<o.length;c+=1)o[c].c();p(e,"label",r=t[6].title)},m(c,l){I(c,e,l);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(e,null)},p(c,l){if(l&4){n=X(c[6].accounts);let s;for(s=0;s<n.length;s+=1){const i=An(c,n,s);o[s]?o[s].p(i,l):(o[s]=Dn(i),o[s].c(),o[s].m(e,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}l&4&&r!==(r=c[6].title)&&p(e,"label",r)},d(c){c&&C(e),ze(o,c)}}}function el(t){let e,r,n,o,c,l=X(t[2]),s=[];for(let i=0;i<l.length;i+=1)s[i]=En(In(t,l,i));return{c(){e=w("select"),r=w("option"),n=L(t[1]);for(let i=0;i<s.length;i+=1)s[i].c();r.__value="",V(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_1vWtV"),e.required=!0,t[0]===void 0&&ke(()=>t[5].call(e))},m(i,u){I(i,e,u),m(e,r),m(r,n);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null);$e(e,t[0],!0),o||(c=J(e,"change",t[5]),o=!0)},p(i,[u]){if(u&2&&z(n,i[1]),u&4){l=X(i[2]);let a;for(a=0;a<l.length;a+=1){const f=In(i,l,a);s[a]?s[a].p(f,u):(s[a]=En(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}u&5&&$e(e,i[0])},i:k,o:k,d(i){i&&C(e),ze(s,i),o=!1,c()}}}function tl(t,e,r){let n,o,c;x(t,me,u=>r(3,o=u)),x(t,Ce,u=>r(4,c=u));let{accountId:l}=e,{placeholder:s="Account"}=e;function i(){l=Ze(this),r(0,l),r(2,n),r(4,c),r(3,o)}return t.$$set=u=>{"accountId"in u&&r(0,l=u.accountId),"placeholder"in u&&r(1,s=u.placeholder)},t.$$.update=()=>{t.$$.dirty&24&&r(2,n=c.reduce((u,a)=>{const f={title:a.title,accounts:o.filter(d=>d.groupId===a.id)};return u.push(f),u},[]))},[l,s,n,o,c,i]}class nl extends Q{constructor(e){super(),q(this,e,tl,el,W,{accountId:0,placeholder:1})}}function Tn(t,e,r){const n=t.slice();return n[3]=e[r],n}function Nn(t,e){let r,n=e[3].title+"",o,c=e[3].subtitle?`:${e[3].subtitle}`:"",l,s;return{key:t,first:null,c(){r=w("option"),o=L(n),l=L(c),r.__value=s=e[3].id,V(r,r.__value),this.first=r},m(i,u){I(i,r,u),m(r,o),m(r,l)},p(i,u){e=i,u&2&&n!==(n=e[3].title+"")&&z(o,n),u&2&&c!==(c=e[3].subtitle?`:${e[3].subtitle}`:"")&&z(l,c),u&2&&s!==(s=e[3].id)&&(r.__value=s,V(r,r.__value))},d(i){i&&C(r)}}}function rl(t){let e,r,n=[],o=new Map,c,l,s=X(t[1]);const i=u=>u[3].id;for(let u=0;u<s.length;u+=1){let a=Tn(t,s,u),f=i(a);o.set(f,n[u]=Nn(f,a))}return{c(){e=w("select"),r=w("option"),r.textContent="Category";for(let u=0;u<n.length;u+=1)n[u].c();r.__value="",V(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_1m8Jt"),t[0]===void 0&&ke(()=>t[2].call(e)),Ue(e,"_36b4Q",!t[0])},m(u,a){I(u,e,a),m(e,r);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);$e(e,t[0],!0),c||(l=J(e,"change",t[2]),c=!0)},p(u,[a]){a&2&&(s=X(u[1]),n=Se(n,a,i,1,u,s,o,e,qe,Nn,null,Tn)),a&3&&$e(e,u[0]),a&1&&Ue(e,"_36b4Q",!u[0])},i:k,o:k,d(u){u&&C(e);for(let a=0;a<n.length;a+=1)n[a].d();c=!1,l()}}}function ol(t,e,r){let n;x(t,Ee,l=>r(1,n=l));let{categoryId:o}=e;function c(){o=Ze(this),r(0,o)}return t.$$set=l=>{"categoryId"in l&&r(0,o=l.categoryId)},[o,n,c]}class cl extends Q{constructor(e){super(),q(this,e,ol,rl,W,{categoryId:0})}}function ll(t,e,r){const n=t.slice();return n[11]=e[r],n}function sl(t){let e;return{c(){e=w("option"),e.textContent=`${t[11].title}`,e.__value=t[11].value,V(e,e.__value)},m(r,n){I(r,e,n)},p:k,d(r){r&&C(e)}}}function il(t){let e,r,n,o,c,l,s,i,u,a;function f(_){t[18](_)}let d={};return t[5]!==void 0&&(d.categoryId=t[5]),r=new cl({props:d}),re.push(()=>Fe(r,"categoryId",f)),{c(){e=w("div"),N(r.$$.fragment),o=B(),c=w("button"),l=L("Clear"),p(c,"type","button"),c.disabled=s=!t[5],p(e,"class","_1JmTY")},m(_,h){I(_,e,h),D(r,e,null),m(e,o),m(e,c),m(c,l),i=!0,u||(a=J(c,"click",nr(t[19])),u=!0)},p(_,h){const g={};!n&&h&32&&(n=!0,g.categoryId=_[5],He(()=>n=!1)),r.$set(g),(!i||h&32&&s!==(s=!_[5]))&&(c.disabled=s)},i(_){i||(y(r.$$.fragment,_),i=!0)},o(_){v(r.$$.fragment,_),i=!1},d(_){_&&C(e),E(r),u=!1,a()}}}function ul(t){let e,r,n;function o(l){t[17](l)}let c={placeholder:"To"};return t[1]!==void 0&&(c.accountId=t[1]),e=new nl({props:c}),re.push(()=>Fe(e,"accountId",o)),{c(){N(e.$$.fragment)},m(l,s){D(e,l,s),n=!0},p(l,s){const i={};!r&&s&2&&(r=!0,i.accountId=l[1],He(()=>r=!1)),e.$set(i)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){E(e,l)}}}function jn(t){var u;let e,r,n=((u=t[2])==null?void 0:u.currencyCode)+"",o,c,l,s,i;return{c(){e=w("div"),r=L("Amount, "),o=L(n),c=L(`:
      `),l=w("input"),p(l,"class","_1usnT"),p(l,"type","string")},m(a,f){I(a,e,f),m(e,r),m(e,o),m(e,c),m(e,l),V(l,t[9]),s||(i=J(l,"input",t[23]),s=!0)},p(a,f){var d;f&4&&n!==(n=((d=a[2])==null?void 0:d.currencyCode)+"")&&z(o,n),f&512&&V(l,a[9])},d(a){a&&C(e),s=!1,i()}}}function al(t){var R;let e,r,n,o,c,l,s,i,u,a,f,d,_,h=((R=t[3])==null?void 0:R.currencyCode)+"",g,b,S,M,T,G,U,P,j,O,A=t[0]?"Save":"Create",Y,ee,ae,de,Z=X(Bo),ce=[];for(let H=0;H<Z.length;H+=1)ce[H]=sl(ll(t,Z,H));const Ne=[ul,il],ne=[];function Ie(H,ie){return H[11]===ve.Transfer?0:1}l=Ie(t),s=ne[l]=Ne[l](t);let $=t[10]&&jn(t);return{c(){e=w("form"),r=w("div"),n=w("select");for(let H=0;H<ce.length;H+=1)ce[H].c();o=B(),c=w("div"),s.c(),i=B(),u=w("div"),a=w("input"),f=B(),d=w("div"),_=L("Amount, "),g=L(h),b=L(`:
    `),S=w("input"),M=B(),$&&$.c(),T=B(),G=w("div"),U=w("input"),P=B(),j=w("div"),O=w("button"),Y=L(A),p(n,"class","_1Hq_3"),t[11]===void 0&&ke(()=>t[16].call(n)),p(a,"class","_1usnT"),p(a,"type","datetime-local"),p(S,"class","_1usnT"),p(S,"type","text"),Ue(S,"_2gQro",!ot(t[8])),p(U,"class","_1usnT"),p(U,"type","text"),p(U,"placeholder","Comment"),p(O,"class","_3_X88"),p(O,"type","submit"),p(e,"class","pBK27")},m(H,ie){I(H,e,ie),m(e,r),m(r,n);for(let ye=0;ye<ce.length;ye+=1)ce[ye]&&ce[ye].m(n,null);$e(n,t[11],!0),m(e,o),m(e,c),ne[l].m(c,null),m(e,i),m(e,u),m(u,a),V(a,t[7]),m(e,f),m(e,d),m(d,_),m(d,g),m(d,b),m(d,S),V(S,t[8]),t[22](S),m(e,M),$&&$.m(e,null),m(e,T),m(e,G),m(G,U),V(U,t[6]),m(e,P),m(e,j),m(j,O),m(O,Y),ee=!0,ae||(de=[J(n,"change",t[16]),J(a,"input",t[20]),J(S,"input",t[21]),J(U,"input",t[24]),J(e,"submit",Ve(t[12]))],ae=!0)},p(H,[ie]){var Tt;ie&2048&&$e(n,H[11]);let ye=l;l=Ie(H),l===ye?ne[l].p(H,ie):(le(),v(ne[ye],1,1,()=>{ne[ye]=null}),se(),s=ne[l],s?s.p(H,ie):(s=ne[l]=Ne[l](H),s.c()),y(s,1),s.m(c,null)),ie&128&&V(a,H[7]),(!ee||ie&8)&&h!==(h=((Tt=H[3])==null?void 0:Tt.currencyCode)+"")&&z(g,h),ie&256&&S.value!==H[8]&&V(S,H[8]),(!ee||ie&256)&&Ue(S,"_2gQro",!ot(H[8])),H[10]?$?$.p(H,ie):($=jn(H),$.c(),$.m(e,T)):$&&($.d(1),$=null),ie&64&&U.value!==H[6]&&V(U,H[6]),(!ee||ie&1)&&A!==(A=H[0]?"Save":"Create")&&z(Y,A)},i(H){ee||(y(s),ee=!0)},o(H){v(s),ee=!1},d(H){H&&C(e),ze(ce,H),ne[l].d(),t[22](null),$&&$.d(),ae=!1,ue(de)}}}function fl(t,e,r){let n,o,c,l,s;x(t,me,Z=>r(15,s=Z));let{accountId:i}=e,{transactionDoc:u=null}=e,a;Je(()=>{a&&a.focus()});let{kind:f=ve.Expense,categoryId:d,secondAccountId:_,comment:h=""}=u||{},g=Mo(new Date((u==null?void 0:u.timestamp)||Date.now())),b=u?fe(u.amount):"1.00",S=u?fe(u.secondAmount):"1.00";const M=We();function T(){if(G()){const Z=f===ve.Transfer?{kind:f,timestamp:new Date(g).getTime(),accountId:i,secondAccountId:_,...l?{secondAmount:$t(S)}:{},amount:$t(b),comment:h.trim()}:{kind:f,timestamp:new Date(g).getTime(),accountId:i,categoryId:d||null,amount:$t(b),comment:h.trim()};M("save",{params:Z})}else alert("Please fill all the fields.")}function G(){return!(!ot(b)||f===ve.Transfer&&(!_||l&&!ot(S)))}function U(){f=Ze(this),r(11,f)}function P(Z){_=Z,r(1,_)}function j(Z){d=Z,r(5,d)}const O=()=>{r(5,d="")};function A(){g=this.value,r(7,g)}function Y(){b=this.value,r(8,b)}function ee(Z){re[Z?"unshift":"push"](()=>{a=Z,r(4,a)})}function ae(){S=this.value,r(9,S)}function de(){h=this.value,r(6,h)}return t.$$set=Z=>{"accountId"in Z&&r(13,i=Z.accountId),"transactionDoc"in Z&&r(0,u=Z.transactionDoc)},t.$$.update=()=>{t.$$.dirty&40960&&r(3,n=s.find(Z=>Z.id===i)),t.$$.dirty&8&&r(14,o=n==null?void 0:n.currencyCode),t.$$.dirty&32770&&r(2,c=_?s.find(Z=>Z.id===_):null),t.$$.dirty&16388&&r(10,l=c&&o?c.currencyCode!==o:!1)},[u,_,c,n,a,d,h,g,b,S,l,f,T,i,o,s,U,P,j,O,A,Y,ee,ae,de]}class Xn extends Q{constructor(e){super(),q(this,e,fl,al,W,{accountId:13,transactionDoc:0})}}function dl(t){let e,r;return e=new Xn({props:{accountId:t[0]}}),e.$on("save",t[4]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,o){const c={};o&1&&(c.accountId=n[0]),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function _l(t){let e,r,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:hl,then:ml,catch:pl,blocks:[,,,]};return Ye(r=t[3](t[1]),o),{c(){e=oe(),o.block.c()},m(c,l){I(c,e,l),o.block.m(c,o.anchor=l),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(c,l){t=c,o.ctx=t,l&2&&r!==(r=t[3](t[1]))&&Ye(r,o)||Gn(o,t,l)},i(c){n||(y(o.block),n=!0)},o(c){for(let l=0;l<3;l+=1){const s=o.blocks[l];v(s)}n=!1},d(c){c&&C(e),o.block.d(c),o.token=null,o=null}}}function pl(t){return{c:k,m:k,p:k,i:k,o:k,d:k}}function ml(t){let e,r;return e=new Xn({props:{accountId:t[0],transactionDoc:t[2]}}),e.$on("save",t[4]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,o){const c={};o&1&&(c.accountId=n[0]),o&4&&(c.transactionDoc=n[2]),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function hl(t){return{c:k,m:k,p:k,i:k,o:k,d:k}}function gl(t){let e,r,n,o;const c=[_l,dl],l=[];function s(i,u){return i[1]?0:1}return e=s(t),r=l[e]=c[e](t),{c(){r.c(),n=oe()},m(i,u){l[e].m(i,u),I(i,n,u),o=!0},p(i,u){let a=e;e=s(i),e===a?l[e].p(i,u):(le(),v(l[a],1,1,()=>{l[a]=null}),se(),r=l[e],r?r.p(i,u):(r=l[e]=c[e](i),r.c()),y(r,1),r.m(n.parentNode,n))},i(i){o||(y(r),o=!0)},o(i){v(r),o=!1},d(i){i&&C(n),l[e].d(i)}}}function $l(t){let e,r;return e=new _e({props:{slot:"header",title:"Transaction",back:!0}}),e.$on("back",t[5]),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p:k,i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function bl(t){let e,r;return e=new pe({props:{$$slots:{header:[$l],default:[gl]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},p(n,[o]){const c={};o&71&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function yl(t,e,r){let{id:n}=e,{tid:o=void 0}=e,c;async function l(u){r(2,c=await wo(u))}function s(u){o?yo(c,u.detail.params).then(()=>{F(`/accounts/${n}`)}):To(u.detail.params).then(()=>{F(`/accounts/${n}`)})}const i=()=>{F(`/accounts/${n}`)};return t.$$set=u=>{"id"in u&&r(0,n=u.id),"tid"in u&&r(1,o=u.tid)},[n,o,c,l,s,i]}class Bn extends Q{constructor(e){super(),q(this,e,yl,bl,W,{id:0,tid:1})}}function wl(t){return{c:k,m:k,i:k,o:k,d:k}}function vl(t){let e,r;return e=new Mr({props:{$$slots:{default:[Sl]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(n,o){D(e,n,o),r=!0},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){v(e.$$.fragment,n),r=!1},d(n){E(e,n)}}}function kl(t){let e;return{c(){e=w("h2"),e.textContent="Default route test"},m(r,n){I(r,e,n)},p:k,d(r){r&&C(e)}}}function Sl(t){let e,r,n,o,c,l,s,i,u,a,f,d,_,h,g,b,S,M,T,G,U,P,j,O,A,Y,ee,ae,de,Z,ce,Ne,ne,Ie;return e=new te({props:{path:"/",component:ec}}),n=new te({props:{path:"/groups",component:cc}}),c=new te({props:{path:"/groups/new",component:fn}}),s=new te({props:{path:"/groups/:id",component:fn}}),u=new te({props:{path:"/accounts/new",component:pn}}),f=new te({props:{path:"/accounts/:id",component:Tc}}),_=new te({props:{path:"/accounts/:id/edit",component:pn}}),g=new te({props:{path:"/accounts/:id/transactions/new",component:Bn}}),S=new te({props:{path:"/accounts/:id/transactions/:tid",component:Bn}}),T=new te({props:{path:"/categories",component:Pc}}),U=new te({props:{path:"/categories/new",component:Sn}}),j=new te({props:{path:"/categories/:id",component:Sn}}),A=new te({props:{path:"/currencies",component:Kc}}),ee=new te({props:{path:"/currencies/new",component:Cn}}),de=new te({props:{path:"/currencies/:cid",component:Cn}}),ce=new te({props:{path:"/settings",component:Uc}}),ne=new te({props:{$$slots:{default:[kl]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment),r=B(),N(n.$$.fragment),o=B(),N(c.$$.fragment),l=B(),N(s.$$.fragment),i=B(),N(u.$$.fragment),a=B(),N(f.$$.fragment),d=B(),N(_.$$.fragment),h=B(),N(g.$$.fragment),b=B(),N(S.$$.fragment),M=B(),N(T.$$.fragment),G=B(),N(U.$$.fragment),P=B(),N(j.$$.fragment),O=B(),N(A.$$.fragment),Y=B(),N(ee.$$.fragment),ae=B(),N(de.$$.fragment),Z=B(),N(ce.$$.fragment),Ne=B(),N(ne.$$.fragment)},m($,R){D(e,$,R),I($,r,R),D(n,$,R),I($,o,R),D(c,$,R),I($,l,R),D(s,$,R),I($,i,R),D(u,$,R),I($,a,R),D(f,$,R),I($,d,R),D(_,$,R),I($,h,R),D(g,$,R),I($,b,R),D(S,$,R),I($,M,R),D(T,$,R),I($,G,R),D(U,$,R),I($,P,R),D(j,$,R),I($,O,R),D(A,$,R),I($,Y,R),D(ee,$,R),I($,ae,R),D(de,$,R),I($,Z,R),D(ce,$,R),I($,Ne,R),D(ne,$,R),Ie=!0},p($,R){const H={};R&1&&(H.$$scope={dirty:R,ctx:$}),ne.$set(H)},i($){Ie||(y(e.$$.fragment,$),y(n.$$.fragment,$),y(c.$$.fragment,$),y(s.$$.fragment,$),y(u.$$.fragment,$),y(f.$$.fragment,$),y(_.$$.fragment,$),y(g.$$.fragment,$),y(S.$$.fragment,$),y(T.$$.fragment,$),y(U.$$.fragment,$),y(j.$$.fragment,$),y(A.$$.fragment,$),y(ee.$$.fragment,$),y(de.$$.fragment,$),y(ce.$$.fragment,$),y(ne.$$.fragment,$),Ie=!0)},o($){v(e.$$.fragment,$),v(n.$$.fragment,$),v(c.$$.fragment,$),v(s.$$.fragment,$),v(u.$$.fragment,$),v(f.$$.fragment,$),v(_.$$.fragment,$),v(g.$$.fragment,$),v(S.$$.fragment,$),v(T.$$.fragment,$),v(U.$$.fragment,$),v(j.$$.fragment,$),v(A.$$.fragment,$),v(ee.$$.fragment,$),v(de.$$.fragment,$),v(ce.$$.fragment,$),v(ne.$$.fragment,$),Ie=!1},d($){$&&(C(r),C(o),C(l),C(i),C(a),C(d),C(h),C(b),C(M),C(G),C(P),C(O),C(Y),C(ae),C(Z),C(Ne)),E(e,$),E(n,$),E(c,$),E(s,$),E(u,$),E(f,$),E(_,$),E(g,$),E(S,$),E(T,$),E(U,$),E(j,$),E(A,$),E(ee,$),E(de,$),E(ce,$),E(ne,$)}}}function Cl(t){return{c:k,m:k,i:k,o:k,d:k}}function Il(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:Cl,then:vl,catch:wl,blocks:[,,,]};return Ye(jo,n),{c(){e=oe(),n.block.c()},m(o,c){I(o,e,c),n.block.m(o,n.anchor=c),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(o,[c]){t=o},i(o){r||(y(n.block),r=!0)},o(o){for(let c=0;c<3;c+=1){const l=n.blocks[c];v(l)}r=!1},d(o){o&&C(e),n.block.d(o),n.token=null,n=null}}}class Al extends Q{constructor(e){super(),q(this,e,null,Il,W,{})}}new Al({target:document.getElementById("app")});
