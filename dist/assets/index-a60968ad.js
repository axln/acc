var cr=Object.defineProperty;var sr=(t,e,r)=>e in t?cr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _t=(t,e,r)=>(sr(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function C(){}function Te(t,e){for(const r in e)t[r]=e[r];return t}function lr(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Hn(t){return t()}function Gt(){return Object.create(null)}function ae(t){t.forEach(Hn)}function it(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ir(t){return Object.keys(t).length===0}function Fn(t,...e){if(t==null){for(const n of e)n(void 0);return C}const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function X(t,e,r){t.$$.on_destroy.push(Fn(e,r))}function Ne(t,e,r,n){if(t){const o=zn(t,e,r,n);return t[0](o)}}function zn(t,e,r,n){return t[1]&&n?Te(r.ctx.slice(),t[1](n(e))):r.ctx}function je(t,e,r,n){if(t[2]&&n){const o=t[2](n(r));if(e.dirty===void 0)return o;if(typeof o=="object"){const c=[],s=Math.max(e.dirty.length,o.length);for(let l=0;l<s;l+=1)c[l]=e.dirty[l]|o[l];return c}return e.dirty|o}return e.dirty}function Be(t,e,r,n,o,c){if(o){const s=zn(e,r,n,c);t.p(s,o)}}function Oe(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function kt(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function Lt(t,e){const r={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(r[n]=t[n]);return r}function ur(t){return t&&it(t.destroy)?t.destroy:C}function h(t,e){t.appendChild(e)}function A(t,e,r){t.insertBefore(e,r||null)}function I(t){t.parentNode&&t.parentNode.removeChild(t)}function Xe(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function w(t){return document.createElement(t)}function ge(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function L(t){return document.createTextNode(t)}function B(){return L(" ")}function ie(){return L("")}function W(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function qe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ar(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function p(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}const fr=["width","height"];function Rt(t,e){const r=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:r[n]&&r[n].set&&fr.indexOf(n)===-1?t[n]=e[n]:p(t,n,e[n])}function dr(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.data!==e&&(t.data=e)}function K(t,e){t.value=e??""}function be(t,e,r){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function nt(t){const e=t.querySelector(":checked");return e&&e.__value}function Je(t,e,r){t.classList.toggle(e,!!r)}function _r(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}function Ut(t,e){return new t(e)}let xe;function ye(t){xe=t}function Ye(){if(!xe)throw new Error("Function called outside component initialization");return xe}function Qe(t){Ye().$$.on_mount.push(t)}function pr(t){Ye().$$.on_destroy.push(t)}function Me(){const t=Ye();return(e,r,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const c=_r(e,r,{cancelable:n});return o.slice().forEach(s=>{s.call(t,c)}),!c.defaultPrevented}return!0}}function pt(t,e){return Ye().$$.context.set(t,e),e}function Ke(t){return Ye().$$.context.get(t)}const ze=[],le=[];let Ve=[];const St=[],mr=Promise.resolve();let Ct=!1;function hr(){Ct||(Ct=!0,mr.then(Tt))}function Se(t){Ve.push(t)}function Ze(t){St.push(t)}const mt=new Set;let He=0;function Tt(){if(He!==0)return;const t=xe;do{try{for(;He<ze.length;){const e=ze[He];He++,ye(e),gr(e.$$)}}catch(e){throw ze.length=0,He=0,e}for(ye(null),ze.length=0,He=0;le.length;)le.pop()();for(let e=0;e<Ve.length;e+=1){const r=Ve[e];mt.has(r)||(mt.add(r),r())}Ve.length=0}while(ze.length);for(;St.length;)St.pop()();Ct=!1,mt.clear(),ye(t)}function gr(t){if(t.fragment!==null){t.update(),ae(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Se)}}function $r(t){const e=[],r=[];Ve.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),Ve=e}const ct=new Set;let De;function ce(){De={r:0,c:[],p:De}}function se(){De.r||ae(De.c),De=De.p}function $(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function y(t,e,r,n){if(t&&t.o){if(ct.has(t))return;ct.add(t),De.c.push(()=>{ct.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function et(t,e){const r=e.token={};function n(o,c,s,l){if(e.token!==r)return;e.resolved=l;let i=e.ctx;s!==void 0&&(i=i.slice(),i[s]=l);const u=o&&(e.current=o)(i);let a=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==c&&f&&(ce(),y(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),se())}):e.block.d(1),u.c(),$(u,1),u.m(e.mount(),e.anchor),a=!0),e.block=u,e.blocks&&(e.blocks[c]=u),a&&Tt()}if(lr(t)){const o=Ye();if(t.then(c=>{ye(o),n(e.then,1,e.value,c),ye(null)},c=>{if(ye(o),n(e.catch,2,e.error,c),ye(null),!e.hasCatch)throw c}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function Kn(t,e,r){const n=e.slice(),{resolved:o}=t;t.current===t.then&&(n[t.value]=o),t.current===t.catch&&(n[t.error]=o),t.block.p(n,r)}function Y(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function rt(t,e){t.d(1),e.delete(t.key)}function Nt(t,e){y(t,1,1,()=>{e.delete(t.key)})}function Ce(t,e,r,n,o,c,s,l,i,u,a,f){let d=t.length,_=c.length,m=d;const g={};for(;m--;)g[t[m].key]=m;const v=[],S=new Map,D=new Map,P=[];for(m=_;m--;){const k=f(o,c,m),G=r(k);let E=s.get(G);E?n&&P.push(()=>E.p(k,e)):(E=u(G,k),E.c()),S.set(G,v[m]=E),G in g&&D.set(G,Math.abs(m-g[G]))}const M=new Set,R=new Set;function O(k){$(k,1),k.m(l,a),s.set(k.key,k),a=k.first,_--}for(;d&&_;){const k=v[_-1],G=t[d-1],E=k.key,Q=G.key;k===G?(a=k.first,d--,_--):S.has(Q)?!s.has(E)||M.has(E)?O(k):R.has(Q)?d--:D.get(E)>D.get(Q)?(R.add(E),O(k)):(M.add(Q),d--):(i(G,s),d--)}for(;d--;){const k=t[d];S.has(k.key)||i(k,s)}for(;_;)O(v[_-1]);return ae(P),v}function It(t,e){const r={},n={},o={$$scope:1};let c=t.length;for(;c--;){const s=t[c],l=e[c];if(l){for(const i in s)i in l||(n[i]=1);for(const i in l)o[i]||(r[i]=l[i],o[i]=1);t[c]=l}else for(const i in s)o[i]=1}for(const s in n)s in r||(r[s]=void 0);return r}function ot(t){return typeof t=="object"&&t!==null?t:{}}function We(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function j(t){t&&t.c()}function T(t,e,r){const{fragment:n,after_update:o}=t.$$;n&&n.m(e,r),Se(()=>{const c=t.$$.on_mount.map(Hn).filter(it);t.$$.on_destroy?t.$$.on_destroy.push(...c):ae(c),t.$$.on_mount=[]}),o.forEach(Se)}function N(t,e){const r=t.$$;r.fragment!==null&&($r(r.after_update),ae(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function br(t,e){t.$$.dirty[0]===-1&&(ze.push(t),hr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(t,e,r,n,o,c,s=null,l=[-1]){const i=xe;ye(t);const u=t.$$={fragment:null,ctx:[],props:c,update:C,not_equal:o,bound:Gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Gt(),dirty:l,skip_bound:!1,root:e.target||i.$$.root};s&&s(u.root);let a=!1;if(u.ctx=r?r(t,e.props||{},(f,d,..._)=>{const m=_.length?_[0]:d;return u.ctx&&o(u.ctx[f],u.ctx[f]=m)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](m),a&&br(t,f)),d}):[],u.update(),a=!0,ae(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=dr(e.target);u.fragment&&u.fragment.l(f),f.forEach(I)}else u.fragment&&u.fragment.c();e.intro&&$(t.$$.fragment),T(t,e.target,e.anchor),Tt()}ye(i)}class Z{constructor(){_t(this,"$$");_t(this,"$$set")}$destroy(){N(this,1),this.$destroy=C}$on(e,r){if(!it(r))return C;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const o=n.indexOf(r);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!ir(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const yr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yr);const At={},st={},Vn={},Jn=/^:(.+)/,Ht=4,wr=3,vr=2,kr=1,Sr=1,tt=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),ht=t=>t.replace(/(^\/+|\/+$)/g,""),Cr=(t,e)=>{const r=t.default?0:tt(t.path).reduce((n,o)=>(n+=Ht,o===""?n+=Sr:Jn.test(o)?n+=vr:o[0]==="*"?n-=Ht+kr:n+=wr,n),0);return{route:t,score:r,index:e}},Ir=t=>t.map(Cr).sort((e,r)=>e.score<r.score?1:e.score>r.score?-1:e.index-r.index),Ft=(t,e)=>{let r,n;const[o]=e.split("?"),c=tt(o),s=c[0]==="",l=Ir(t);for(let i=0,u=l.length;i<u;i++){const a=l[i].route;let f=!1;if(a.default){n={route:a,params:{},uri:e};continue}const d=tt(a.path),_={},m=Math.max(c.length,d.length);let g=0;for(;g<m;g++){const v=d[g],S=c[g];if(v&&v[0]==="*"){const P=v==="*"?"*":v.slice(1);_[P]=c.slice(g).map(decodeURIComponent).join("/");break}if(typeof S>"u"){f=!0;break}const D=Jn.exec(v);if(D&&!s){const P=decodeURIComponent(S);_[D[1]]=P}else if(v!==S){f=!0;break}}if(!f){r={route:a,params:_,uri:"/"+c.slice(0,g).join("/")};break}}return r||n||null},gt=(t,e)=>t+(e?`?${e}`:""),Ar=(t,e)=>{if(t.startsWith("/"))return t;const[r,n]=t.split("?"),[o]=e.split("?"),c=tt(r),s=tt(o);if(c[0]==="")return gt(o,n);if(!c[0].startsWith(".")){const u=s.concat(c).join("/");return gt((o==="/"?"":"/")+u,n)}const l=s.concat(c),i=[];return l.forEach(u=>{u===".."?i.pop():u!=="."&&i.push(u)}),gt("/"+i.join("/"),n)},zt=(t,e)=>`${ht(e==="/"?t:`${ht(t)}/${ht(e)}`)}/`,Dr=t=>!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey),Zn=()=>typeof window<"u"&&"document"in window&&"location"in window,Pr=t=>({active:t&4}),Kt=t=>({active:!!t[2]});function Er(t){let e,r,n,o;const c=t[16].default,s=Ne(c,t,t[15],Kt);let l=[{href:t[0]},{"aria-current":t[2]},t[1],t[6]],i={};for(let u=0;u<l.length;u+=1)i=Te(i,l[u]);return{c(){e=w("a"),s&&s.c(),Rt(e,i)},m(u,a){A(u,e,a),s&&s.m(e,null),r=!0,n||(o=W(e,"click",t[5]),n=!0)},p(u,[a]){s&&s.p&&(!r||a&32772)&&Be(s,c,u,u[15],r?je(c,u[15],a,Pr):Oe(u[15]),Kt),Rt(e,i=It(l,[(!r||a&1)&&{href:u[0]},(!r||a&4)&&{"aria-current":u[2]},a&2&&u[1],a&64&&u[6]]))},i(u){r||($(s,u),r=!0)},o(u){y(s,u),r=!1},d(u){u&&I(e),s&&s.d(u),n=!1,o()}}}function Tr(t,e,r){let n;const o=["to","replace","state","getProps"];let c=Lt(e,o),s,l,{$$slots:i={},$$scope:u}=e,{to:a="#"}=e,{replace:f=!1}=e,{state:d={}}=e,{getProps:_=()=>({})}=e;const m=Ke(At);X(t,m,k=>r(13,s=k));const{base:g}=Ke(st);X(t,g,k=>r(14,l=k));const{navigate:v}=Ke(Vn),S=Me();let D,P,M,R;const O=k=>{if(S("click",k),Dr(k)){k.preventDefault();const G=s.pathname===D||f;v(D,{state:d,replace:G})}};return t.$$set=k=>{e=Te(Te({},e),kt(k)),r(6,c=Lt(e,o)),"to"in k&&r(7,a=k.to),"replace"in k&&r(8,f=k.replace),"state"in k&&r(9,d=k.state),"getProps"in k&&r(10,_=k.getProps),"$$scope"in k&&r(15,u=k.$$scope)},t.$$.update=()=>{t.$$.dirty&16512&&r(0,D=a==="/"?l.uri:Ar(a,l.uri)),t.$$.dirty&8193&&r(11,P=s.pathname.startsWith(D)),t.$$.dirty&8193&&r(12,M=D===s.pathname),t.$$.dirty&4096&&r(2,n=M?"page":void 0),r(1,R=_({location:s,href:D,isPartiallyCurrent:P,isCurrent:M,existingProps:c}))},[D,R,n,m,g,O,c,a,f,d,_,P,M,s,l,u,i]}class jt extends Z{constructor(e){super(),J(this,e,Tr,Er,V,{to:7,replace:8,state:9,getProps:10})}}const Nr=t=>({params:t&4}),Vt=t=>({params:t[2]});function Jt(t){let e,r,n,o;const c=[Br,jr],s=[];function l(i,u){return i[0]?0:1}return e=l(t),r=s[e]=c[e](t),{c(){r.c(),n=ie()},m(i,u){s[e].m(i,u),A(i,n,u),o=!0},p(i,u){let a=e;e=l(i),e===a?s[e].p(i,u):(ce(),y(s[a],1,1,()=>{s[a]=null}),se(),r=s[e],r?r.p(i,u):(r=s[e]=c[e](i),r.c()),$(r,1),r.m(n.parentNode,n))},i(i){o||($(r),o=!0)},o(i){y(r),o=!1},d(i){i&&I(n),s[e].d(i)}}}function jr(t){let e;const r=t[8].default,n=Ne(r,t,t[7],Vt);return{c(){n&&n.c()},m(o,c){n&&n.m(o,c),e=!0},p(o,c){n&&n.p&&(!e||c&132)&&Be(n,r,o,o[7],e?je(r,o[7],c,Nr):Oe(o[7]),Vt)},i(o){e||($(n,o),e=!0)},o(o){y(n,o),e=!1},d(o){n&&n.d(o)}}}function Br(t){let e,r,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Gr,then:Mr,catch:Or,value:12,blocks:[,,,]};return et(r=t[0],o),{c(){e=ie(),o.block.c()},m(c,s){A(c,e,s),o.block.m(c,o.anchor=s),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(c,s){t=c,o.ctx=t,s&1&&r!==(r=t[0])&&et(r,o)||Kn(o,t,s)},i(c){n||($(o.block),n=!0)},o(c){for(let s=0;s<3;s+=1){const l=o.blocks[s];y(l)}n=!1},d(c){c&&I(e),o.block.d(c),o.token=null,o=null}}}function Or(t){return{c:C,m:C,p:C,i:C,o:C,d:C}}function Mr(t){var l;let e,r,n;const o=[t[2],t[3]];var c=((l=t[12])==null?void 0:l.default)||t[12];function s(i,u){let a={};if(u!==void 0&&u&12)a=It(o,[u&4&&ot(i[2]),u&8&&ot(i[3])]);else for(let f=0;f<o.length;f+=1)a=Te(a,o[f]);return{props:a}}return c&&(e=Ut(c,s(t))),{c(){e&&j(e.$$.fragment),r=ie()},m(i,u){e&&T(e,i,u),A(i,r,u),n=!0},p(i,u){var a;if(u&1&&c!==(c=((a=i[12])==null?void 0:a.default)||i[12])){if(e){ce();const f=e;y(f.$$.fragment,1,0,()=>{N(f,1)}),se()}c?(e=Ut(c,s(i,u)),j(e.$$.fragment),$(e.$$.fragment,1),T(e,r.parentNode,r)):e=null}else if(c){const f=u&12?It(o,[u&4&&ot(i[2]),u&8&&ot(i[3])]):{};e.$set(f)}},i(i){n||(e&&$(e.$$.fragment,i),n=!0)},o(i){e&&y(e.$$.fragment,i),n=!1},d(i){i&&I(r),e&&N(e,i)}}}function Gr(t){return{c:C,m:C,p:C,i:C,o:C,d:C}}function Lr(t){let e,r,n=t[1]&&t[1].route===t[5]&&Jt(t);return{c(){n&&n.c(),e=ie()},m(o,c){n&&n.m(o,c),A(o,e,c),r=!0},p(o,[c]){o[1]&&o[1].route===o[5]?n?(n.p(o,c),c&2&&$(n,1)):(n=Jt(o),n.c(),$(n,1),n.m(e.parentNode,e)):n&&(ce(),y(n,1,1,()=>{n=null}),se())},i(o){r||($(n),r=!0)},o(o){y(n),r=!1},d(o){o&&I(e),n&&n.d(o)}}}function Rr(t,e,r){let n,{$$slots:o={},$$scope:c}=e,{path:s=""}=e,{component:l=null}=e,i={},u={};const{registerRoute:a,unregisterRoute:f,activeRoute:d}=Ke(st);X(t,d,m=>r(1,n=m));const _={path:s,default:s===""};return a(_),pr(()=>{f(_)}),t.$$set=m=>{r(11,e=Te(Te({},e),kt(m))),"path"in m&&r(6,s=m.path),"component"in m&&r(0,l=m.component),"$$scope"in m&&r(7,c=m.$$scope)},t.$$.update=()=>{if(n&&n.route===_){r(2,i=n.params);const{component:m,path:g,...v}=e;r(3,u=v),m&&(m.toString().startsWith("class ")?r(0,l=m):r(0,l=m())),Zn()&&(window==null||window.scrollTo(0,0))}},e=kt(e),[l,n,i,u,d,_,s,c,o]}class te extends Z{constructor(e){super(),J(this,e,Rr,Lr,V,{path:6,component:0})}}const Fe=[];function Ur(t,e){return{subscribe:$e(t,e).subscribe}}function $e(t,e=C){let r;const n=new Set;function o(l){if(V(t,l)&&(t=l,r)){const i=!Fe.length;for(const u of n)u[1](),Fe.push(u,t);if(i){for(let u=0;u<Fe.length;u+=2)Fe[u][0](Fe[u+1]);Fe.length=0}}}function c(l){o(l(t))}function s(l,i=C){const u=[l,i];return n.add(u),n.size===1&&(r=e(o,c)||C),l(t),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:o,update:c,subscribe:s}}function Hr(t,e,r){const n=!Array.isArray(t),o=n?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=e.length<2;return Ur(r,(s,l)=>{let i=!1;const u=[];let a=0,f=C;const d=()=>{if(a)return;f();const m=e(n?u[0]:u,s,l);c?s(m):f=it(m)?m:C},_=o.map((m,g)=>Fn(m,v=>{u[g]=v,a&=~(1<<g),i&&d()},()=>{a|=1<<g}));return i=!0,d(),function(){ae(_),f(),i=!1}})}const $t=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Fr=t=>{const e=[];let r=$t(t);return{get location(){return r},listen(n){e.push(n);const o=()=>{r=$t(t),n({location:r,action:"POP"})};return t.addEventListener("popstate",o),()=>{t.removeEventListener("popstate",o);const c=e.indexOf(n);e.splice(c,1)}},navigate(n,{state:o,replace:c=!1}={}){o={...o,key:Date.now()+""};try{c?t.history.replaceState(o,"",n):t.history.pushState(o,"",n)}catch{t.location[c?"replace":"assign"](n)}r=$t(t),e.forEach(s=>s({location:r,action:"PUSH"})),document.activeElement.blur()}}},zr=(t="/")=>{let e=0;const r=[{pathname:t,search:""}],n=[];return{get location(){return r[e]},addEventListener(o,c){},removeEventListener(o,c){},history:{get entries(){return r},get index(){return e},get state(){return n[e]},pushState(o,c,s){const[l,i=""]=s.split("?");e++,r.push({pathname:l,search:i}),n.push(o)},replaceState(o,c,s){const[l,i=""]=s.split("?");r[e]={pathname:l,search:i},n[e]=o}}}},Wn=Fr(Zn()?window:zr()),{navigate:ne}=Wn,Kr=t=>({route:t&2,location:t&1}),Zt=t=>({route:t[1]&&t[1].uri,location:t[0]});function Vr(t){let e;const r=t[12].default,n=Ne(r,t,t[11],Zt);return{c(){n&&n.c()},m(o,c){n&&n.m(o,c),e=!0},p(o,[c]){n&&n.p&&(!e||c&2051)&&Be(n,r,o,o[11],e?je(r,o[11],c,Kr):Oe(o[11]),Zt)},i(o){e||($(n,o),e=!0)},o(o){y(n,o),e=!1},d(o){n&&n.d(o)}}}function Jr(t,e,r){let n,o,c,s,{$$slots:l={},$$scope:i}=e,{basepath:u="/"}=e,{url:a=null}=e,{history:f=Wn}=e;pt(Vn,f);const d=Ke(At),_=Ke(st),m=$e([]);X(t,m,O=>r(9,o=O));const g=$e(null);X(t,g,O=>r(1,s=O));let v=!1;const S=d||$e(a?{pathname:a}:f.location);X(t,S,O=>r(0,n=O));const D=_?_.routerBase:$e({path:u,uri:u});X(t,D,O=>r(10,c=O));const P=Hr([D,g],([O,k])=>{if(!k)return O;const{path:G}=O,{route:E,uri:Q}=k;return{path:E.default?G:E.path.replace(/\*.*$/,""),uri:Q}}),M=O=>{const{path:k}=c;let{path:G}=O;if(O._path=G,O.path=zt(k,G),typeof window>"u"){if(v)return;const E=Ft([O],n.pathname);E&&(g.set(E),v=!0)}else m.update(E=>[...E,O])},R=O=>{m.update(k=>k.filter(G=>G!==O))};return d||(Qe(()=>f.listen(k=>{S.set(k.location)})),pt(At,S)),pt(st,{activeRoute:g,base:D,routerBase:P,registerRoute:M,unregisterRoute:R}),t.$$set=O=>{"basepath"in O&&r(6,u=O.basepath),"url"in O&&r(7,a=O.url),"history"in O&&r(8,f=O.history),"$$scope"in O&&r(11,i=O.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1024){const{path:O}=c;m.update(k=>k.map(G=>Object.assign(G,{path:zt(O,G._path)})))}if(t.$$.dirty&513){const O=Ft(o,n.pathname);g.set(O)}},[n,s,m,g,S,D,u,a,f,o,c,i,l]}class Zr extends Z{constructor(e){super(),J(this,e,Jr,Vr,V,{basepath:6,url:7,history:8})}}function Wr(t){function e(n){n.target instanceof Node&&t.hasAttribute("data-opened")&&(t.contains(n.target)||t.removeAttribute("data-opened"))}function r(n){n.code==="Escape"&&t.hasAttribute("data-opened")&&t.removeAttribute("data-opened")}return document.addEventListener("click",e),document.addEventListener("keydown",r),{destroy(){document.removeEventListener("keydown",r),document.removeEventListener("click",e)}}}const Xr=t=>({}),Wt=t=>({});function qr(t){let e,r,n,o,c,s,l,i;const u=t[4].default,a=Ne(u,t,t[3],null),f=t[4].content,d=Ne(f,t,t[3],Wt);return{c(){e=w("div"),r=w("div"),a&&a.c(),n=B(),o=w("div"),d&&d.c(),p(r,"class","_3g1Lt"),p(o,"class","_214AN"),p(e,"class",c="_1vPHZ "+t[0])},m(_,m){A(_,e,m),h(e,r),a&&a.m(r,null),h(e,n),h(e,o),d&&d.m(o,null),t[6](e),s=!0,l||(i=[W(r,"click",t[5]),ur(Wr.call(null,e))],l=!0)},p(_,[m]){a&&a.p&&(!s||m&8)&&Be(a,u,_,_[3],s?je(u,_[3],m,null):Oe(_[3]),null),d&&d.p&&(!s||m&8)&&Be(d,f,_,_[3],s?je(f,_[3],m,Xr):Oe(_[3]),Wt),(!s||m&1&&c!==(c="_1vPHZ "+_[0]))&&p(e,"class",c)},i(_){s||($(a,_),$(d,_),s=!0)},o(_){y(a,_),y(d,_),s=!1},d(_){_&&I(e),a&&a.d(_),d&&d.d(_),t[6](null),l=!1,ae(i)}}}function Yr(t,e,r){let{$$slots:n={},$$scope:o}=e,c,{class:s=void 0}=e;function l(){c.toggleAttribute("data-opened",!1)}const i=()=>{c.toggleAttribute("data-opened")};function u(a){le[a?"unshift":"push"](()=>{c=a,r(1,c)})}return t.$$set=a=>{"class"in a&&r(0,s=a.class),"$$scope"in a&&r(3,o=a.$$scope)},[s,c,l,o,n,i,u]}class Qr extends Z{constructor(e){super(),J(this,e,Yr,qr,V,{class:0,close:2})}get close(){return this.$$.ctx[2]}}function Xt(t,e,r){const n=t.slice();return n[3]=e[r],n}function xr(t){let e,r=t[3].title+"",n;return{c(){e=w("span"),n=L(r),p(e,"class","_2YoB_")},m(o,c){A(o,e,c),h(e,n)},p(o,c){c&1&&r!==(r=o[3].title+"")&&z(n,r)},i:C,o:C,d(o){o&&I(e)}}}function eo(t){let e,r;return e=new jt({props:{class:"_2blFf",to:t[3].to,$$slots:{default:[to]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&1&&(c.to=n[3].to),o&65&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function to(t){let e=t[3].title+"",r;return{c(){r=L(e)},m(n,o){A(n,r,o)},p(n,o){o&1&&e!==(e=n[3].title+"")&&z(r,e)},d(n){n&&I(r)}}}function qt(t,e){let r,n,o,c,s,l,i,u;const a=[eo,xr],f=[];function d(_,m){return _[3].to?0:1}return n=d(e),o=f[n]=a[n](e),{key:t,first:null,c(){r=w("li"),o.c(),c=B(),p(r,"class","_161ne"),p(r,"data-id",s=e[3].id),this.first=r},m(_,m){A(_,r,m),f[n].m(r,null),h(r,c),l=!0,i||(u=W(r,"click",e[2]),i=!0)},p(_,m){e=_;let g=n;n=d(e),n===g?f[n].p(e,m):(ce(),y(f[g],1,1,()=>{f[g]=null}),se(),o=f[n],o?o.p(e,m):(o=f[n]=a[n](e),o.c()),$(o,1),o.m(r,c)),(!l||m&1&&s!==(s=e[3].id))&&p(r,"data-id",s)},i(_){l||($(o),l=!0)},o(_){y(o),l=!1},d(_){_&&I(r),f[n].d(),i=!1,u()}}}function no(t){let e,r=[],n=new Map,o,c=Y(t[0]);const s=l=>l[3].id;for(let l=0;l<c.length;l+=1){let i=Xt(t,c,l),u=s(i);n.set(u,r[l]=qt(u,i))}return{c(){e=w("ul");for(let l=0;l<r.length;l+=1)r[l].c();p(e,"class","_4OB04")},m(l,i){A(l,e,i);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);o=!0},p(l,[i]){i&3&&(c=Y(l[0]),ce(),r=Ce(r,i,s,1,l,c,n,e,Nt,qt,null,Xt),se())},i(l){if(!o){for(let i=0;i<c.length;i+=1)$(r[i]);o=!0}},o(l){for(let i=0;i<r.length;i+=1)y(r[i]);o=!1},d(l){l&&I(e);for(let i=0;i<r.length;i+=1)r[i].d()}}}function ro(t,e,r){let{items:n=[]}=e;const o=Me(),c=s=>{o("menu",{id:s.currentTarget.dataset.id})};return t.$$set=s=>{"items"in s&&r(0,n=s.items)},[n,o,c]}class oo extends Z{constructor(e){super(),J(this,e,ro,no,V,{items:0})}}function co(t){let e,r,n;return{c(){e=ge("svg"),r=ge("line"),n=ge("polyline"),p(r,"x1","19"),p(r,"y1","12"),p(r,"x2","5"),p(r,"y2","12"),p(n,"points","12 19 5 12 12 5"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-arrow-left")},m(o,c){A(o,e,c),h(e,r),h(e,n)},p(o,[c]){c&1&&p(e,"width",o[0]),c&1&&p(e,"height",o[0])},i:C,o:C,d(o){o&&I(e)}}}function so(t,e,r){let{size:n=24}=e;return t.$$set=o=>{"size"in o&&r(0,n=o.size)},[n]}class lo extends Z{constructor(e){super(),J(this,e,so,co,V,{size:0})}}function io(t){let e,r,n;return{c(){e=ge("svg"),r=ge("line"),n=ge("line"),p(r,"x1","12"),p(r,"y1","5"),p(r,"x2","12"),p(r,"y2","19"),p(n,"x1","5"),p(n,"y1","12"),p(n,"x2","19"),p(n,"y2","12"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-plus")},m(o,c){A(o,e,c),h(e,r),h(e,n)},p(o,[c]){c&1&&p(e,"width",o[0]),c&1&&p(e,"height",o[0])},i:C,o:C,d(o){o&&I(e)}}}function uo(t,e,r){let{size:n=24}=e;return t.$$set=o=>{"size"in o&&r(0,n=o.size)},[n]}class ao extends Z{constructor(e){super(),J(this,e,uo,io,V,{size:0})}}function fo(t){let e,r,n,o;return{c(){e=ge("svg"),r=ge("line"),n=ge("line"),o=ge("line"),p(r,"x1","3"),p(r,"y1","12"),p(r,"x2","21"),p(r,"y2","12"),p(n,"x1","3"),p(n,"y1","6"),p(n,"x2","21"),p(n,"y2","6"),p(o,"x1","3"),p(o,"y1","18"),p(o,"x2","21"),p(o,"y2","18"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"width",t[0]),p(e,"height",t[0]),p(e,"viewBox","0 0 24 24"),p(e,"fill","none"),p(e,"stroke","currentColor"),p(e,"stroke-width","2"),p(e,"stroke-linecap","round"),p(e,"stroke-linejoin","round"),p(e,"class","feather feather-menu")},m(c,s){A(c,e,s),h(e,r),h(e,n),h(e,o)},p(c,[s]){s&1&&p(e,"width",c[0]),s&1&&p(e,"height",c[0])},i:C,o:C,d(c){c&&I(e)}}}function _o(t,e,r){let{size:n=24}=e;return t.$$set=o=>{"size"in o&&r(0,n=o.size)},[n]}class po extends Z{constructor(e){super(),J(this,e,_o,fo,V,{size:0})}}function Yt(t){let e,r;return e=new jt({props:{class:"_3sGwx",to:t[1],$$slots:{default:[mo]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&2&&(c.to=n[1]),o&256&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function mo(t){let e,r;return e=new lo({}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Qt(t){let e,r;return e=new jt({props:{class:"_3sGwx",to:t[2],$$slots:{default:[ho]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&4&&(c.to=n[2]),o&256&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function ho(t){let e,r;return e=new ao({}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function xt(t){let e,r,n={class:"HiS8Z",$$slots:{content:[$o],default:[go]},$$scope:{ctx:t}};return e=new Qr({props:n}),t[7](e),{c(){j(e.$$.fragment)},m(o,c){T(e,o,c),r=!0},p(o,c){const s={};c&280&&(s.$$scope={dirty:c,ctx:o}),e.$set(s)},i(o){r||($(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){t[7](null),N(e,o)}}}function go(t){let e,r;return e=new po({}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function $o(t){let e,r,n;return r=new oo({props:{items:t[3]}}),r.$on("menu",t[6]),{c(){e=w("div"),j(r.$$.fragment),p(e,"slot","content")},m(o,c){A(o,e,c),T(r,e,null),n=!0},p(o,c){const s={};c&8&&(s.items=o[3]),r.$set(s)},i(o){n||($(r.$$.fragment,o),n=!0)},o(o){y(r.$$.fragment,o),n=!1},d(o){o&&I(e),N(r)}}}function bo(t){let e,r,n,o,c,s,l,i,u,a=t[1]&&Yt(t),f=t[2]&&Qt(t),d=t[3]&&xt(t);return{c(){e=w("header"),r=w("div"),a&&a.c(),n=B(),o=w("h1"),c=L(t[0]),s=B(),l=w("div"),f&&f.c(),i=B(),d&&d.c(),p(r,"class","_32hq"),p(o,"class","u4ShF"),p(l,"class","_3Grsk"),p(e,"class","_3C4lv")},m(_,m){A(_,e,m),h(e,r),a&&a.m(r,null),h(e,n),h(e,o),h(o,c),h(e,s),h(e,l),f&&f.m(l,null),h(l,i),d&&d.m(l,null),u=!0},p(_,[m]){_[1]?a?(a.p(_,m),m&2&&$(a,1)):(a=Yt(_),a.c(),$(a,1),a.m(r,null)):a&&(ce(),y(a,1,1,()=>{a=null}),se()),(!u||m&1)&&z(c,_[0]),_[2]?f?(f.p(_,m),m&4&&$(f,1)):(f=Qt(_),f.c(),$(f,1),f.m(l,i)):f&&(ce(),y(f,1,1,()=>{f=null}),se()),_[3]?d?(d.p(_,m),m&8&&$(d,1)):(d=xt(_),d.c(),$(d,1),d.m(l,null)):d&&(ce(),y(d,1,1,()=>{d=null}),se())},i(_){u||($(a),$(f),$(d),u=!0)},o(_){y(a),y(f),y(d),u=!1},d(_){_&&I(e),a&&a.d(),f&&f.d(),d&&d.d()}}}function yo(t,e,r){let{title:n}=e,{returnPath:o=void 0}=e,{addPath:c=void 0}=e,{menuItems:s=null}=e,l=null;const i=Me(),u=f=>{l.close(),i("menu",{id:f.detail.id})};function a(f){le[f?"unshift":"push"](()=>{l=f,r(4,l)})}return t.$$set=f=>{"title"in f&&r(0,n=f.title),"returnPath"in f&&r(1,o=f.returnPath),"addPath"in f&&r(2,c=f.addPath),"menuItems"in f&&r(3,s=f.menuItems)},[n,o,c,s,l,i,u,a]}class me extends Z{constructor(e){super(),J(this,e,yo,bo,V,{title:0,returnPath:1,addPath:2,menuItems:3})}}const wo=t=>({}),en=t=>({});function vo(t){let e,r,n;const o=t[1].header,c=Ne(o,t,t[0],en),s=t[1].default,l=Ne(s,t,t[0],null);return{c(){e=w("main"),c&&c.c(),r=B(),l&&l.c(),p(e,"class","_2HUC4")},m(i,u){A(i,e,u),c&&c.m(e,null),h(e,r),l&&l.m(e,null),n=!0},p(i,[u]){c&&c.p&&(!n||u&1)&&Be(c,o,i,i[0],n?je(o,i[0],u,wo):Oe(i[0]),en),l&&l.p&&(!n||u&1)&&Be(l,s,i,i[0],n?je(s,i[0],u,null):Oe(i[0]),null)},i(i){n||($(c,i),$(l,i),n=!0)},o(i){y(c,i),y(l,i),n=!1},d(i){i&&I(e),c&&c.d(i),l&&l.d(i)}}}function ko(t,e,r){let{$$slots:n={},$$scope:o}=e;return t.$$set=c=>{"$$scope"in c&&r(0,o=c.$$scope)},[o,n]}class he extends Z{constructor(e){super(),J(this,e,ko,vo,V,{})}}const So=(t,e)=>e.some(r=>t instanceof r);let tn,nn;function Co(){return tn||(tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Io(){return nn||(nn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xn=new WeakMap,Dt=new WeakMap,qn=new WeakMap,bt=new WeakMap,Bt=new WeakMap;function Ao(t){const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",s)},c=()=>{r(ve(t.result)),o()},s=()=>{n(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&Xn.set(r,t)}).catch(()=>{}),Bt.set(e,t),e}function Do(t){if(Dt.has(t))return;const e=new Promise((r,n)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",s),t.removeEventListener("abort",s)},c=()=>{r(),o()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",s),t.addEventListener("abort",s)});Dt.set(t,e)}let Pt={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Dt.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qn.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ve(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Po(t){Pt=t(Pt)}function Eo(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(yt(this),e,...r);return qn.set(n,e.sort?e.sort():[e]),ve(n)}:Io().includes(t)?function(...e){return t.apply(yt(this),e),ve(Xn.get(this))}:function(...e){return ve(t.apply(yt(this),e))}}function To(t){return typeof t=="function"?Eo(t):(t instanceof IDBTransaction&&Do(t),So(t,Co())?new Proxy(t,Pt):t)}function ve(t){if(t instanceof IDBRequest)return Ao(t);if(bt.has(t))return bt.get(t);const e=To(t);return e!==t&&(bt.set(t,e),Bt.set(e,t)),e}const yt=t=>Bt.get(t);function No(t,e,{blocked:r,upgrade:n,blocking:o,terminated:c}={}){const s=indexedDB.open(t,e),l=ve(s);return n&&s.addEventListener("upgradeneeded",i=>{n(ve(s.result),i.oldVersion,i.newVersion,ve(s.transaction),i)}),r&&s.addEventListener("blocked",i=>r(i.oldVersion,i.newVersion,i)),l.then(i=>{c&&i.addEventListener("close",()=>c()),o&&i.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const jo=["get","getKey","getAll","getAllKeys","count"],Bo=["put","add","delete","clear"],wt=new Map;function rn(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wt.get(e))return wt.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=Bo.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||jo.includes(r)))return;const c=async function(s,...l){const i=this.transaction(s,o?"readwrite":"readonly");let u=i.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),o&&i.done]))[0]};return wt.set(e,c),c}Po(t=>({...t,get:(e,r,n)=>rn(e,r)||t.get(e,r,n),has:(e,r)=>!!rn(e,r)||t.has(e,r)}));let Pe=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const fe=$e([]),Ie=$e([]),Ge=$e([]),Le=$e([]),ut=$e([]);var ke=(t=>(t.Expense="EXPENSE",t.Income="INCOME",t.Transfer="TRANSFER",t))(ke||{});let F;const Oo=No("acc",1,{upgrade(t){t.objectStoreNames.contains("accountGroups")||t.createObjectStore("accountGroups",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("accounts")||t.createObjectStore("accounts",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("currencies")||t.createObjectStore("currencies",{keyPath:"code"}),t.objectStoreNames.contains("categories")||t.createObjectStore("categories",{keyPath:"id"}).createIndex("title",["title","subtitle"]),t.objectStoreNames.contains("entries")||t.createObjectStore("entries",{keyPath:"id"}).createIndex("accountId","accountId"),t.objectStoreNames.contains("transactions")||t.createObjectStore("transactions",{keyPath:"id"}),t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"name"})}}).then(t=>{F=t});function Re(){return F.getAllFromIndex("accounts","title")}function Mo(t){return F.get("accounts",t)}async function Go(t){await F.put("accounts",t),fe.set(await Re())}async function Lo(t){const e=await F.get("transactions",t);await Promise.all([F.delete("transactions",t),F.delete("entries",e.entryId),e.secondEntryId?F.delete("entries",e.secondEntryId):null]),await Promise.all([Ee(e.accountId),e.secondAccountId?Ee(e.secondAccountId):null]),fe.set(await Re())}async function Ro(t,e){const[r,n]=await Promise.all([F.get("entries",t.entryId),t.secondEntryId?F.get("entries",t.secondEntryId):null]),[o,c,s]=xn(e,t.id,r.id,n?n.id:Pe(5));await Promise.all([F.put("transactions",o),F.put("entries",c),s?n?F.put("entries",s):F.add("entries",s):n?F.delete("entries",n.id):null]);const[l,i]=await Promise.all([Ee(o.accountId),o.secondAccountId?Ee(o.secondAccountId):null,t.secondAccountId&&t.secondAccountId!==e.secondAccountId?Ee(t.secondAccountId):null]);(l||i)&&fe.set(await Re())}function at(){return F.getAllFromIndex("accountGroups","title")}function ft(){return F.getAllFromIndex("categories","title")}function dt(){return F.getAll("currencies")}function Yn(){return F.getAll("settings")}async function Qn(t,e=!0){return(await F.getAllFromIndex("entries","accountId",t)).sort((n,o)=>n.timestamp<o.timestamp?e?1:-1:n.timestamp>o.timestamp?e?-1:1:0)}function Uo(t){return F.get("transactions",t)}async function Ho(t,e){await F.put("accountGroups",{id:Pe(5),currencyCode:e,title:t}),Ie.set(await at())}async function Fo(t){await F.put("accountGroups",t),Ie.set(await at())}async function zo(t,e,r){await F.put("accounts",{id:Pe(5),title:t,groupId:e,currencyCode:r,balance:0}),fe.set(await Re())}async function Ko(t,e){await F.put("categories",{id:Pe(5),title:t,subtitle:e}),Ge.set(await ft())}async function Vo(t){await F.put("settings",t),ut.set(await Yn())}async function Jo(t){await F.put("categories",t),Ge.set(await ft())}async function Zo(t,e){await F.put("currencies",{code:t,title:e}),Le.set(await dt())}async function Wo(t){await F.put("currencies",t),Le.set(await dt())}function xn({kind:t,accountId:e,timestamp:r,categoryId:n,secondAccountId:o,secondAmount:c,amount:s,comment:l},i,u,a){const f={id:u,timestamp:r,accountId:e,...n?{categoryId:n}:{},transactionId:i,comment:l,amount:t==="INCOME"?s:-s,total:0};if(t==="TRANSFER"){const d={id:a,timestamp:r,accountId:o,transactionId:i,comment:l,amount:c||s,total:0};return[{id:i,kind:t,timestamp:r,accountId:e,secondAccountId:o,amount:s,...c?{secondAmount:c}:{},comment:l,entryId:f.id,secondEntryId:d.id},f,d]}else return[{id:i,kind:t,timestamp:r,accountId:e,...n?{categoryId:n}:{},amount:s,comment:l,entryId:f.id},f]}async function Ee(t){const e=await Qn(t,!1);let r=0;for(const o of e)r+=o.amount,o.total!==r&&await F.put("entries",{...o,total:r});const n=await Mo(t);return n.balance!==r?(await F.put("accounts",{...n,balance:r}),!0):!1}async function Xo(t){const e=F.transaction(["entries","transactions"],"readwrite"),r=e.objectStore("entries"),n=e.objectStore("transactions"),[o,c,s]=xn(t,Pe(5),Pe(5),Pe(5));await Promise.all([n.add(o),r.add(c),...s?[r.add(s)]:[],e.done]);const[l,i]=await Promise.all([Ee(o.accountId),o.secondAccountId?Ee(o.secondAccountId):!1]);(l||i)&&fe.set(await Re())}async function er(){const[t,e,r,n,o]=await Promise.all([Re(),at(),ft(),dt(),Yn()]);Le.set(n),Ie.set(e),fe.set(t),Ge.set(r),ut.set(o)}async function qo(){await Oo,await er()}const Yo=qo(),Qo=[{value:ke.Expense,title:"Expense"},{value:ke.Income,title:"Income"},{value:ke.Transfer,title:"Transfer"}],on=4.78,cn=461.43,sn=96.62,ln={KZT:{RUB:1/on,USD:1/cn},RUB:{USD:1/sn,KZT:on},USD:{KZT:cn,RUB:sn}},Et="baseCurrencyCode",ee="/acc/dist";function xo(t){const e=t.getTimezoneOffset()*6e4,r=new Date(t.getTime()-e),n=r.getFullYear(),o=String(r.getUTCMonth()+1).padStart(2,"0"),c=String(r.getUTCDate()).padStart(2,"0"),s=String(r.getUTCHours()).padStart(2,"0"),l=String(r.getUTCMinutes()).padStart(2,"0");return`${n}-${o}-${c}T${s}:${l}`}function tr(t){const e=new Date(t),r=e.getTimezoneOffset()*6e4,n=new Date(e.getTime()-r),o=n.getFullYear(),c=String(n.getUTCMonth()+1).padStart(2,"0"),s=String(n.getUTCDate()).padStart(2,"0"),l=String(n.getUTCHours()).padStart(2,"0"),i=String(n.getUTCMinutes()).padStart(2,"0");return`${o}-${c}-${s} ${l}:${i}`}function ec(t){const e=new Date(t),r=e.getTimezoneOffset()*6e4,n=new Date(e.getTime()-r),o=n.getFullYear(),c=String(n.getUTCMonth()+1).padStart(2,"0"),s=String(n.getUTCDate()).padStart(2,"0");return`${o}-${c}-${s}`}function un(t){const e=new Date(t),r=e.getTimezoneOffset()*6e4,n=new Date(e.getTime()-r),o=String(n.getUTCHours()).padStart(2,"0"),c=String(n.getUTCMinutes()).padStart(2,"0");return`${o}:${c}`}function lt(t){return/^[1-9]\d*([.,]\d{2})?$/.test(t)}function vt(t){return/[.,]/.test(t)?parseInt(t.replace(/[,.]/,"")):parseInt(t)*100}function _e(t,e,r){t=Math.round(t);const n=t<0?Math.ceil(t/100):Math.floor(t/100),o=Math.abs(t%100);return(r&&t>0?"+":"")+`${e?tc(n):n}.${String(o).padStart(2,"0")}`}function nr(t,e){var r,n;return(r=ln[t])!=null&&r[e]?(n=ln[t])==null?void 0:n[e]:NaN}function tc(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function nc(t,e){return t.reduce((r,n)=>(n.currencyCode===e?r+=n.balance:r+=n.balance*nr(n.currencyCode,e),r),0)}function rc(t,e){const r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),o=document.createElement("a");o.href=n,o.download=e,o.click(),URL.revokeObjectURL(n)}function oc(t){const e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!1,e.onchange=()=>{const r=e.files[0];if(r){const n=new FileReader;n.onload=function(){t(n.result)},n.readAsText(r)}},e.click()}function cc(t){try{return JSON.parse(t)}catch{return console.warn("JSON parsing failed."),null}}async function sc(){const[t,e,r,n,o,c]=await Promise.all([dt(),at(),Re(),ft(),F.getAll("transactions"),F.getAll("entries")]);return{ver:tr(Date.now()),currencies:t,accountGroups:e,accounts:r,categories:n,transactions:o,entries:c}}async function lc(t){if(!confirm("All the data will be overwritten. Are you sure you want to continue?"))return!1;if(ic(t)){const e=F.transaction(["currencies","accountGroups","accounts","categories","transactions","entries"],"readwrite");await Promise.all([e.objectStore("currencies").clear(),e.objectStore("accountGroups").clear(),e.objectStore("accounts").clear(),e.objectStore("categories").clear(),e.objectStore("transactions").clear(),e.objectStore("entries").clear()]);for(const r of t.currencies)await e.objectStore("currencies").put(r);for(const r of t.accountGroups)await e.objectStore("accountGroups").put(r);for(const r of t.accounts)await e.objectStore("accounts").put(r);for(const r of t.categories)await e.objectStore("categories").put(r);for(const r of t.transactions)await e.objectStore("transactions").put(r);for(const r of t.entries)await e.objectStore("entries").put(r);return await e.done,!0}else return alert("Invalid snapshot format."),!1}function ic(t){return!(!t.ver||!t.currencies||!t.accountGroups||!t.categories||!t.categories||!t.transactions||!t.entries)}function uc(t){let e,r,n,o=t[0].title+"",c,s,l,i=_e(t[0].balance,!0)+"",u,a,f=t[0].currencyCode+"",d,_,m;return{c(){e=w("div"),r=w("div"),n=w("span"),c=L(o),s=B(),l=w("span"),u=L(i),a=B(),d=L(f),p(n,"class","_1Pq8u"),p(r,"class","_1wAoL"),p(e,"class","_2R8pY"),p(e,"data-role","account")},m(g,v){A(g,e,v),h(e,r),h(r,n),h(n,c),h(r,s),h(r,l),h(l,u),h(l,a),h(l,d),_||(m=W(e,"click",t[3]),_=!0)},p(g,[v]){v&1&&o!==(o=g[0].title+"")&&z(c,o),v&1&&i!==(i=_e(g[0].balance,!0)+"")&&z(u,i),v&1&&f!==(f=g[0].currencyCode+"")&&z(d,f)},i:C,o:C,d(g){g&&I(e),_=!1,m()}}}function ac(t,e,r){let{account:n}=e,{editing:o=!1}=e;const c=Me(),s=()=>{o||c("account",{id:n.id})};return t.$$set=l=>{"account"in l&&r(0,n=l.account),"editing"in l&&r(1,o=l.editing)},[n,o,c,s]}class fc extends Z{constructor(e){super(),J(this,e,ac,uc,V,{account:0,editing:1})}}function an(t,e,r){const n=t.slice();return n[5]=e[r],n}function fn(t,e){let r,n,o;return n=new fc({props:{account:e[5]}}),n.$on("account",e[4]),{key:t,first:null,c(){r=ie(),j(n.$$.fragment),this.first=r},m(c,s){A(c,r,s),T(n,c,s),o=!0},p(c,s){e=c;const l={};s&2&&(l.account=e[5]),n.$set(l)},i(c){o||($(n.$$.fragment,c),o=!0)},o(c){y(n.$$.fragment,c),o=!1},d(c){c&&I(r),N(n,c)}}}function dc(t){let e,r,n,o=t[0].title+"",c,s,l,i=_e(t[2],!0)+"",u,a,f=t[0].currencyCode+"",d,_,m=[],g=new Map,v,S=Y(t[1]);const D=P=>P[5].id;for(let P=0;P<S.length;P+=1){let M=an(t,S,P),R=D(M);g.set(R,m[P]=fn(R,M))}return{c(){e=w("div"),r=w("div"),n=w("span"),c=L(o),s=B(),l=w("span"),u=L(i),a=B(),d=L(f),_=B();for(let P=0;P<m.length;P+=1)m[P].c();p(n,"class","_5RrCD"),p(r,"class","_3gZXT")},m(P,M){A(P,e,M),h(e,r),h(r,n),h(n,c),h(r,s),h(r,l),h(l,u),h(l,a),h(l,d),h(e,_);for(let R=0;R<m.length;R+=1)m[R]&&m[R].m(e,null);v=!0},p(P,[M]){(!v||M&1)&&o!==(o=P[0].title+"")&&z(c,o),(!v||M&4)&&i!==(i=_e(P[2],!0)+"")&&z(u,i),(!v||M&1)&&f!==(f=P[0].currencyCode+"")&&z(d,f),M&2&&(S=Y(P[1]),ce(),m=Ce(m,M,D,1,P,S,g,e,Nt,fn,null,an),se())},i(P){if(!v){for(let M=0;M<S.length;M+=1)$(m[M]);v=!0}},o(P){for(let M=0;M<m.length;M+=1)y(m[M]);v=!1},d(P){P&&I(e);for(let M=0;M<m.length;M+=1)m[M].d()}}}function _c(t,e,r){let n,o,c;X(t,fe,i=>r(3,c=i));let{accountGroup:s}=e;const l=i=>{ne(`${ee}/accounts/${i.detail.id}`)};return t.$$set=i=>{"accountGroup"in i&&r(0,s=i.accountGroup)},t.$$.update=()=>{t.$$.dirty&9&&r(1,n=c.filter(i=>i.groupId===s.id)),t.$$.dirty&3&&r(2,o=nc(n,s.currencyCode))},[s,n,o,c,l]}class pc extends Z{constructor(e){super(),J(this,e,_c,dc,V,{accountGroup:0})}}function dn(t,e,r){const n=t.slice();return n[8]=e[r],n}function _n(t){let e,r;return e=new pc({props:{accountGroup:t[8]}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&4&&(c.accountGroup=n[8]),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function mc(t){let e,r,n,o,c,s=_e(t[1],!0)+"",l,i,u=(t[0]||"")+"",a,f,d=Y(t[2]),_=[];for(let g=0;g<d.length;g+=1)_[g]=_n(dn(t,d,g));const m=g=>y(_[g],1,1,()=>{_[g]=null});return{c(){for(let g=0;g<_.length;g+=1)_[g].c();e=B(),r=w("div"),n=w("div"),n.textContent="Total",o=B(),c=w("div"),l=L(s),i=B(),a=L(u),p(c,"class","_2Os0c"),p(r,"class","_1rK1Z")},m(g,v){for(let S=0;S<_.length;S+=1)_[S]&&_[S].m(g,v);A(g,e,v),A(g,r,v),h(r,n),h(r,o),h(r,c),h(c,l),h(c,i),h(c,a),f=!0},p(g,v){if(v&4){d=Y(g[2]);let S;for(S=0;S<d.length;S+=1){const D=dn(g,d,S);_[S]?(_[S].p(D,v),$(_[S],1)):(_[S]=_n(D),_[S].c(),$(_[S],1),_[S].m(e.parentNode,e))}for(ce(),S=d.length;S<_.length;S+=1)m(S);se()}(!f||v&2)&&s!==(s=_e(g[1],!0)+"")&&z(l,s),(!f||v&1)&&u!==(u=(g[0]||"")+"")&&z(a,u)},i(g){if(!f){for(let v=0;v<d.length;v+=1)$(_[v]);f=!0}},o(g){_=_.filter(Boolean);for(let v=0;v<_.length;v+=1)y(_[v]);f=!1},d(g){g&&(I(e),I(r)),Xe(_,g)}}}function hc(t){let e,r;return e=new me({props:{slot:"header",title:"Accounts",addPath:"accounts/new",menuItems:t[3]}}),e.$on("menu",t[7]),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function gc(t){let e,r;return e=new he({props:{$$slots:{header:[hc],default:[mc]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&2055&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function $c(t,e,r){let n,o,c,s,l,i;X(t,fe,f=>r(4,c=f)),X(t,Le,f=>r(5,s=f)),X(t,ut,f=>r(6,l=f)),X(t,Ie,f=>r(2,i=f));const u=[{id:"groups",title:"Account Groups",to:"groups"},{id:"category",title:"Categories",to:"categories"},{id:"currency",title:"Currencies",to:"currencies"},{id:"backup",title:"Backup"},{id:"restore",title:"Restore"},{id:"settings",title:"Settings",to:"settings"}],a=f=>{switch(f.detail.id){case"backup":sc().then(d=>{rc(d,`${tr(Date.now())}.json`)});break;case"restore":oc(d=>{const _=cc(d);_&&lc(_).then(m=>{m&&er()})});break}};return t.$$.update=()=>{var f,d;t.$$.dirty&96&&r(0,n=((f=l.find(_=>_.name===Et))==null?void 0:f.value)||((d=s[0])==null?void 0:d.code)),t.$$.dirty&17&&r(1,o=c.reduce((_,m)=>(m.currencyCode===n?_+=m.balance:_+=m.balance*nr(m.currencyCode,n),_),0))},[n,o,i,u,c,s,l,a]}class bc extends Z{constructor(e){super(),J(this,e,$c,gc,V,{})}}function pn(t,e,r){const n=t.slice();return n[2]=e[r],n}function mn(t,e){let r,n=e[2].title+"",o,c,s,l,i;return{key:t,first:null,c(){r=w("div"),o=L(n),c=B(),p(r,"class","_3JK5K"),p(r,"data-id",s=e[2].id),this.first=r},m(u,a){A(u,r,a),h(r,o),h(r,c),l||(i=W(r,"click",e[1]),l=!0)},p(u,a){e=u,a&1&&n!==(n=e[2].title+"")&&z(o,n),a&1&&s!==(s=e[2].id)&&p(r,"data-id",s)},d(u){u&&I(r),l=!1,i()}}}function yc(t){let e=[],r=new Map,n,o=Y(t[0]);const c=s=>s[2].id;for(let s=0;s<o.length;s+=1){let l=pn(t,o,s),i=c(l);r.set(i,e[s]=mn(i,l))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();n=ie()},m(s,l){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(s,l);A(s,n,l)},p(s,l){l&3&&(o=Y(s[0]),e=Ce(e,l,c,1,s,o,r,n.parentNode,rt,mn,n,pn))},d(s){s&&I(n);for(let l=0;l<e.length;l+=1)e[l].d(s)}}}function wc(t){let e,r;return e=new me({props:{slot:"header",title:"Account Groups",returnPath:"/",addPath:"groups/new"}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function vc(t){let e,r;return e=new he({props:{$$slots:{header:[wc],default:[yc]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&33&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function kc(t,e,r){let n;X(t,Ie,c=>r(0,n=c));function o(c){c.target instanceof HTMLElement&&c.target.dataset.id&&ne(`${ee}/groups/${c.target.dataset.id}`)}return[n,o]}class Sc extends Z{constructor(e){super(),J(this,e,kc,vc,V,{})}}function hn(t,e,r){const n=t.slice();return n[4]=e[r].code,n[5]=e[r].title,n}function gn(t,e){let r,n,o=e[4]+"",c,s,l=e[5]+"",i,u,a;return{key:t,first:null,c(){r=L(`}
    `),n=w("option"),c=L(o),s=B(),i=L(l),u=B(),n.__value=a=e[4],K(n,n.__value),this.first=r},m(f,d){A(f,r,d),A(f,n,d),h(n,c),h(n,s),h(n,i),h(n,u)},p(f,d){e=f,d&4&&o!==(o=e[4]+"")&&z(c,o),d&4&&l!==(l=e[5]+"")&&z(i,l),d&4&&a!==(a=e[4])&&(n.__value=a,K(n,n.__value))},d(f){f&&(I(r),I(n))}}}function Cc(t){let e,r,n,o=[],c=new Map,s,l,i=Y(t[2]);const u=a=>a[4];for(let a=0;a<i.length;a+=1){let f=hn(t,i,a),d=u(f);c.set(d,o[a]=gn(d,f))}return{c(){e=w("select"),r=w("option"),n=L(t[1]);for(let a=0;a<o.length;a+=1)o[a].c();r.__value="",K(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_1kHx0"),e.required=!0,t[0]===void 0&&Se(()=>t[3].call(e))},m(a,f){A(a,e,f),h(e,r),h(r,n);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);be(e,t[0],!0),s||(l=W(e,"change",t[3]),s=!0)},p(a,[f]){f&2&&z(n,a[1]),f&4&&(i=Y(a[2]),o=Ce(o,f,u,1,a,i,c,e,rt,gn,null,hn)),f&5&&be(e,a[0])},i:C,o:C,d(a){a&&I(e);for(let f=0;f<o.length;f+=1)o[f].d();s=!1,l()}}}function Ic(t,e,r){let n;X(t,Le,l=>r(2,n=l));let{currencyCode:o}=e,{placeholder:c="Currency"}=e;function s(){o=nt(this),r(0,o)}return t.$$set=l=>{"currencyCode"in l&&r(0,o=l.currencyCode),"placeholder"in l&&r(1,c=l.placeholder)},[o,c,n,s]}class Ot extends Z{constructor(e){super(),J(this,e,Ic,Cc,V,{currencyCode:0,placeholder:1})}}function Ac(t){let e,r,n,o,c,s,l,i,u,a,f=t[4]?"Save":"Create",d,_,m,g;function v(D){t[7](D)}let S={};return t[1]!==void 0&&(S.currencyCode=t[1]),n=new Ot({props:S}),le.push(()=>We(n,"currencyCode",v)),{c(){e=w("form"),r=w("div"),j(n.$$.fragment),c=B(),s=w("div"),l=w("input"),i=B(),u=w("div"),a=w("button"),d=L(f),p(l,"class","_3xyX_"),p(l,"type","text"),l.disabled=t[3],p(l,"placeholder","Title"),p(a,"class","_2G9AC"),p(a,"type","submit"),a.disabled=t[3],p(e,"class","_3RSQr")},m(D,P){A(D,e,P),h(e,r),T(n,r,null),h(e,c),h(e,s),h(s,l),t[8](l),K(l,t[0]),h(e,i),h(e,u),h(u,a),h(a,d),_=!0,m||(g=[W(l,"input",t[9]),W(e,"submit",qe(t[5]))],m=!0)},p(D,P){const M={};!o&&P&2&&(o=!0,M.currencyCode=D[1],Ze(()=>o=!1)),n.$set(M),(!_||P&8)&&(l.disabled=D[3]),P&1&&l.value!==D[0]&&K(l,D[0]),(!_||P&8)&&(a.disabled=D[3])},i(D){_||($(n.$$.fragment,D),_=!0)},o(D){y(n.$$.fragment,D),_=!1},d(D){D&&I(e),N(n),t[8](null),m=!1,ae(g)}}}function Dc(t){let e,r;return e=new me({props:{slot:"header",title:t[4]?"Account Group":"New Account Group",returnPath:"groups"}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Pc(t){let e,r;return e=new he({props:{$$slots:{header:[Dc],default:[Ac]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&2063&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Ec(t,e,r){let n;X(t,Ie,m=>r(10,n=m));let{id:o=void 0}=e,c=o?n.find(m=>m.id===o):null,s=c?c.title:"",l=c?c.currencyCode:void 0,i,u=!1;Qe(()=>{i.focus()});function a(){s.trim()&&l?(r(3,u=!0),c?Fo({...c,title:s.trim(),currencyCode:l}).then(()=>{ne(`${ee}/groups`)}).finally(()=>{r(3,u=!1)}):Ho(s,l).then(()=>{ne(`${ee}/groups`)}).finally(()=>{r(3,u=!1)})):alert("All fields must be specified.")}function f(m){l=m,r(1,l)}function d(m){le[m?"unshift":"push"](()=>{i=m,r(2,i)})}function _(){s=this.value,r(0,s)}return t.$$set=m=>{"id"in m&&r(6,o=m.id)},[s,l,i,u,c,a,o,f,d,_]}class $n extends Z{constructor(e){super(),J(this,e,Ec,Pc,V,{id:6})}}function bn(t,e,r){const n=t.slice();return n[3]=e[r],n}function yn(t){let e,r=t[3].title+"",n,o,c;return{c(){e=w("option"),n=L(r),o=B(),e.__value=c=t[3].id,K(e,e.__value)},m(s,l){A(s,e,l),h(e,n),h(e,o)},p(s,l){l&2&&r!==(r=s[3].title+"")&&z(n,r),l&2&&c!==(c=s[3].id)&&(e.__value=c,K(e,e.__value))},d(s){s&&I(e)}}}function Tc(t){let e,r,n,o,c=Y(t[1]),s=[];for(let l=0;l<c.length;l+=1)s[l]=yn(bn(t,c,l));return{c(){e=w("select"),r=w("option"),r.textContent="Account Group";for(let l=0;l<s.length;l+=1)s[l].c();p(r,"class","placeholder"),r.__value="",K(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_2Ge4O"),e.required=!0,t[0]===void 0&&Se(()=>t[2].call(e))},m(l,i){A(l,e,i),h(e,r);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(e,null);be(e,t[0],!0),n||(o=W(e,"change",t[2]),n=!0)},p(l,[i]){if(i&2){c=Y(l[1]);let u;for(u=0;u<c.length;u+=1){const a=bn(l,c,u);s[u]?s[u].p(a,i):(s[u]=yn(a),s[u].c(),s[u].m(e,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=c.length}i&3&&be(e,l[0])},i:C,o:C,d(l){l&&I(e),Xe(s,l),n=!1,o()}}}function Nc(t,e,r){let n;X(t,Ie,s=>r(1,n=s));let{groupId:o}=e;function c(){o=nt(this),r(0,o)}return t.$$set=s=>{"groupId"in s&&r(0,o=s.groupId)},[o,n,c]}class jc extends Z{constructor(e){super(),J(this,e,Nc,Tc,V,{groupId:0})}}function Bc(t){let e,r,n,o,c,s,l,i,u,a,f,d,_,m,g=t[0]?"Save":"Create",v,S,D,P,M;function R(E){t[8](E)}let O={};t[2]!==void 0&&(O.groupId=t[2]),n=new jc({props:O}),le.push(()=>We(n,"groupId",R));function k(E){t[9](E)}let G={};return t[3]!==void 0&&(G.currencyCode=t[3]),l=new Ot({props:G}),le.push(()=>We(l,"currencyCode",k)),{c(){e=w("form"),r=w("div"),j(n.$$.fragment),c=B(),s=w("div"),j(l.$$.fragment),u=B(),a=w("div"),f=w("input"),d=B(),_=w("div"),m=w("button"),v=L(g),p(f,"class","_3hIGg"),p(f,"type","text"),p(f,"placeholder","Title"),f.disabled=t[5],p(m,"class","J-mxG"),p(m,"type","submit"),m.disabled=t[5],p(e,"class",S="_2Na6L "+t[1])},m(E,Q){A(E,e,Q),h(e,r),T(n,r,null),h(e,c),h(e,s),T(l,s,null),h(e,u),h(e,a),h(a,f),K(f,t[4]),t[11](f),h(e,d),h(e,_),h(_,m),h(m,v),D=!0,P||(M=[W(f,"input",t[10]),W(e,"submit",qe(t[7]))],P=!0)},p(E,[Q]){const x={};!o&&Q&4&&(o=!0,x.groupId=E[2],Ze(()=>o=!1)),n.$set(x);const de={};!i&&Q&8&&(i=!0,de.currencyCode=E[3],Ze(()=>i=!1)),l.$set(de),(!D||Q&32)&&(f.disabled=E[5]),Q&16&&f.value!==E[4]&&K(f,E[4]),(!D||Q&1)&&g!==(g=E[0]?"Save":"Create")&&z(v,g),(!D||Q&32)&&(m.disabled=E[5]),(!D||Q&2&&S!==(S="_2Na6L "+E[1]))&&p(e,"class",S)},i(E){D||($(n.$$.fragment,E),$(l.$$.fragment,E),D=!0)},o(E){y(n.$$.fragment,E),y(l.$$.fragment,E),D=!1},d(E){E&&I(e),N(n),N(l),t[11](null),P=!1,ae(M)}}}function Oc(t,e,r){let{accountDoc:n=null}=e,{class:o=void 0}=e,{groupId:c,currencyCode:s,title:l=""}=n||{},i=!1,u;const a=Me();function f(){l.trim()&&c&&s?(r(5,i=!0),a("save",{groupId:c,currencyCode:s,title:l})):alert("Must fill all fields.")}Qe(()=>{u&&u.focus()});function d(v){c=v,r(2,c)}function _(v){s=v,r(3,s)}function m(){l=this.value,r(4,l)}function g(v){le[v?"unshift":"push"](()=>{u=v,r(6,u)})}return t.$$set=v=>{"accountDoc"in v&&r(0,n=v.accountDoc),"class"in v&&r(1,o=v.class)},[n,o,c,s,l,i,u,f,d,_,m,g]}class rr extends Z{constructor(e){super(),J(this,e,Oc,Bc,V,{accountDoc:0,class:1})}}function Mc(t){let e,r;return e=new rr({props:{class:"_1tO9D"}}),e.$on("save",t[2]),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Gc(t){let e,r;return e=new rr({props:{class:"_1tO9D",accountDoc:t[1]}}),e.$on("save",t[2]),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Lc(t){let e,r,n,o;const c=[Gc,Mc],s=[];function l(i,u){return i[0]?0:1}return e=l(t),r=s[e]=c[e](t),{c(){r.c(),n=ie()},m(i,u){s[e].m(i,u),A(i,n,u),o=!0},p(i,u){let a=e;e=l(i),e===a?s[e].p(i,u):(ce(),y(s[a],1,1,()=>{s[a]=null}),se(),r=s[e],r?r.p(i,u):(r=s[e]=c[e](i),r.c()),$(r,1),r.m(n.parentNode,n))},i(i){o||($(r),o=!0)},o(i){y(r),o=!1},d(i){i&&I(n),s[e].d(i)}}}function Rc(t){var n;let e,r;return e=new me({props:{slot:"header",title:t[0]?(n=t[1])==null?void 0:n.title:"New Account",returnPath:"/"}}),{c(){j(e.$$.fragment)},m(o,c){T(e,o,c),r=!0},p(o,c){var l;const s={};c&1&&(s.title=o[0]?(l=o[1])==null?void 0:l.title:"New Account"),e.$set(s)},i(o){r||($(e.$$.fragment,o),r=!0)},o(o){y(e.$$.fragment,o),r=!1},d(o){N(e,o)}}}function Uc(t){let e,r;return e=new he({props:{$$slots:{header:[Rc],default:[Lc]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&17&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Hc(t,e,r){let n;X(t,fe,l=>r(3,n=l));let{id:o=null}=e,c=o?n.find(l=>l.id===o):null;function s(l){const{title:i,groupId:u,currencyCode:a}=l.detail;o?Go({...c,title:i,groupId:u,currencyCode:a}).then(()=>{ne(`${ee}/`)}):zo(i,u,a).then(()=>{ne(`${ee}/`)})}return t.$$set=l=>{"id"in l&&r(0,o=l.id)},[o,c,s]}class wn extends Z{constructor(e){super(),J(this,e,Hc,Uc,V,{id:0})}}function vn(t){let e,r=t[1].title+"",n,o=t[1].subtitle?`:${t[1].subtitle}`:"",c;return{c(){e=w("span"),n=L(r),c=L(o),p(e,"class","_322dv")},m(s,l){A(s,e,l),h(e,n),h(e,c)},p(s,l){l&2&&r!==(r=s[1].title+"")&&z(n,r),l&2&&o!==(o=s[1].subtitle?`:${s[1].subtitle}`:"")&&z(c,o)},d(s){s&&I(e)}}}function Fc(t){let e,r,n,o,c=t[0].comment+"",s,l,i,u,a=_e(t[0].amount,!0,!0)+"",f,d,_,m,g=un(t[0].timestamp)+"",v,S,D,P=_e(t[0].total,!0)+"",M,R,O,k=t[1]&&vn(t);return{c(){e=w("div"),r=w("div"),n=w("div"),o=w("span"),s=L(c),l=B(),k&&k.c(),i=B(),u=w("div"),f=L(a),d=B(),_=w("div"),m=w("div"),v=L(g),S=B(),D=w("div"),M=L(P),p(o,"class","_2kX3c"),p(n,"class","_1OurC"),p(u,"class","_26PI4"),Je(u,"_3DGXJ",t[0].amount>0),p(r,"class","_2FZ7Z"),p(m,"class","w2k25"),p(D,"class","XyJeD"),p(_,"class","tBvyS"),p(e,"class","Xkc2I")},m(G,E){A(G,e,E),h(e,r),h(r,n),h(n,o),h(o,s),h(n,l),k&&k.m(n,null),h(r,i),h(r,u),h(u,f),h(e,d),h(e,_),h(_,m),h(m,v),h(_,S),h(_,D),h(D,M),R||(O=W(e,"click",t[4]),R=!0)},p(G,[E]){E&1&&c!==(c=G[0].comment+"")&&z(s,c),G[1]?k?k.p(G,E):(k=vn(G),k.c(),k.m(n,null)):k&&(k.d(1),k=null),E&1&&a!==(a=_e(G[0].amount,!0,!0)+"")&&z(f,a),E&1&&Je(u,"_3DGXJ",G[0].amount>0),E&1&&g!==(g=un(G[0].timestamp)+"")&&z(v,g),E&1&&P!==(P=_e(G[0].total,!0)+"")&&z(M,P)},i:C,o:C,d(G){G&&I(e),k&&k.d(),R=!1,O()}}}function zc(t,e,r){let n,o;X(t,Ge,i=>r(3,o=i));let{entry:c}=e;const s=Me(),l=()=>{s("transaction",{id:c.transactionId})};return t.$$set=i=>{"entry"in i&&r(0,c=i.entry)},t.$$.update=()=>{t.$$.dirty&9&&r(1,n=c.categoryId?o.find(i=>i.id===c.categoryId):null)},[c,n,s,o,l]}class Kc extends Z{constructor(e){super(),J(this,e,zc,Fc,V,{entry:0})}}function kn(t,e,r){const n=t.slice();return n[7]=e[r],n}function Sn(t,e,r){const n=t.slice();return n[10]=e[r],n}function Cn(t,e){let r,n,o;return n=new Kc({props:{entry:e[10]}}),n.$on("transaction",e[6]),{key:t,first:null,c(){r=ie(),j(n.$$.fragment),this.first=r},m(c,s){A(c,r,s),T(n,c,s),o=!0},p(c,s){e=c;const l={};s&1&&(l.entry=e[10]),n.$set(l)},i(c){o||($(n.$$.fragment,c),o=!0)},o(c){y(n.$$.fragment,c),o=!1},d(c){c&&I(r),N(n,c)}}}function In(t){let e,r=t[7]+"",n,o,c=[],s=new Map,l,i,u=Y(t[0][t[7]]);const a=f=>f[10].id;for(let f=0;f<u.length;f+=1){let d=Sn(t,u,f),_=a(d);s.set(_,c[f]=Cn(_,d))}return{c(){e=w("div"),n=L(r),o=B();for(let f=0;f<c.length;f+=1)c[f].c();l=ie(),p(e,"class","_14m25")},m(f,d){A(f,e,d),h(e,n),A(f,o,d);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(f,d);A(f,l,d),i=!0},p(f,d){(!i||d&1)&&r!==(r=f[7]+"")&&z(n,r),d&3&&(u=Y(f[0][f[7]]),ce(),c=Ce(c,d,a,1,f,u,s,l.parentNode,Nt,Cn,l,Sn),se())},i(f){if(!i){for(let d=0;d<u.length;d+=1)$(c[d]);i=!0}},o(f){for(let d=0;d<c.length;d+=1)y(c[d]);i=!1},d(f){f&&(I(e),I(o),I(l));for(let d=0;d<c.length;d+=1)c[d].d(f)}}}function Vc(t){let e,r,n=Y(Object.keys(t[0])),o=[];for(let s=0;s<n.length;s+=1)o[s]=In(kn(t,n,s));const c=s=>y(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();e=ie()},m(s,l){for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(s,l);A(s,e,l),r=!0},p(s,l){if(l&3){n=Y(Object.keys(s[0]));let i;for(i=0;i<n.length;i+=1){const u=kn(s,n,i);o[i]?(o[i].p(u,l),$(o[i],1)):(o[i]=In(u),o[i].c(),$(o[i],1),o[i].m(e.parentNode,e))}for(ce(),i=n.length;i<o.length;i+=1)c(i);se()}},i(s){if(!r){for(let l=0;l<n.length;l+=1)$(o[l]);r=!0}},o(s){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)y(o[l]);r=!1},d(s){s&&I(e),Xe(o,s)}}}function Jc(t){let e,r;return e=new me({props:{slot:"header",title:t[2]?`${t[2].title}`:"Not Found",returnPath:"/",addPath:`accounts/${t[1]}/transactions/new`,menuItems:t[3]}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&4&&(c.title=n[2]?`${n[2].title}`:"Not Found"),o&2&&(c.addPath=`accounts/${n[1]}/transactions/new`),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Zc(t){let e,r;return e=new he({props:{$$slots:{header:[Jc],default:[Vc]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&8199&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Wc(t,e,r){let n,o;X(t,fe,a=>r(5,o=a));let{id:c}=e,{entries:s=[]}=e,{entriesByDays:l={}}=e;Qn(c).then(a=>{r(4,s=a),r(0,l=a.reduce((f,d)=>{const _=ec(d.timestamp);return f[_]?f[_].push(d):f[_]=[d],f},{}))});const i=[{id:"edit",title:"Edit",to:`accounts/${c}/edit`}],u=a=>{ne(`${ee}/accounts/${c}/transactions/${a.detail.id}`)};return t.$$set=a=>{"id"in a&&r(1,c=a.id),"entries"in a&&r(4,s=a.entries),"entriesByDays"in a&&r(0,l=a.entriesByDays)},t.$$.update=()=>{t.$$.dirty&34&&r(2,n=o.find(a=>a.id===c))},[l,c,n,i,s,o,u]}class Xc extends Z{constructor(e){super(),J(this,e,Wc,Zc,V,{id:1,entries:4,entriesByDays:0})}}function An(t,e,r){const n=t.slice();return n[2]=e[r],n}function Dn(t,e){let r,n=e[2].title+"",o,c=e[2].subtitle?`:${e[2].subtitle}`:"",s,l,i,u,a;return{key:t,first:null,c(){r=w("div"),o=L(n),s=L(c),l=B(),p(r,"class","_6UwqU"),p(r,"data-id",i=e[2].id),this.first=r},m(f,d){A(f,r,d),h(r,o),h(r,s),h(r,l),u||(a=W(r,"click",e[1]),u=!0)},p(f,d){e=f,d&1&&n!==(n=e[2].title+"")&&z(o,n),d&1&&c!==(c=e[2].subtitle?`:${e[2].subtitle}`:"")&&z(s,c),d&1&&i!==(i=e[2].id)&&p(r,"data-id",i)},d(f){f&&I(r),u=!1,a()}}}function qc(t){let e=[],r=new Map,n,o=Y(t[0]);const c=s=>s[2].id;for(let s=0;s<o.length;s+=1){let l=An(t,o,s),i=c(l);r.set(i,e[s]=Dn(i,l))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();n=ie()},m(s,l){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(s,l);A(s,n,l)},p(s,l){l&3&&(o=Y(s[0]),e=Ce(e,l,c,1,s,o,r,n.parentNode,rt,Dn,n,An))},d(s){s&&I(n);for(let l=0;l<e.length;l+=1)e[l].d(s)}}}function Yc(t){let e,r;return e=new me({props:{slot:"header",title:"Categories",returnPath:"/",addPath:"categories/new"}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Qc(t){let e,r;return e=new he({props:{$$slots:{header:[Yc],default:[qc]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&33&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function xc(t,e,r){let n;X(t,Ge,c=>r(0,n=c));function o(c){if(c.target.dataset.id){const s=c.target.dataset.id;ne(`${ee}/categories/${s}`)}}return[n,o]}class es extends Z{constructor(e){super(),J(this,e,xc,Qc,V,{})}}function ts(t){let e,r,n,o,c,s,l,i,u,a;function f(_){t[2](_)}let d={placeholder:"Base Currency"};return t[0]!==void 0&&(d.currencyCode=t[0]),o=new Ot({props:d}),le.push(()=>We(o,"currencyCode",f)),{c(){e=w("form"),r=w("div"),n=L(`Base currency:
      `),j(o.$$.fragment),s=B(),l=w("div"),l.innerHTML='<button type="submit" class="_19-gA">Save</button>',p(e,"class","_1JFP_")},m(_,m){A(_,e,m),h(e,r),h(r,n),T(o,r,null),h(e,s),h(e,l),i=!0,u||(a=W(e,"submit",qe(t[1])),u=!0)},p(_,m){const g={};!c&&m&1&&(c=!0,g.currencyCode=_[0],Ze(()=>c=!1)),o.$set(g)},i(_){i||($(o.$$.fragment,_),i=!0)},o(_){y(o.$$.fragment,_),i=!1},d(_){_&&I(e),N(o),u=!1,a()}}}function ns(t){let e,r;return e=new me({props:{slot:"header",title:"Settings",returnPath:"/"}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function rs(t){let e,r;return e=new he({props:{$$slots:{header:[ns],default:[ts]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&17&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function os(t,e,r){var l;let n;X(t,ut,i=>r(3,n=i));let o=(l=n.find(i=>i.name===Et))==null?void 0:l.value;function c(){Vo({name:Et,value:o}).then(()=>{ne(`${ee}/`)})}function s(i){o=i,r(0,o)}return[o,c,s]}class cs extends Z{constructor(e){super(),J(this,e,os,rs,V,{})}}function Pn(t,e,r){const n=t.slice();return n[2]=e[r],n}function En(t,e){let r,n,o=e[2].code+"",c,s,l,i=e[2].title+"",u,a,f,d,_;return{key:t,first:null,c(){r=w("div"),n=w("div"),c=L(o),s=B(),l=w("div"),u=L(i),a=B(),p(n,"class","_9tmh3"),p(l,"class","lB3BI"),p(r,"class","_3DaGu"),p(r,"data-role","item"),p(r,"data-code",f=e[2].code),this.first=r},m(m,g){A(m,r,g),h(r,n),h(n,c),h(r,s),h(r,l),h(l,u),h(r,a),d||(_=W(r,"click",e[1]),d=!0)},p(m,g){e=m,g&1&&o!==(o=e[2].code+"")&&z(c,o),g&1&&i!==(i=e[2].title+"")&&z(u,i),g&1&&f!==(f=e[2].code)&&p(r,"data-code",f)},d(m){m&&I(r),d=!1,_()}}}function ss(t){let e=[],r=new Map,n,o=Y(t[0]);const c=s=>s[2].code;for(let s=0;s<o.length;s+=1){let l=Pn(t,o,s),i=c(l);r.set(i,e[s]=En(i,l))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();n=ie()},m(s,l){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(s,l);A(s,n,l)},p(s,l){l&3&&(o=Y(s[0]),e=Ce(e,l,c,1,s,o,r,n.parentNode,rt,En,n,Pn))},d(s){s&&I(n);for(let l=0;l<e.length;l+=1)e[l].d(s)}}}function ls(t){let e,r;return e=new me({props:{slot:"header",title:"Currencies",returnPath:"/",addPath:"currencies/new"}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function is(t){let e,r;return e=new he({props:{$$slots:{header:[ls],default:[ss]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&33&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function us(t,e,r){let n;X(t,Le,c=>r(0,n=c));function o(c){if(console.log("e:",c),c.target instanceof HTMLElement){const s=c.target.closest('[data-role="item"]');s instanceof HTMLElement&&s.dataset.code&&ne(`${ee}/currencies/${s.dataset.code}`)}}return[n,o]}class as extends Z{constructor(e){super(),J(this,e,us,is,V,{})}}function fs(t){let e,r,n,o,c,s,l,i,u,a,f;return{c(){e=w("form"),r=w("div"),n=w("input"),o=B(),c=w("div"),s=w("input"),l=B(),i=w("div"),u=w("button"),u.textContent=`${t[3]?"Save":"Create"}`,p(n,"type","text"),p(n,"placeholder","Title"),p(r,"class","_1H9BX"),p(s,"type","text"),p(s,"placeholder","Subtitle (optional)"),p(c,"class","_1H9BX"),p(u,"type","submit"),p(i,"class","_1H9BX"),p(e,"class","_2vZ1J")},m(d,_){A(d,e,_),h(e,r),h(r,n),K(n,t[0]),t[7](n),h(e,o),h(e,c),h(c,s),K(s,t[1]),h(e,l),h(e,i),h(i,u),a||(f=[W(n,"input",t[6]),W(s,"input",t[8]),W(e,"submit",qe(t[4]))],a=!0)},p(d,_){_&1&&n.value!==d[0]&&K(n,d[0]),_&2&&s.value!==d[1]&&K(s,d[1])},d(d){d&&I(e),t[7](null),a=!1,ae(f)}}}function ds(t){let e,r;return e=new me({props:{slot:"header",title:t[3]?"Category":"New Category",returnPath:"categories"}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function _s(t){let e,r;return e=new he({props:{$$slots:{header:[ds],default:[fs]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&1031&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function ps(t,e,r){let n;X(t,Ge,_=>r(9,n=_));let{id:o=void 0}=e,c=o?n.find(_=>_.id===o):null,s=c?c.title:"",l=c?c.subtitle:"",i;Qe(()=>{i&&i.focus()});function u(){s.trim()?c?Jo({...c,title:s.trim(),subtitle:l.trim()}).then(()=>{ne(`${ee}/categories`)}):Ko(s.trim(),l.trim()).then(()=>{ne(`${ee}/categories`)}):alert("The title must be specified.")}function a(){s=this.value,r(0,s)}function f(_){le[_?"unshift":"push"](()=>{i=_,r(2,i)})}function d(){l=this.value,r(1,l)}return t.$$set=_=>{"id"in _&&r(5,o=_.id)},[s,l,i,c,u,o,a,f,d]}class Tn extends Z{constructor(e){super(),J(this,e,ps,_s,V,{id:5})}}function ms(t){let e,r,n,o,c,s,l,i,u,a,f;return{c(){e=w("form"),r=w("div"),n=w("input"),o=B(),c=w("div"),s=w("input"),l=B(),i=w("div"),u=w("button"),u.textContent=`${t[4]?"Save":"Add"}`,p(n,"type","text"),p(n,"placeholder","Code"),n.disabled=t[4]!==null,p(r,"class","EbSwc"),p(s,"type","text"),p(s,"placeholder","Title"),p(c,"class","EbSwc"),p(u,"type","submit"),p(i,"class","EbSwc")},m(d,_){A(d,e,_),h(e,r),h(r,n),K(n,t[0]),t[8](n),h(e,o),h(e,c),h(c,s),K(s,t[1]),t[10](s),h(e,l),h(e,i),h(i,u),a||(f=[W(n,"input",t[7]),W(s,"input",t[9]),W(e,"submit",qe(t[5]))],a=!0)},p(d,_){_&1&&n.value!==d[0]&&K(n,d[0]),_&2&&s.value!==d[1]&&K(s,d[1])},d(d){d&&I(e),t[8](null),t[10](null),a=!1,ae(f)}}}function hs(t){let e,r;return e=new me({props:{slot:"header",title:t[4]?"Currency":"New Currency",returnPath:"currencies"}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p:C,i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function gs(t){let e,r;return e=new he({props:{$$slots:{header:[hs],default:[ms]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&4111&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function $s(t,e,r){let n;X(t,Le,g=>r(11,n=g));let{cid:o=void 0}=e,c=o?n.find(g=>g.code===o):null,s=c?c.code:"",l=c?c.title:"",i,u;function a(){s.trim()&&l.trim()?c?Wo({...c,title:l.trim()}).then(()=>{ne(`${ee}/currencies`)}):Zo(s.trim(),l.trim()).then(()=>{ne(`${ee}/currencies`)}):alert("Code and title must be specified.")}Qe(()=>{c?u&&u.focus():i&&i.focus()});function f(){s=this.value,r(0,s)}function d(g){le[g?"unshift":"push"](()=>{i=g,r(2,i)})}function _(){l=this.value,r(1,l)}function m(g){le[g?"unshift":"push"](()=>{u=g,r(3,u)})}return t.$$set=g=>{"cid"in g&&r(6,o=g.cid)},[s,l,i,u,c,a,o,f,d,_,m]}class Nn extends Z{constructor(e){super(),J(this,e,$s,gs,V,{cid:6})}}function jn(t,e,r){const n=t.slice();return n[6]=e[r],n}function Bn(t,e,r){const n=t.slice();return n[9]=e[r],n}function On(t){let e,r=t[9].title+"",n,o;return{c(){e=w("option"),n=L(r),e.__value=o=t[9].id,K(e,e.__value)},m(c,s){A(c,e,s),h(e,n)},p(c,s){s&4&&r!==(r=c[9].title+"")&&z(n,r),s&4&&o!==(o=c[9].id)&&(e.__value=o,K(e,e.__value))},d(c){c&&I(e)}}}function Mn(t){let e,r,n=Y(t[6].accounts),o=[];for(let c=0;c<n.length;c+=1)o[c]=On(Bn(t,n,c));return{c(){e=w("optgroup");for(let c=0;c<o.length;c+=1)o[c].c();p(e,"label",r=t[6].title)},m(c,s){A(c,e,s);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(e,null)},p(c,s){if(s&4){n=Y(c[6].accounts);let l;for(l=0;l<n.length;l+=1){const i=Bn(c,n,l);o[l]?o[l].p(i,s):(o[l]=On(i),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}s&4&&r!==(r=c[6].title)&&p(e,"label",r)},d(c){c&&I(e),Xe(o,c)}}}function bs(t){let e,r,n,o,c,s=Y(t[2]),l=[];for(let i=0;i<s.length;i+=1)l[i]=Mn(jn(t,s,i));return{c(){e=w("select"),r=w("option"),n=L(t[1]);for(let i=0;i<l.length;i+=1)l[i].c();r.__value="",K(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_1vWtV"),e.required=!0,t[0]===void 0&&Se(()=>t[5].call(e))},m(i,u){A(i,e,u),h(e,r),h(r,n);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);be(e,t[0],!0),o||(c=W(e,"change",t[5]),o=!0)},p(i,[u]){if(u&2&&z(n,i[1]),u&4){s=Y(i[2]);let a;for(a=0;a<s.length;a+=1){const f=jn(i,s,a);l[a]?l[a].p(f,u):(l[a]=Mn(f),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}u&5&&be(e,i[0])},i:C,o:C,d(i){i&&I(e),Xe(l,i),o=!1,c()}}}function ys(t,e,r){let n,o,c;X(t,fe,u=>r(3,o=u)),X(t,Ie,u=>r(4,c=u));let{accountId:s}=e,{placeholder:l="Account"}=e;function i(){s=nt(this),r(0,s),r(2,n),r(4,c),r(3,o)}return t.$$set=u=>{"accountId"in u&&r(0,s=u.accountId),"placeholder"in u&&r(1,l=u.placeholder)},t.$$.update=()=>{t.$$.dirty&24&&r(2,n=c.reduce((u,a)=>{const f={title:a.title,accounts:o.filter(d=>d.groupId===a.id)};return u.push(f),u},[]))},[s,l,n,o,c,i]}class ws extends Z{constructor(e){super(),J(this,e,ys,bs,V,{accountId:0,placeholder:1})}}function Gn(t,e,r){const n=t.slice();return n[3]=e[r],n}function Ln(t,e){let r,n=e[3].title+"",o,c=e[3].subtitle?`:${e[3].subtitle}`:"",s,l;return{key:t,first:null,c(){r=w("option"),o=L(n),s=L(c),r.__value=l=e[3].id,K(r,r.__value),this.first=r},m(i,u){A(i,r,u),h(r,o),h(r,s)},p(i,u){e=i,u&2&&n!==(n=e[3].title+"")&&z(o,n),u&2&&c!==(c=e[3].subtitle?`:${e[3].subtitle}`:"")&&z(s,c),u&2&&l!==(l=e[3].id)&&(r.__value=l,K(r,r.__value))},d(i){i&&I(r)}}}function vs(t){let e,r,n=[],o=new Map,c,s,l=Y(t[1]);const i=u=>u[3].id;for(let u=0;u<l.length;u+=1){let a=Gn(t,l,u),f=i(a);o.set(f,n[u]=Ln(f,a))}return{c(){e=w("select"),r=w("option"),r.textContent="Category";for(let u=0;u<n.length;u+=1)n[u].c();r.__value="",K(r,r.__value),r.disabled=!0,r.selected=!0,r.hidden=!0,p(e,"class","_1m8Jt"),t[0]===void 0&&Se(()=>t[2].call(e)),Je(e,"_36b4Q",!t[0])},m(u,a){A(u,e,a),h(e,r);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);be(e,t[0],!0),c||(s=W(e,"change",t[2]),c=!0)},p(u,[a]){a&2&&(l=Y(u[1]),n=Ce(n,a,i,1,u,l,o,e,rt,Ln,null,Gn)),a&3&&be(e,u[0]),a&1&&Je(e,"_36b4Q",!u[0])},i:C,o:C,d(u){u&&I(e);for(let a=0;a<n.length;a+=1)n[a].d();c=!1,s()}}}function ks(t,e,r){let n;X(t,Ge,s=>r(1,n=s));let{categoryId:o}=e;function c(){o=nt(this),r(0,o)}return t.$$set=s=>{"categoryId"in s&&r(0,o=s.categoryId)},[o,n,c]}class Ss extends Z{constructor(e){super(),J(this,e,ks,vs,V,{categoryId:0})}}function Cs(t,e,r){const n=t.slice();return n[11]=e[r],n}function Is(t){let e;return{c(){e=w("option"),e.textContent=`${t[11].title}`,e.__value=t[11].value,K(e,e.__value)},m(r,n){A(r,e,n)},p:C,d(r){r&&I(e)}}}function As(t){let e,r,n,o,c,s,l,i,u,a;function f(_){t[19](_)}let d={};return t[5]!==void 0&&(d.categoryId=t[5]),r=new Ss({props:d}),le.push(()=>We(r,"categoryId",f)),{c(){e=w("div"),j(r.$$.fragment),o=B(),c=w("button"),s=L("Clear"),p(c,"type","button"),c.disabled=l=!t[5],p(e,"class","_1JmTY")},m(_,m){A(_,e,m),T(r,e,null),h(e,o),h(e,c),h(c,s),i=!0,u||(a=W(c,"click",ar(t[20])),u=!0)},p(_,m){const g={};!n&&m&32&&(n=!0,g.categoryId=_[5],Ze(()=>n=!1)),r.$set(g),(!i||m&32&&l!==(l=!_[5]))&&(c.disabled=l)},i(_){i||($(r.$$.fragment,_),i=!0)},o(_){y(r.$$.fragment,_),i=!1},d(_){_&&I(e),N(r),u=!1,a()}}}function Ds(t){let e,r,n;function o(s){t[18](s)}let c={placeholder:"To"};return t[1]!==void 0&&(c.accountId=t[1]),e=new ws({props:c}),le.push(()=>We(e,"accountId",o)),{c(){j(e.$$.fragment)},m(s,l){T(e,s,l),n=!0},p(s,l){const i={};!r&&l&2&&(r=!0,i.accountId=s[1],Ze(()=>r=!1)),e.$set(i)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){y(e.$$.fragment,s),n=!1},d(s){N(e,s)}}}function Rn(t){var u;let e,r,n=((u=t[2])==null?void 0:u.currencyCode)+"",o,c,s,l,i;return{c(){e=w("div"),r=L("Amount, "),o=L(n),c=L(`:
      `),s=w("input"),p(s,"class","_1usnT"),p(s,"type","string")},m(a,f){A(a,e,f),h(e,r),h(e,o),h(e,c),h(e,s),K(s,t[9]),l||(i=W(s,"input",t[23]),l=!0)},p(a,f){var d;f&4&&n!==(n=((d=a[2])==null?void 0:d.currencyCode)+"")&&z(o,n),f&512&&K(s,a[9])},d(a){a&&I(e),l=!1,i()}}}function Ps(t){var U;let e,r,n,o,c,s,l,i,u,a,f,d,_,m=((U=t[3])==null?void 0:U.currencyCode)+"",g,v,S,D,P,M,R,O,k,G,E=t[0]?"Save":"Create",Q,x,de,pe,q=Y(Qo),re=[];for(let H=0;H<q.length;H+=1)re[H]=Is(Cs(t,q,H));const Ue=[Ds,As],oe=[];function Ae(H,ue){return H[11]===ke.Transfer?0:1}u=Ae(t),a=oe[u]=Ue[u](t);let b=t[10]&&Rn(t);return{c(){e=w("form"),r=w("div"),n=w("select");for(let H=0;H<re.length;H+=1)re[H].c();o=B(),c=w("div"),s=w("input"),l=B(),i=w("div"),a.c(),f=B(),d=w("div"),_=L("Amount, "),g=L(m),v=L(`:
    `),S=w("input"),D=B(),b&&b.c(),P=B(),M=w("div"),R=w("input"),O=B(),k=w("div"),G=w("button"),Q=L(E),p(n,"class","_1Hq_3"),t[11]===void 0&&Se(()=>t[16].call(n)),p(s,"class","_1usnT"),p(s,"type","datetime-local"),p(S,"class","_1usnT"),p(S,"type","text"),Je(S,"_2gQro",!lt(t[8])),p(R,"class","_1usnT"),p(R,"type","text"),p(R,"placeholder","Comment"),p(G,"class","_3_X88"),p(G,"type","submit"),p(e,"class","pBK27")},m(H,ue){A(H,e,ue),h(e,r),h(r,n);for(let we=0;we<re.length;we+=1)re[we]&&re[we].m(n,null);be(n,t[11],!0),h(e,o),h(e,c),h(c,s),K(s,t[7]),h(e,l),h(e,i),oe[u].m(i,null),h(e,f),h(e,d),h(d,_),h(d,g),h(d,v),h(d,S),K(S,t[8]),t[22](S),h(e,D),b&&b.m(e,null),h(e,P),h(e,M),h(M,R),K(R,t[6]),h(e,O),h(e,k),h(k,G),h(G,Q),x=!0,de||(pe=[W(n,"change",t[16]),W(s,"input",t[17]),W(S,"input",t[21]),W(R,"input",t[24]),W(e,"submit",qe(t[12]))],de=!0)},p(H,[ue]){var Mt;ue&2048&&be(n,H[11]),ue&128&&K(s,H[7]);let we=u;u=Ae(H),u===we?oe[u].p(H,ue):(ce(),y(oe[we],1,1,()=>{oe[we]=null}),se(),a=oe[u],a?a.p(H,ue):(a=oe[u]=Ue[u](H),a.c()),$(a,1),a.m(i,null)),(!x||ue&8)&&m!==(m=((Mt=H[3])==null?void 0:Mt.currencyCode)+"")&&z(g,m),ue&256&&S.value!==H[8]&&K(S,H[8]),(!x||ue&256)&&Je(S,"_2gQro",!lt(H[8])),H[10]?b?b.p(H,ue):(b=Rn(H),b.c(),b.m(e,P)):b&&(b.d(1),b=null),ue&64&&R.value!==H[6]&&K(R,H[6]),(!x||ue&1)&&E!==(E=H[0]?"Save":"Create")&&z(Q,E)},i(H){x||($(a),x=!0)},o(H){y(a),x=!1},d(H){H&&I(e),Xe(re,H),oe[u].d(),t[22](null),b&&b.d(),de=!1,ae(pe)}}}function Es(t,e,r){let n,o,c,s,l;X(t,fe,q=>r(15,l=q));let{accountId:i}=e,{transactionDoc:u=null}=e,a;Qe(()=>{a&&a.focus()});let{kind:f=ke.Expense,categoryId:d,secondAccountId:_,comment:m=""}=u||{},g=xo(new Date((u==null?void 0:u.timestamp)||Date.now())),v=u?_e(u.amount):"",S=u?_e(u.secondAmount):"";const D=Me();function P(){const q=M();if(q){alert(q);return}const re=f===ke.Transfer?{kind:f,timestamp:new Date(g).getTime(),accountId:i,secondAccountId:_,...s?{secondAmount:vt(S)}:{},amount:vt(v),comment:m.trim()}:{kind:f,timestamp:new Date(g).getTime(),accountId:i,categoryId:d||null,amount:vt(v),comment:m.trim()};D("save",{params:re})}function M(){if(!lt(v))return"Invalid amount";if(f===ke.Transfer){if(!_)return"Must choose the second account";if(_===i)return"Cannot transfer to the same account";if(s&&!lt(S))return"Invalid second amount"}return""}function R(){f=nt(this),r(11,f)}function O(){g=this.value,r(7,g)}function k(q){_=q,r(1,_)}function G(q){d=q,r(5,d)}const E=()=>{r(5,d="")};function Q(){v=this.value,r(8,v)}function x(q){le[q?"unshift":"push"](()=>{a=q,r(4,a)})}function de(){S=this.value,r(9,S)}function pe(){m=this.value,r(6,m)}return t.$$set=q=>{"accountId"in q&&r(13,i=q.accountId),"transactionDoc"in q&&r(0,u=q.transactionDoc)},t.$$.update=()=>{t.$$.dirty&40960&&r(3,n=l.find(q=>q.id===i)),t.$$.dirty&8&&r(14,o=n==null?void 0:n.currencyCode),t.$$.dirty&32770&&r(2,c=_?l.find(q=>q.id===_):null),t.$$.dirty&16388&&r(10,s=c&&o?c.currencyCode!==o:!1)},[u,_,c,n,a,d,m,g,v,S,s,f,P,i,o,l,R,O,k,G,E,Q,x,de,pe]}class or extends Z{constructor(e){super(),J(this,e,Es,Ps,V,{accountId:13,transactionDoc:0})}}function Ts(t){let e,r;return e=new or({props:{accountId:t[0]}}),e.$on("save",t[6]),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&1&&(c.accountId=n[0]),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Ns(t){let e,r,n,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Os,then:Bs,catch:js,blocks:[,,,]};return et(r=t[5](t[1]),o),{c(){e=ie(),o.block.c()},m(c,s){A(c,e,s),o.block.m(c,o.anchor=s),o.mount=()=>e.parentNode,o.anchor=e,n=!0},p(c,s){t=c,o.ctx=t,s&2&&r!==(r=t[5](t[1]))&&et(r,o)||Kn(o,t,s)},i(c){n||($(o.block),n=!0)},o(c){for(let s=0;s<3;s+=1){const l=o.blocks[s];y(l)}n=!1},d(c){c&&I(e),o.block.d(c),o.token=null,o=null}}}function js(t){return{c:C,m:C,p:C,i:C,o:C,d:C}}function Bs(t){let e,r;return e=new or({props:{accountId:t[0],transactionDoc:t[2]}}),e.$on("save",t[6]),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&1&&(c.accountId=n[0]),o&4&&(c.transactionDoc=n[2]),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Os(t){return{c:C,m:C,p:C,i:C,o:C,d:C}}function Ms(t){let e,r,n,o;const c=[Ns,Ts],s=[];function l(i,u){return i[1]?0:1}return e=l(t),r=s[e]=c[e](t),{c(){r.c(),n=ie()},m(i,u){s[e].m(i,u),A(i,n,u),o=!0},p(i,u){let a=e;e=l(i),e===a?s[e].p(i,u):(ce(),y(s[a],1,1,()=>{s[a]=null}),se(),r=s[e],r?r.p(i,u):(r=s[e]=c[e](i),r.c()),$(r,1),r.m(n.parentNode,n))},i(i){o||($(r),o=!0)},o(i){y(r),o=!1},d(i){i&&I(n),s[e].d(i)}}}function Gs(t){let e,r;return e=new me({props:{slot:"header",title:t[3]?`${t[3].title}: Transaction`:"Transaction",returnPath:`accounts/${t[0]}`,menuItems:t[4]}}),e.$on("menu",t[8]),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,o){const c={};o&8&&(c.title=n[3]?`${n[3].title}: Transaction`:"Transaction"),o&1&&(c.returnPath=`accounts/${n[0]}`),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Ls(t){let e,r;return e=new he({props:{$$slots:{header:[Gs],default:[Ms]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},p(n,[o]){const c={};o&527&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Rs(t,e,r){let n,o;X(t,fe,d=>r(7,o=d));let{id:c}=e,{tid:s=void 0}=e,l;const i=s?[{id:"delete",title:"Delete"}]:null;async function u(d){r(2,l=await Uo(d))}function a(d){s?Ro(l,d.detail.params).then(()=>{ne(`${ee}/accounts/${c}`)}):Xo(d.detail.params).then(()=>{ne(`${ee}/accounts/${c}`)})}const f=d=>{switch(d.detail.id){case"delete":if(!confirm("Delete transaction?"))return!1;s&&Lo(s).then(()=>{ne(`${ee}/accounts/${c}`)});break}};return t.$$set=d=>{"id"in d&&r(0,c=d.id),"tid"in d&&r(1,s=d.tid)},t.$$.update=()=>{t.$$.dirty&129&&r(3,n=o.find(d=>d.id===c))},[c,s,l,n,i,u,a,o,f]}class Un extends Z{constructor(e){super(),J(this,e,Rs,Ls,V,{id:0,tid:1})}}function Us(t){return{c:C,m:C,i:C,o:C,d:C}}function Hs(t){let e,r;return e=new Zr({props:{basepath:ee,$$slots:{default:[zs]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(n,o){T(e,n,o),r=!0},i(n){r||($(e.$$.fragment,n),r=!0)},o(n){y(e.$$.fragment,n),r=!1},d(n){N(e,n)}}}function Fs(t){let e;return{c(){e=w("h2"),e.textContent="Default route test"},m(r,n){A(r,e,n)},p:C,d(r){r&&I(e)}}}function zs(t){let e,r,n,o,c,s,l,i,u,a,f,d,_,m,g,v,S,D,P,M,R,O,k,G,E,Q,x,de,pe,q,re,Ue,oe,Ae;return e=new te({props:{path:"/",component:bc}}),n=new te({props:{path:"/groups",component:Sc}}),c=new te({props:{path:"/groups/new",component:$n}}),l=new te({props:{path:"/groups/:id",component:$n}}),u=new te({props:{path:"/accounts/new",component:wn}}),f=new te({props:{path:"/accounts/:id",component:Xc}}),_=new te({props:{path:"/accounts/:id/edit",component:wn}}),g=new te({props:{path:"/accounts/:id/transactions/new",component:Un}}),S=new te({props:{path:"/accounts/:id/transactions/:tid",component:Un}}),P=new te({props:{path:"/categories",component:es}}),R=new te({props:{path:"/categories/new",component:Tn}}),k=new te({props:{path:"/categories/:id",component:Tn}}),E=new te({props:{path:"/currencies",component:as}}),x=new te({props:{path:"/currencies/new",component:Nn}}),pe=new te({props:{path:"/currencies/:cid",component:Nn}}),re=new te({props:{path:"/settings",component:cs}}),oe=new te({props:{$$slots:{default:[Fs]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),r=B(),j(n.$$.fragment),o=B(),j(c.$$.fragment),s=B(),j(l.$$.fragment),i=B(),j(u.$$.fragment),a=B(),j(f.$$.fragment),d=B(),j(_.$$.fragment),m=B(),j(g.$$.fragment),v=B(),j(S.$$.fragment),D=B(),j(P.$$.fragment),M=B(),j(R.$$.fragment),O=B(),j(k.$$.fragment),G=B(),j(E.$$.fragment),Q=B(),j(x.$$.fragment),de=B(),j(pe.$$.fragment),q=B(),j(re.$$.fragment),Ue=B(),j(oe.$$.fragment)},m(b,U){T(e,b,U),A(b,r,U),T(n,b,U),A(b,o,U),T(c,b,U),A(b,s,U),T(l,b,U),A(b,i,U),T(u,b,U),A(b,a,U),T(f,b,U),A(b,d,U),T(_,b,U),A(b,m,U),T(g,b,U),A(b,v,U),T(S,b,U),A(b,D,U),T(P,b,U),A(b,M,U),T(R,b,U),A(b,O,U),T(k,b,U),A(b,G,U),T(E,b,U),A(b,Q,U),T(x,b,U),A(b,de,U),T(pe,b,U),A(b,q,U),T(re,b,U),A(b,Ue,U),T(oe,b,U),Ae=!0},p(b,U){const H={};U&1&&(H.$$scope={dirty:U,ctx:b}),oe.$set(H)},i(b){Ae||($(e.$$.fragment,b),$(n.$$.fragment,b),$(c.$$.fragment,b),$(l.$$.fragment,b),$(u.$$.fragment,b),$(f.$$.fragment,b),$(_.$$.fragment,b),$(g.$$.fragment,b),$(S.$$.fragment,b),$(P.$$.fragment,b),$(R.$$.fragment,b),$(k.$$.fragment,b),$(E.$$.fragment,b),$(x.$$.fragment,b),$(pe.$$.fragment,b),$(re.$$.fragment,b),$(oe.$$.fragment,b),Ae=!0)},o(b){y(e.$$.fragment,b),y(n.$$.fragment,b),y(c.$$.fragment,b),y(l.$$.fragment,b),y(u.$$.fragment,b),y(f.$$.fragment,b),y(_.$$.fragment,b),y(g.$$.fragment,b),y(S.$$.fragment,b),y(P.$$.fragment,b),y(R.$$.fragment,b),y(k.$$.fragment,b),y(E.$$.fragment,b),y(x.$$.fragment,b),y(pe.$$.fragment,b),y(re.$$.fragment,b),y(oe.$$.fragment,b),Ae=!1},d(b){b&&(I(r),I(o),I(s),I(i),I(a),I(d),I(m),I(v),I(D),I(M),I(O),I(G),I(Q),I(de),I(q),I(Ue)),N(e,b),N(n,b),N(c,b),N(l,b),N(u,b),N(f,b),N(_,b),N(g,b),N(S,b),N(P,b),N(R,b),N(k,b),N(E,b),N(x,b),N(pe,b),N(re,b),N(oe,b)}}}function Ks(t){return{c:C,m:C,i:C,o:C,d:C}}function Vs(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:Ks,then:Hs,catch:Us,blocks:[,,,]};return et(Yo,n),{c(){e=ie(),n.block.c()},m(o,c){A(o,e,c),n.block.m(o,n.anchor=c),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(o,[c]){t=o},i(o){r||($(n.block),r=!0)},o(o){for(let c=0;c<3;c+=1){const s=n.blocks[c];y(s)}r=!1},d(o){o&&I(e),n.block.d(o),n.token=null,n=null}}}class Js extends Z{constructor(e){super(),J(this,e,null,Vs,V,{})}}new Js({target:document.getElementById("app")});
