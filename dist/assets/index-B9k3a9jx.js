(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const qr=!1;var Ne=Array.isArray,Vn=Array.from,Ra=Object.defineProperty,Pt=Object.getOwnPropertyDescriptor,Ur=Object.getOwnPropertyDescriptors,Ma=Object.prototype,Ba=Array.prototype,tn=Object.getPrototypeOf;function ke(t){return typeof t=="function"}const Mt=()=>{};function Fa(t){return typeof(t==null?void 0:t.then)=="function"}function Ha(t){return t()}function en(t){for(var e=0;e<t.length;e++)t[e]()}function Ze(t,e,n=!1){return t===void 0?n?e():e:t}const It=2,Vr=4,je=8,Yn=16,$t=32,Re=64,Qt=128,nn=256,rt=512,Ht=1024,me=2048,Et=4096,Me=8192,Ga=16384,fn=32768,Yr=65536,qa=1<<18,zr=1<<19,Bt=Symbol("$state"),Ua=Symbol("");function Kr(t){return t===this.v}function Wr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function zn(t){return!Wr(t,this.v)}function Va(t){throw new Error("effect_in_teardown")}function Ya(){throw new Error("effect_in_unowned_derived")}function za(t){throw new Error("effect_orphan")}function Ka(){throw new Error("effect_update_depth_exceeded")}function Wa(t){throw new Error("lifecycle_legacy_only")}function Xa(t){throw new Error("props_invalid_value")}function Ja(){throw new Error("state_descriptors_fixed")}function Za(){throw new Error("state_prototype_fixed")}function Qa(){throw new Error("state_unsafe_local_read")}function to(){throw new Error("state_unsafe_mutation")}function at(t){return{f:0,v:t,reactions:null,equals:Kr,version:0}}function _e(t,e=!1){var r;const n=at(t);return e||(n.equals=zn),M!==null&&M.l!==null&&((r=M.l).s??(r.s=[])).push(n),n}function C(t,e=!1){return eo(_e(t,e))}function eo(t){return B!==null&&B.f&It&&(xt===null?bo([t]):xt.push(t)),t}function rn(t,e){return E(t,wt(()=>c(t))),e}function E(t,e){return B!==null&&Fe()&&B.f&(It|Yn)&&(xt===null||!xt.includes(t))&&to(),fe(t,e)}function fe(t,e){return t.equals(e)||(t.v=e,t.version=_a(),Xr(t,Ht),Fe()&&j!==null&&j.f&rt&&!(j.f&$t)&&(tt!==null&&tt.includes(t)?(St(j,Ht),pn(j)):Ft===null?$o([t]):Ft.push(t))),e}function Xr(t,e){var n=t.reactions;if(n!==null)for(var r=Fe(),a=n.length,o=0;o<a;o++){var s=n[o],i=s.f;i&Ht||!r&&s===j||(St(s,e),i&(rt|Qt)&&(i&It?Xr(s,me):pn(s)))}}const Kn=1,Wn=2,Jr=4,no=8,ro=16,ao=1,oo=2,so=4,io=8,co=16,lo=1,uo=2,lt=Symbol();let Zr=!1;function ie(t,e=null,n){if(typeof t!="object"||t===null||Bt in t)return t;const r=tn(t);if(r!==Ma&&r!==Ba)return t;var a=new Map,o=Ne(t),s=at(0);o&&a.set("length",at(t.length));var i;return new Proxy(t,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ja();var v=a.get(u);return v===void 0?(v=at(f.value),a.set(u,v)):E(v,ie(f.value,i)),!0},deleteProperty(l,u){var f=a.get(u);if(f===void 0)u in l&&a.set(u,at(lt));else{if(o&&typeof u=="string"){var v=a.get("length"),d=Number(u);Number.isInteger(d)&&d<v.v&&E(v,d)}E(f,lt),lr(s)}return!0},get(l,u,f){var _;if(u===Bt)return t;var v=a.get(u),d=u in l;if(v===void 0&&(!d||(_=Pt(l,u))!=null&&_.writable)&&(v=at(ie(d?l[u]:lt,i)),a.set(u,v)),v!==void 0){var p=c(v);return p===lt?void 0:p}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var v=a.get(u);v&&(f.value=c(v))}else if(f===void 0){var d=a.get(u),p=d==null?void 0:d.v;if(d!==void 0&&p!==lt)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return f},has(l,u){var p;if(u===Bt)return!0;var f=a.get(u),v=f!==void 0&&f.v!==lt||Reflect.has(l,u);if(f!==void 0||j!==null&&(!v||(p=Pt(l,u))!=null&&p.writable)){f===void 0&&(f=at(v?ie(l[u],i):lt),a.set(u,f));var d=c(f);if(d===lt)return!1}return v},set(l,u,f,v){var w;var d=a.get(u),p=u in l;if(o&&u==="length")for(var _=f;_<d.v;_+=1){var m=a.get(_+"");m!==void 0?E(m,lt):_ in l&&(m=at(lt),a.set(_+"",m))}d===void 0?(!p||(w=Pt(l,u))!=null&&w.writable)&&(d=at(void 0),E(d,ie(f,i)),a.set(u,d)):(p=d.v!==lt,E(d,ie(f,i)));var S=Reflect.getOwnPropertyDescriptor(l,u);if(S!=null&&S.set&&S.set.call(v,f),!p){if(o&&typeof u=="string"){var b=a.get("length"),$=Number(u);Number.isInteger($)&&$>=b.v&&E(b,$+1)}lr(s)}return!0},ownKeys(l){c(s);var u=Reflect.ownKeys(l).filter(d=>{var p=a.get(d);return p===void 0||p.v!==lt});for(var[f,v]of a)v.v!==lt&&!(f in l)&&u.push(f);return u},setPrototypeOf(){Za()}})}function lr(t,e=1){E(t,t.v+e)}function ur(t){return t!==null&&typeof t=="object"&&Bt in t?t[Bt]:t}function fo(t,e){return Object.is(ur(t),ur(e))}var fr,Qr,ta;function vo(){if(fr===void 0){fr=window;var t=Element.prototype,e=Node.prototype;Qr=Pt(e,"firstChild").get,ta=Pt(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Xn(t=""){return document.createTextNode(t)}function pe(t){return Qr.call(t)}function dn(t){return ta.call(t)}function y(t,e){return pe(t)}function z(t,e){{var n=pe(t);return n instanceof Comment&&n.data===""?dn(n):n}}function I(t,e=1,n=!1){let r=t;for(;e--;)r=dn(r);return r}function _o(t){t.textContent=""}function Te(t){var e=It|Ht;j===null?e|=Qt:j.f|=zr;const n={children:null,ctx:M,deps:null,equals:Kr,f:e,fn:t,reactions:null,v:null,version:0,parent:j};if(B!==null&&B.f&It){var r=B;(r.children??(r.children=[])).push(n)}return n}function ye(t){const e=Te(t);return e.equals=zn,e}function ea(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&It?Jn(r):te(r)}}}function na(t){var e,n=j;mt(t.parent);try{ea(t),e=pa(t)}finally{mt(n)}return e}function ra(t){var e=na(t),n=(le||t.f&Qt)&&t.deps!==null?me:rt;St(t,n),t.equals(e)||(t.v=e,t.version=_a())}function Jn(t){ea(t),Le(t,0),St(t,Me),t.v=t.children=t.deps=t.ctx=t.reactions=null}function aa(t){j===null&&B===null&&za(),B!==null&&B.f&Qt&&Ya(),tr&&Va()}function po(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function we(t,e,n,r=!0){var a=(t&Re)!==0,o=j,s={ctx:M,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|Ht,first:null,fn:e,last:null,next:null,parent:a?null:o,prev:null,teardown:null,transitions:null,version:0};if(n){var i=de;try{dr(!0),He(s),s.f|=Ga}catch(f){throw te(s),f}finally{dr(i)}}else e!==null&&pn(s);var l=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&zr)===0;if(!l&&!a&&r&&(o!==null&&po(s,o),B!==null&&B.f&It)){var u=B;(u.children??(u.children=[])).push(s)}return s}function Zn(t){const e=we(je,null,!1);return St(e,rt),e.teardown=t,e}function Ln(t){aa();var e=j!==null&&(j.f&$t)!==0&&M!==null&&!M.m;if(e){var n=M;(n.e??(n.e=[])).push({fn:t,effect:j,reaction:B})}else{var r=be(t);return r}}function ho(t){return aa(),$e(t)}function go(t){const e=we(Re,t,!0);return()=>{te(e)}}function be(t){return we(Vr,t,!1)}function ft(t,e){var n=M,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=$e(()=>{t(),!r.ran&&(r.ran=!0,E(n.l.r2,!0),wt(e))})}function Lt(){var t=M;$e(()=>{if(c(t.l.r2)){for(var e of t.l.r1){var n=e.effect;n.f&rt&&St(n,me),Se(n)&&He(n),e.ran=!1}t.l.r2.v=!1}})}function $e(t){return we(je,t,!0)}function k(t){return Be(t)}function Be(t,e=0){return we(je|Yn|e,t,!0)}function Tt(t,e=!0){return we(je|$t,t,!0,e)}function oa(t){var e=t.teardown;if(e!==null){const n=tr,r=B;vr(!0),Ct(null);try{e.call(null)}finally{vr(n),Ct(r)}}}function sa(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)Jn(e[n])}}function ia(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;te(n,e),n=r}}function mo(t){for(var e=t.first;e!==null;){var n=e.next;e.f&$t||te(e),e=n}}function te(t,e=!0){var n=!1;if((e||t.f&qa)&&t.nodes_start!==null){for(var r=t.nodes_start,a=t.nodes_end;r!==null;){var o=r===a?null:dn(r);r.remove(),r=o}n=!0}ia(t,e&&!n),sa(t),Le(t,0),St(t,Me);var s=t.transitions;if(s!==null)for(const l of s)l.stop();oa(t);var i=t.parent;i!==null&&i.first!==null&&ca(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function ca(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function zt(t,e){var n=[];Qn(t,n,!0),la(n,()=>{te(t),e&&e()})}function la(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var a of t)a.out(r)}else e()}function Qn(t,e,n){if(!(t.f&Et)){if(t.f^=Et,t.transitions!==null)for(const s of t.transitions)(s.is_global||n)&&e.push(s);for(var r=t.first;r!==null;){var a=r.next,o=(r.f&fn)!==0||(r.f&$t)!==0;Qn(r,e,o?n:!1),r=a}}}function Kt(t){ua(t,!0)}function ua(t,e){if(t.f&Et){Se(t)&&He(t),t.f^=Et;for(var n=t.first;n!==null;){var r=n.next,a=(n.f&fn)!==0||(n.f&$t)!==0;ua(n,a?e:!1),n=r}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let an=!1,On=[];function fa(){an=!1;const t=On.slice();On=[],en(t)}function vn(t){an||(an=!0,queueMicrotask(fa)),On.push(t)}function yo(){an&&fa()}function _n(t){throw new Error("lifecycle_outside_component")}const da=0,wo=1;let Qe=da,De=!1,de=!1,tr=!1;function dr(t){de=t}function vr(t){tr=t}let Yt=[],ve=0;let B=null;function Ct(t){B=t}let j=null;function mt(t){j=t}let xt=null;function bo(t){xt=t}let tt=null,ut=0,Ft=null;function $o(t){Ft=t}let va=0,le=!1,ue=!1,ce=new Set,M=null;function _r(t){M=t}function _a(){return++va}function Fe(){return M!==null&&M.l===null}function Se(t){var s,i;var e=t.f;if(e&Ht)return!0;if(e&me){var n=t.deps,r=(e&Qt)!==0;if(n!==null){var a;if(e&nn){for(a=0;a<n.length;a++)((s=n[a]).reactions??(s.reactions=[])).push(t);t.f^=nn}for(a=0;a<n.length;a++){var o=n[a];if(Se(o)&&ra(o),r&&j!==null&&!le&&!((i=o==null?void 0:o.reactions)!=null&&i.includes(t))&&(o.reactions??(o.reactions=[])).push(t),o.version>t.version)return!0}}r||St(t,rt)}return!1}function So(t,e,n){throw t}function pa(t){var d;var e=tt,n=ut,r=Ft,a=B,o=le,s=xt,i=M,l=t.f;tt=null,ut=0,Ft=null,B=l&($t|Re)?null:t,le=!de&&(l&Qt)!==0,xt=null,M=t.ctx;try{var u=(0,t.fn)(),f=t.deps;if(tt!==null){var v;if(Le(t,ut),f!==null&&ut>0)for(f.length=ut+tt.length,v=0;v<tt.length;v++)f[ut+v]=tt[v];else t.deps=f=tt;if(!le)for(v=ut;v<f.length;v++)((d=f[v]).reactions??(d.reactions=[])).push(t)}else f!==null&&ut<f.length&&(Le(t,ut),f.length=ut);return u}finally{tt=e,ut=n,Ft=r,B=a,le=o,xt=s,M=i}}function Eo(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[r]=n[a],n.pop())}}n===null&&e.f&It&&(tt===null||!tt.includes(e))&&(St(e,me),e.f&(Qt|nn)||(e.f^=nn),Le(e,0))}function Le(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Eo(t,n[r])}function He(t){var e=t.f;if(!(e&Me)){St(t,rt);var n=j;j=t;try{e&Yn?mo(t):ia(t),sa(t),oa(t);var r=pa(t);t.teardown=typeof r=="function"?r:null,t.version=va}catch(a){So(a)}finally{j=n}}}function ha(){ve>1e3&&(ve=0,Ka()),ve++}function ga(t){var e=t.length;if(e!==0){ha();var n=de;de=!0;try{for(var r=0;r<e;r++){var a=t[r];a.f&rt||(a.f^=rt);var o=[];ma(a,o),xo(o)}}finally{de=n}}}function xo(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&(Me|Et))&&Se(r)&&(He(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ca(r):r.fn=null))}}function Io(){if(De=!1,ve>1001)return;const t=Yt;Yt=[],ga(t),De||(ve=0)}function pn(t){Qe===da&&(De||(De=!0,queueMicrotask(Io)));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(Re|$t)){if(!(n&rt))return;e.f^=rt}}Yt.push(e)}function ma(t,e){var n=t.first,r=[];t:for(;n!==null;){var a=n.f,o=(a&$t)!==0,s=o&&(a&rt)!==0;if(!s&&!(a&Et))if(a&je){o?n.f^=rt:Se(n)&&He(n);var i=n.first;if(i!==null){n=i;continue}}else a&Vr&&r.push(n);var l=n.next;if(l===null){let v=n.parent;for(;v!==null;){if(t===v)break t;var u=v.next;if(u!==null){n=u;continue t}v=v.parent}}n=l}for(var f=0;f<r.length;f++)i=r[f],e.push(i),ma(i,e)}function er(t){var e=Qe,n=Yt;try{ha();const a=[];Qe=wo,Yt=a,De=!1,ga(n);var r=t==null?void 0:t();return yo(),(Yt.length>0||a.length>0)&&er(),ve=0,r}finally{Qe=e,Yt=n}}async function ya(){await Promise.resolve(),er()}function c(t){var i;var e=t.f,n=(e&It)!==0;if(n&&e&Me){var r=na(t);return Jn(t),r}if(ue&&ce.add(t),B!==null){xt!==null&&xt.includes(t)&&Qa();var a=B.deps;tt===null&&a!==null&&a[ut]===t?ut++:tt===null?tt=[t]:tt.push(t),Ft!==null&&j!==null&&j.f&rt&&!(j.f&$t)&&Ft.includes(t)&&(St(j,Ht),pn(j))}else if(n&&t.deps===null){var o=t,s=o.parent;s!==null&&!((i=s.deriveds)!=null&&i.includes(o))&&(s.deriveds??(s.deriveds=[])).push(o)}return n&&(o=t,Se(o)&&ra(o)),t.v}function nr(t){var e=ue,n=ce;ue=!0,ce=new Set;var r=ce,a;try{wt(t)}finally{if(ue=e,ue)for(a of ce)n.add(a);ce=n}for(a of r)if(a.f&Yr)for(const o of a.deps||[])o.f&It||rn(o,null);else rn(a,null)}function wt(t){const e=B;try{return B=null,t()}finally{B=e}}const Co=~(Ht|me|rt);function St(t,e){t.f=t.f&Co|e}function H(t,e=!1,n){M={p:M,c:null,e:null,m:!1,s:t,x:null,l:null},e||(M.l={s:null,u:null,r1:[],r2:at(!1)})}function G(t){const e=M;if(e!==null){t!==void 0&&(e.x=t);const s=e.e;if(s!==null){var n=j,r=B;e.e=null;try{for(var a=0;a<s.length;a++){var o=s[a];mt(o.effect),Ct(o.reaction),be(o.fn)}}finally{mt(n),Ct(r)}}M=e.p,e.m=!0}return t||{}}function he(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Bt in t)Nn(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Bt in n&&Nn(n)}}}function Nn(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Nn(t[r],e)}catch{}const n=tn(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ur(n);for(let a in r){const o=r[a].get;if(o)try{o.call(t)}catch{}}}}}const wa=new Set,jn=new Set;function ko(t,e,n,r){function a(o){if(r.capture||Ae.call(e,o),!o.cancelBubble){var s=B,i=j;Ct(null),mt(null);try{return n.call(this,o)}finally{Ct(s),mt(i)}}}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?vn(()=>{e.addEventListener(t,a,r)}):e.addEventListener(t,a,r),a}function V(t,e,n,r,a){var o={capture:r,passive:a},s=ko(t,e,n,o);(e===document.body||e===window||e===document)&&Zn(()=>{e.removeEventListener(t,s,o)})}function Ao(t){for(var e=0;e<t.length;e++)wa.add(t[e]);for(var n of jn)n(t)}function Ae(t){var $;var e=this,n=e.ownerDocument,r=t.type,a=(($=t.composedPath)==null?void 0:$.call(t))||[],o=a[0]||t.target,s=0,i=t.__root;if(i){var l=a.indexOf(i);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;l<=u&&(s=l)}if(o=a[s]||t.target,o!==e){Ra(t,"currentTarget",{configurable:!0,get(){return o||n}});var f=B,v=j;Ct(null),mt(null);try{for(var d,p=[];o!==null;){var _=o.assignedSlot||o.parentNode||o.host||null;try{var m=o["__"+r];if(m!==void 0&&!o.disabled)if(Ne(m)){var[S,...b]=m;S.apply(o,[t,...b])}else m.call(o,t)}catch(w){d?p.push(w):d=w}if(t.cancelBubble||_===e||_===null)break;o=_}if(d){for(let w of p)queueMicrotask(()=>{throw w});throw d}}finally{t.__root=e,delete t.currentTarget,Ct(f),mt(v)}}}function ba(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function on(t,e){var n=j;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function P(t,e){var n=(e&lo)!==0,r=(e&uo)!==0,a,o=!t.startsWith("<!>");return()=>{a===void 0&&(a=ba(o?t:"<!>"+t),n||(a=pe(a)));var s=r?document.importNode(a,!0):a.cloneNode(!0);if(n){var i=pe(s),l=s.lastChild;on(i,l)}else on(s,s);return s}}function hn(t,e,n="svg"){var r=!t.startsWith("<!>"),a=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var s=ba(a),i=pe(s);o=pe(i)}var l=o.cloneNode(!0);return on(l,l),l}}function vt(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Xn();return t.append(e,n),on(e,n),t}function x(t,e){t!==null&&t.before(e)}const Po=["touchstart","touchmove"];function To(t){return Po.includes(t)}function D(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function Do(t,e){return Lo(t,e)}const oe=new Map;function Lo(t,{target:e,anchor:n,props:r={},events:a,context:o,intro:s=!0}){vo();var i=new Set,l=v=>{for(var d=0;d<v.length;d++){var p=v[d];if(!i.has(p)){i.add(p);var _=To(p);e.addEventListener(p,Ae,{passive:_});var m=oe.get(p);m===void 0?(document.addEventListener(p,Ae,{passive:_}),oe.set(p,1)):oe.set(p,m+1)}}};l(Vn(wa)),jn.add(l);var u=void 0,f=go(()=>{var v=n??e.appendChild(Xn());return Tt(()=>{if(o){H({});var d=M;d.c=o}a&&(r.$$events=a),u=t(v,r)||{},o&&G()}),()=>{var _;for(var d of i){e.removeEventListener(d,Ae);var p=oe.get(d);--p===0?(document.removeEventListener(d,Ae),oe.delete(d)):oe.set(d,p)}jn.delete(l),pr.delete(u),v!==n&&((_=v.parentNode)==null||_.removeChild(v))}});return pr.set(u,f),u}let pr=new WeakMap;const In=0,Xe=1,Cn=2;function $a(t,e,n,r,a){var o=t,s=Fe(),i=M,l,u,f,v,d=(s?at:_e)(void 0),p=(s?at:_e)(void 0),_=!1;function m(b,$){_=!0,$&&(mt(S),Ct(S),_r(i)),b===In&&n&&(u?Kt(u):u=Tt(()=>n(o))),b===Xe&&r&&(f?Kt(f):f=Tt(()=>r(o,d))),b===Cn&&a&&(v?Kt(v):v=Tt(()=>a(o,p))),b!==In&&u&&zt(u,()=>u=null),b!==Xe&&f&&zt(f,()=>f=null),b!==Cn&&v&&zt(v,()=>v=null),$&&(_r(null),Ct(null),mt(null),er())}var S=Be(()=>{if(l!==(l=e())){if(Fa(l)){var b=l;_=!1,b.then($=>{b===l&&(fe(d,$),m(Xe,!0))},$=>{if(b===l)throw fe(p,$),m(Cn,!0),p.v}),vn(()=>{_||m(In,!0)})}else fe(d,l),m(Xe,!1);return()=>l=null}})}function et(t,e,n,r=null,a=!1){var o=t,s=null,i=null,l=null,u=a?fn:0;Be(()=>{l!==(l=!!e())&&(l?(s?Kt(s):s=Tt(()=>n(o)),i&&zt(i,()=>{i=null})):(i?Kt(i):r&&(i=Tt(()=>r(o))),s&&zt(s,()=>{s=null})))},u)}let kn=null;function Dt(t,e){return e}function Oo(t,e,n,r){for(var a=[],o=e.length,s=0;s<o;s++)Qn(e[s].e,a,!0);var i=o>0&&a.length===0&&n!==null;if(i){var l=n.parentNode;_o(l),l.append(n),r.clear(),Rt(t,e[0].prev,e[o-1].next)}la(a,()=>{for(var u=0;u<o;u++){var f=e[u];i||(r.delete(f.k),Rt(t,f.prev,f.next)),te(f.e,!i)}})}function Z(t,e,n,r,a,o=null){var s=t,i={flags:e,items:new Map,first:null},l=(e&Jr)!==0;if(l){var u=t;s=u.appendChild(Xn())}var f=null,v=!1;Be(()=>{var d=n(),p=Ne(d)?d:d==null?[]:Vn(d),_=p.length;if(!(v&&_===0)){v=_===0;{var m=B;No(p,i,s,a,e,(m.f&Et)!==0,r)}o!==null&&(_===0?f?Kt(f):f=Tt(()=>o(s)):f!==null&&zt(f,()=>{f=null})),n()}})}function No(t,e,n,r,a,o,s){var ht,ct,kt,Q;var i=(a&no)!==0,l=(a&(Kn|Wn))!==0,u=t.length,f=e.items,v=e.first,d=v,p,_=null,m,S=[],b=[],$,w,h,g;if(i)for(g=0;g<u;g+=1)$=t[g],w=s($,g),h=f.get(w),h!==void 0&&((ht=h.a)==null||ht.measure(),(m??(m=new Set)).add(h));for(g=0;g<u;g+=1){if($=t[g],w=s($,g),h=f.get(w),h===void 0){var T=d?d.e.nodes_start:n;_=Ro(T,e,_,_===null?e.first:_.next,$,w,g,r,a),f.set(w,_),S=[],b=[],d=_.next;continue}if(l&&jo(h,$,g,a),h.e.f&Et&&(Kt(h.e),i&&((ct=h.a)==null||ct.unfix(),(m??(m=new Set)).delete(h))),h!==d){if(p!==void 0&&p.has(h)){if(S.length<b.length){var A=b[0],N;_=A.prev;var nt=S[0],W=S[S.length-1];for(N=0;N<S.length;N+=1)hr(S[N],A,n);for(N=0;N<b.length;N+=1)p.delete(b[N]);Rt(e,nt.prev,W.next),Rt(e,_,nt),Rt(e,W,A),d=A,_=W,g-=1,S=[],b=[]}else p.delete(h),hr(h,d,n),Rt(e,h.prev,h.next),Rt(e,h,_===null?e.first:_.next),Rt(e,_,h),_=h;continue}for(S=[],b=[];d!==null&&d.k!==w;)(o||!(d.e.f&Et))&&(p??(p=new Set)).add(d),b.push(d),d=d.next;if(d===null)continue;h=d}S.push(h),_=h,d=h.next}if(d!==null||p!==void 0){for(var X=p===void 0?[]:Vn(p);d!==null;)(o||!(d.e.f&Et))&&X.push(d),d=d.next;var Y=X.length;if(Y>0){var it=a&Jr&&u===0?n:null;if(i){for(g=0;g<Y;g+=1)(kt=X[g].a)==null||kt.measure();for(g=0;g<Y;g+=1)(Q=X[g].a)==null||Q.fix()}Oo(e,X,it,f)}}i&&vn(()=>{var Ut;if(m!==void 0)for(h of m)(Ut=h.a)==null||Ut.apply()}),j.first=e.first&&e.first.e,j.last=_&&_.e}function jo(t,e,n,r){r&Kn&&fe(t.v,e),r&Wn?fe(t.i,n):t.i=n}function Ro(t,e,n,r,a,o,s,i,l){var u=kn;try{var f=(l&Kn)!==0,v=(l&ro)===0,d=f?v?_e(a):at(a):a,p=l&Wn?at(s):s,_={i:p,v:d,k:o,a:null,e:null,prev:n,next:r};return kn=_,_.e=Tt(()=>i(t,d,p),Zr),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?e.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{kn=u}}function hr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,o=t.e.nodes_start;o!==r;){var s=dn(o);a.before(o),o=s}}function Rt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function sn(t,e,n,r,a){var i;var o=(i=e.$$slots)==null?void 0:i[n],s=!1;o===!0&&(o=e[n==="default"?"children":n],s=!0),o===void 0||o(t,s?()=>r:r)}function gr(t,e,n){var r=t,a,o;Be(()=>{a!==(a=e())&&(o&&(zt(o),o=null),a&&(o=Tt(()=>n(r,a))))},fn)}function cn(t,e,n){be(()=>{var r=wt(()=>e(t,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}let mr=!1;function Mo(){mr||(mr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function U(t,e,n,r){var a=t.__attributes??(t.__attributes={});a[e]!==(a[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Ua]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Bo(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var yr=new Map;function Bo(t){var e=yr.get(t.nodeName);if(e)return e;yr.set(t.nodeName,e=[]);for(var n,r=tn(t),a=Element.prototype;a!==r;){n=Ur(r);for(var o in n)n[o].set&&e.push(o);r=tn(r)}return e}function Sa(t,e){var n=t.__className,r=Fo(e);(n!==r||Zr)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function Fo(t){return t??""}function Zt(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function rr(t,e,n,r=n){t.addEventListener(e,n);const a=t.__on_r;a?t.__on_r=()=>{a(),r()}:t.__on_r=r,Mo()}function dt(t,e,n=e){var r=Fe();rr(t,"input",()=>{var a=wr(t)?br(t.value):t.value;n(a),r&&a!==(a=e())&&(t.value=a??"")}),$e(()=>{var a=e();wr(t)&&a===br(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Ho(t,e,n=e){rr(t,"change",()=>{var r=t.checked;n(r)}),e()==null&&n(!1),$e(()=>{var r=e();t.checked=!!r})}function wr(t){var e=t.type;return e==="number"||e==="range"}function br(t){return t===""?null:+t}function Oe(t,e,n){var r=Pt(t,e);r&&r.set&&(t[e]=n,Zn(()=>{t[e]=null}))}function Ea(t,e,n){if(t.multiple)return qo(t,e);for(var r of t.options){var a=Pe(r);if(fo(a,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Go(t,e){be(()=>{var n=new MutationObserver(()=>{var r=t.__value;Ea(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function ar(t,e,n=e){var r=!0;rr(t,"change",()=>{var a;if(t.multiple)a=[].map.call(t.querySelectorAll(":checked"),Pe);else{var o=t.querySelector(":checked");a=o&&Pe(o)}n(a)}),be(()=>{var a=e();if(Ea(t,a,r),r&&a===void 0){var o=t.querySelector(":checked");o!==null&&(a=Pe(o),n(a))}t.__value=a,r=!1}),Go(t)}function qo(t,e){for(var n of t.options)n.selected=~e.indexOf(Pe(n))}function Pe(t){return"__value"in t?t.__value:t.value}function $r(t,e){return t===e||(t==null?void 0:t[Bt])===e}function bt(t={},e,n,r){return be(()=>{var a,o;return $e(()=>{a=o,o=[],wt(()=>{t!==n(...o)&&(e(t,...o),a&&$r(n(...a),t)&&e(null,...a))})}),()=>{vn(()=>{o&&$r(n(...o),t)&&e(null,...o)})}}),t}function Uo(t){return function(...e){var n=e[0];return n.stopPropagation(),t==null?void 0:t.apply(this,e)}}function Gt(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}function q(t=!1){const e=M,n=e.l.u;if(!n)return;let r=()=>he(e.s);if(t){let a=0,o={};const s=Te(()=>{let i=!1;const l=e.s;for(const u in l)l[u]!==o[u]&&(o[u]=l[u],i=!0);return i&&a++,a});r=()=>c(s)}n.b.length&&ho(()=>{Sr(e,r),en(n.b)}),Ln(()=>{const a=wt(()=>n.m.map(Ha));return()=>{for(const o of a)typeof o=="function"&&o()}}),n.a.length&&Ln(()=>{Sr(e,r),en(n.a)})}function Sr(t,e){if(t.l.s)for(const n of t.l.s)c(n);e()}function Rn(t,e){var o;var n=(o=t.$$events)==null?void 0:o[e.type],r=Ne(n)?n.slice():n==null?[]:[n];for(var a of r)a.call(this,e)}function or(t,e,n){if(t==null)return e(void 0),n&&n(void 0),Mt;const r=wt(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}let Je=!1;function F(t,e,n){const r=n[e]??(n[e]={store:null,source:_e(void 0),unsubscribe:Mt});if(r.store!==t)if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=Mt;else{var a=!0;r.unsubscribe=or(t,o=>{a?r.source.v=o:E(r.source,o)}),a=!1}return c(r.source)}function Vo(t,e){return t.set(e),e}function K(){const t={};return Zn(()=>{for(var e in t)t[e].unsubscribe()}),t}function Yo(t){var e=Je;try{return Je=!1,[t(),Je]}finally{Je=e}}const zo={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(ke(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let a=t.props[r];ke(a)&&(a=a());const o=Pt(a,e);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(ke(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const a=Pt(r,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(t,e){for(let n of t.props)if(ke(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props){ke(n)&&(n=n());for(const r in n)e.includes(r)||e.push(r)}return e}};function Er(...t){return new Proxy({props:t},zo)}function xr(t){for(var e=j,n=j;e!==null&&!(e.f&($t|Re));)e=e.parent;try{return mt(e),t()}finally{mt(n)}}function O(t,e,n,r){var T;var a=(n&ao)!==0,o=(n&oo)!==0,s=(n&io)!==0,i=(n&co)!==0,l=!1,u;s?[u,l]=Yo(()=>t[e]):u=t[e];var f=(T=Pt(t,e))==null?void 0:T.set,v=r,d=!0,p=!1,_=()=>(p=!0,d&&(d=!1,i?v=wt(r):v=r),v);u===void 0&&r!==void 0&&(f&&o&&Xa(),u=_(),f&&f(u));var m;if(o)m=()=>{var A=t[e];return A===void 0?_():(d=!0,p=!1,A)};else{var S=xr(()=>(a?Te:ye)(()=>t[e]));S.f|=Yr,m=()=>{var A=c(S);return A!==void 0&&(v=void 0),A===void 0?v:A}}if(!(n&so))return m;if(f){var b=t.$$legacy;return function(A,N){return arguments.length>0?((!o||!N||b||l)&&f(N?m():A),A):m()}}var $=!1,w=!1,h=_e(u),g=xr(()=>Te(()=>{var A=m(),N=c(h);return $?($=!1,w=!0,N):(w=!1,h.v=A)}));return a||(g.equals=zn),function(A,N){if(ue&&($=w,m(),c(h)),arguments.length>0){const nt=N?c(g):o&&s?ie(A):A;return g.equals(nt)||($=!0,E(h,nt),p&&v!==void 0&&(v=nt),wt(()=>c(g))),A}return c(g)}}function Ee(t){M===null&&_n(),M.l!==null?xa(M).m.push(t):Ln(()=>{const e=wt(t);if(typeof e=="function")return e})}function Ko(t){M===null&&_n(),Ee(()=>()=>wt(t))}function Wo(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function ee(){const t=M;return t===null&&_n(),(e,n,r)=>{var o;const a=(o=t.s.$$events)==null?void 0:o[e];if(a){const s=Ne(a)?a.slice():[a],i=Wo(e,n,r);for(const l of s)l.call(t.x,i);return!i.defaultPrevented}return!0}}function Xo(t){M===null&&_n(),M.l===null&&Wa(),xa(M).a.push(t)}function xa(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Jo="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jo);const se=[];function Ia(t,e){return{subscribe:Ot(t,e).subscribe}}function Ot(t,e=Mt){let n=null;const r=new Set;function a(i){if(Wr(t,i)&&(t=i,n)){const l=!se.length;for(const u of r)u[1](),se.push(u,t);if(l){for(let u=0;u<se.length;u+=2)se[u][0](se[u+1]);se.length=0}}}function o(i){a(i(t))}function s(i,l=Mt){const u=[i,l];return r.add(u),r.size===1&&(n=e(a,o)||Mt),i(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:a,update:o,subscribe:s}}function Ca(t,e,n){const r=!Array.isArray(t),a=r?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return Ia(n,(s,i)=>{let l=!1;const u=[];let f=0,v=Mt;const d=()=>{if(f)return;v();const _=e(r?u[0]:u,s,i);o?s(_):v=typeof _=="function"?_:Mt},p=a.map((_,m)=>or(_,S=>{u[m]=S,f&=~(1<<m),l&&d()},()=>{f|=1<<m}));return l=!0,d(),function(){en(p),v(),l=!1}})}function Ir(t){let e;return or(t,n=>e=n)(),e}function Zo(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,a,o,s=[],i="",l=t.split("/");for(l[0]||l.shift();a=l.shift();)n=a[0],n==="*"?(s.push("wild"),i+="/(.*)"):n===":"?(r=a.indexOf("?",1),o=a.indexOf(".",1),s.push(a.substring(1,~r?r:~o?o:a.length)),i+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(i+=(~r?"?":"")+"\\"+a.substring(o))):i+="/"+a;return{keys:s,pattern:new RegExp("^"+i+"/?$","i")}}function Cr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const sr=Ia(null,function(e){e(Cr());const n=()=>{e(Cr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Ca(sr,t=>t.location);Ca(sr,t=>t.querystring);const kr=Ot(void 0);async function J(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await ya(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function Mn(t,e){if(e=Pr(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Ar(t,e),{update(n){n=Pr(n),Ar(t,n)}}}function Qo(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ar(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||ts(r.currentTarget.getAttribute("href"))})}function Pr(t){return t&&typeof t=="string"?{href:t}:t||{}}function ts(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function es(t,e){H(e,!1);let n=O(e,"routes",24,()=>({})),r=O(e,"prefix",8,""),a=O(e,"restoreScrollState",8,!1);class o{constructor(h,g){if(!g||typeof g!="function"&&(typeof g!="object"||g._sveltesparouter!==!0))throw Error("Invalid component object");if(!h||typeof h=="string"&&(h.length<1||h.charAt(0)!="/"&&h.charAt(0)!="*")||typeof h=="object"&&!(h instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:A}=Zo(h);this.path=h,typeof g=="object"&&g._sveltesparouter===!0?(this.component=g.component,this.conditions=g.conditions||[],this.userData=g.userData,this.props=g.props||{}):(this.component=()=>Promise.resolve(g),this.conditions=[],this.props={}),this._pattern=T,this._keys=A}match(h){if(r()){if(typeof r()=="string")if(h.startsWith(r()))h=h.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const N=h.match(r());if(N&&N[0])h=h.substr(N[0].length)||"/";else return null}}const g=this._pattern.exec(h);if(g===null)return null;if(this._keys===!1)return g;const T={};let A=0;for(;A<this._keys.length;){try{T[this._keys[A]]=decodeURIComponent(g[A+1]||"")||null}catch{T[this._keys[A]]=null}A+=1}return T}async checkConditions(h){for(let g=0;g<this.conditions.length;(g+=1)-1)if(!await this.conditions[g](h))return!1;return!0}}const s=[];n()instanceof Map?n().forEach((w,h)=>{s.push(new o(h,w))}):Object.keys(n()).forEach(w=>{s.push(new o(w,n()[w]))});let i=C(null),l=C(null),u=C({});const f=ee();async function v(w,h){await ya(),f(w,h)}let d=null,p=null;a()&&(p=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?d=w.state:d=null},window.addEventListener("popstate",p),Xo(()=>{Qo(d)}));let _=null,m=null;const S=sr.subscribe(async w=>{_=w;let h=0;for(;h<s.length;){const g=s[h].match(w.location);if(!g){h+=1;continue}const T={route:s[h].path,location:w.location,querystring:w.querystring,userData:s[h].userData,params:g&&typeof g=="object"&&Object.keys(g).length?g:null};if(!await s[h].checkConditions(T)){E(i,null),m=null,v("conditionsFailed",T);return}v("routeLoading",Object.assign({},T));const A=s[h].component;if(m!=A){A.loading?(E(i,A.loading),m=A,E(l,A.loadingParams),E(u,{}),v("routeLoaded",Object.assign({},T,{component:c(i),name:c(i).name,params:c(l)}))):(E(i,null),m=null);const N=await A();if(w!=_)return;E(i,N&&N.default||N),m=A}g&&typeof g=="object"&&Object.keys(g).length?E(l,g):E(l,null),E(u,s[h].props),v("routeLoaded",Object.assign({},T,{component:c(i),name:c(i).name,params:c(l)})).then(()=>{kr.set(c(l))});return}E(i,null),m=null,kr.set(void 0)});Ko(()=>{S(),p&&window.removeEventListener("popstate",p)}),ft(()=>he(a()),()=>{history.scrollRestoration=a()?"manual":"auto"}),Lt(),q();var b=vt(),$=z(b);et($,()=>c(l),w=>{var h=vt(),g=z(h);gr(g,()=>c(i),(T,A)=>{A(T,Er({get params(){return c(l)}},()=>c(u),{$$events:{routeEvent(N){Rn.call(this,e,N)}}}))}),x(w,h)},w=>{var h=vt(),g=z(h);gr(g,()=>c(i),(T,A)=>{A(T,Er(()=>c(u),{$$events:{routeEvent(N){Rn.call(this,e,N)}}}))}),x(w,h)}),x(t,b),G()}const Bn=(t,e)=>e.some(n=>t instanceof n);let Tr,Dr;function ns(){return Tr||(Tr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rs(){return Dr||(Dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fn=new WeakMap,An=new WeakMap,gn=new WeakMap;function as(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Wt(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",s)});return gn.set(e,t),e}function os(t){if(Fn.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fn.set(t,e)}let Hn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fn.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ka(t){Hn=t(Hn)}function ss(t){return rs().includes(t)?function(...e){return t.apply(Gn(this),e),Wt(this.request)}:function(...e){return Wt(t.apply(Gn(this),e))}}function is(t){return typeof t=="function"?ss(t):(t instanceof IDBTransaction&&os(t),Bn(t,ns())?new Proxy(t,Hn):t)}function Wt(t){if(t instanceof IDBRequest)return as(t);if(An.has(t))return An.get(t);const e=is(t);return e!==t&&(An.set(t,e),gn.set(e,t)),e}const Gn=t=>gn.get(t);function cs(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const s=indexedDB.open(t,e),i=Wt(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Wt(s.result),l.oldVersion,l.newVersion,Wt(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),i.then(l=>{o&&l.addEventListener("close",()=>o()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),i}const ls=["get","getKey","getAll","getAllKeys","count"],us=["put","add","delete","clear"],Pn=new Map;function Lr(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pn.get(e))return Pn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=us.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||ls.includes(n)))return;const o=async function(s,...i){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(i.shift())),(await Promise.all([u[n](...i),a&&l.done]))[0]};return Pn.set(e,o),o}ka(t=>({...t,get:(e,n,r)=>Lr(e,n)||t.get(e,n,r),has:(e,n)=>!!Lr(e,n)||t.has(e,n)}));const fs=["continue","continuePrimaryKey","advance"],Or={},qn=new WeakMap,Aa=new WeakMap,ds={get(t,e){if(!fs.includes(e))return t[e];let n=Or[e];return n||(n=Or[e]=function(...r){qn.set(this,Aa.get(this)[e](...r))}),n}};async function*vs(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,ds);for(Aa.set(n,e),gn.set(n,Gn(e));e;)yield n,e=await(qn.get(n)||e.continue()),qn.delete(n)}function Nr(t,e){return e===Symbol.asyncIterator&&Bn(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Bn(t,[IDBIndex,IDBObjectStore])}ka(t=>({...t,get(e,n,r){return Nr(e,n)?vs:t.get(e,n,r)},has(e,n){return Nr(e,n)||t.has(e,n)}}));const _s="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Xt=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=_s[n[t]&63];return e};var ot=(t=>(t.Expense="EXPENSE",t.Income="INCOME",t.Transfer="TRANSFER",t))(ot||{});const st=Ot([]),qt=Ot([]),Nt=Ot([]),ne=Ot([]),Pa=Ot([]),ge=Ot(""),mn=Ot({}),ps=[{value:ot.Expense,title:"Expense"},{value:ot.Transfer,title:"Transfer"},{value:ot.Income,title:"Income"}],ln="baseCurrencyCode";let L;const hs=cs("acc",3,{upgrade(t,e,n,r){if(t.objectStoreNames.contains("accountGroups")||t.createObjectStore("accountGroups",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("accounts")||t.createObjectStore("accounts",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("currencies")||t.createObjectStore("currencies",{keyPath:"code"}),t.objectStoreNames.contains("categories")||t.createObjectStore("categories",{keyPath:"id"}).createIndex("title",["title","subtitle"]),t.objectStoreNames.contains("entries")||t.createObjectStore("entries",{keyPath:"id"}).createIndex("accountId","accountId"),!t.objectStoreNames.contains("transactions"))t.createObjectStore("transactions",{keyPath:"id"}).createIndex("timestamp","timestamp");else{const a=r.objectStore("transactions");console.log("store already exists, creating index"),a.createIndex("timestamp","timestamp")}t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"name"}),t.objectStoreNames.contains("rates")||t.createObjectStore("rates",{keyPath:"code"})}}).then(t=>{L=t});function re(){return L.getAllFromIndex("accounts","title")}function gs(t){return L.get("accounts",t)}async function ms(t){await L.put("accounts",t),st.set(await re())}async function ys(t){const e=await L.get("transactions",t);e&&(await Promise.all([L.delete("transactions",t),L.delete("entries",e.entryId),e.secondEntryId?L.delete("entries",e.secondEntryId):null]),await Promise.all([Jt(e.accountId),e.secondAccountId?Jt(e.secondAccountId):null]),st.set(await re()))}async function ws(t,e){const[n,r]=await Promise.all([L.get("entries",t.entryId),t.secondEntryId?L.get("entries",t.secondEntryId):null]);if(!n)return;const[a,o,s]=Oa(e,t.id,n.id,r?r.id:Xt(5));await Promise.all([L.put("transactions",a),L.put("entries",o),s?r?L.put("entries",s):L.add("entries",s):r?L.delete("entries",r.id):null]);const[i,l]=await Promise.all([Jt(a.accountId),a.secondAccountId?Jt(a.secondAccountId):null,t.secondAccountId&&t.secondAccountId!==e.secondAccountId?Jt(t.secondAccountId):null]);(i||l)&&st.set(await re())}function yn(){return L.getAllFromIndex("accountGroups","title")}function wn(){return L.getAllFromIndex("categories","title")}function bn(){return L.getAll("currencies")}function bs(){return L.getAll("settings")}async function $s(){return(await L.getAll("rates")).reduce((e,n)=>(e[n.code]=n.rate,e),{})}async function Ta(t,e=!0){return(await L.getAllFromIndex("entries","accountId",t)).sort((r,a)=>r.timestamp<a.timestamp?e?1:-1:r.timestamp>a.timestamp?e?-1:1:0)}async function Ss(t,e){return await L.getAllFromIndex("transactions","timestamp",IDBKeyRange.bound(t,e,!1,!0))}function Es(t){return L.get("transactions",t)}async function xs(t,e){await L.put("accountGroups",{id:Xt(5),currencyCode:e,title:t}),qt.set(await yn())}async function Is(t){await L.put("accountGroups",t),qt.set(await yn())}async function Cs(t,e,n){await L.put("accounts",{id:Xt(5),title:t,groupId:e,currencyCode:n,balance:0}),st.set(await re())}async function Da(t,e){const n={id:Xt(5),title:t,subtitle:e};return await L.put("categories",n),Nt.set(await wn()),n}async function La(t){await L.put("settings",t)}async function ks(t,e){const n={};await L.delete("rates",e),await Promise.all(t.map(r=>(n[r.code]=r.rate,L.put("rates",r)))),mn.set(n)}async function As(t){await L.put("categories",t),Nt.set(await wn())}async function Ps(t,e){await L.put("currencies",{code:t,title:e}),ne.set(await bn())}async function Ts(t){await L.put("currencies",t),ne.set(await bn())}function Oa({kind:t,accountId:e,timestamp:n,categoryId:r,secondAccountId:a,secondAmount:o,amount:s,comment:i,reconciled:l},u,f,v){const d={id:f,timestamp:n,accountId:e,...r?{categoryId:r}:{},transactionId:u,comment:i,amount:t===ot.Income?s:-s,total:0,...l?{reconciled:l}:{}};if(t===ot.Transfer&&v&&a){const p={id:v,timestamp:n,accountId:a,transactionId:u,comment:i,amount:o||s,total:0,...l?{reconciled:l}:{}};return[{id:u,kind:t,timestamp:n,accountId:e,secondAccountId:a,amount:s,...o?{secondAmount:o}:{},comment:i,entryId:d.id,secondEntryId:p.id,...l?{reconciled:l}:{}},d,p]}else return[{id:u,kind:t,timestamp:n,accountId:e,...r?{categoryId:r}:{},amount:s,comment:i,entryId:d.id,...l?{reconciled:l}:{}},d]}async function Jt(t){const e=await Ta(t,!1);let n=0;for(const a of e)n+=a.amount,a.total!==n&&await L.put("entries",{...a,total:n});const r=await gs(t);if(r)return r.balance!==n?(await L.put("accounts",{...r,balance:n}),!0):!1}async function Ds(t){const e=L.transaction(["entries","transactions"],"readwrite"),n=e.objectStore("entries"),r=e.objectStore("transactions"),[a,o,s]=Oa(t,Xt(5),Xt(5),Xt(5));await Promise.all([r.add(a),n.add(o),...s?[n.add(s)]:[],e.done]);const[i,l]=await Promise.all([Jt(a.accountId),a.secondAccountId?Jt(a.secondAccountId):!1]);(i||l)&&st.set(await re())}async function Na(){const[t,e,n,r,a,o]=await Promise.all([re(),yn(),wn(),bn(),bs(),$s()]);ne.set(r),qt.set(e),st.set(t),Nt.set(n),Pa.set(a);const s=Ls(a);ge.set(s),delete o[s],mn.set(o)}function Ls(t){for(const e of t)if(e.name===ln)return e.value;return""}async function Os(){await hs,await Na()}const Ns=Os();function js(t){function e(r){r.target instanceof Node&&t.hasAttribute("data-opened")&&(t.contains(r.target)||t.removeAttribute("data-opened"))}function n(r){r.code==="Escape"&&t.hasAttribute("data-opened")&&t.removeAttribute("data-opened")}return document.addEventListener("click",e),document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n),document.removeEventListener("click",e)}}}var Rs=P('<div><div class="_2SXNm"><!></div> <div class="_27WQU" data-role="popover"><!></div></div>');function ja(t,e){H(e,!1);let n=C(),r=O(e,"class",8,void 0),a=O(e,"clickToggle",8,!0);function o(){c(n).toggleAttribute("data-opened",!1)}function s(){c(n).toggleAttribute("data-opened",!0)}var i=Rs(),l=y(i),u=Te(()=>a()?()=>{c(n).toggleAttribute("data-opened")}:null);l.__click=function(...p){var _;(_=c(u))==null||_.apply(this,p)};var f=y(l);sn(f,e,"default",{});var v=I(l,2),d=y(v);return sn(d,e,"content",{}),bt(i,p=>E(n,p),()=>c(n)),cn(i,p=>js(p)),k(()=>Sa(i,`_2LTIc ${r()??""}`)),x(t,i),Oe(e,"close",o),Oe(e,"show",s),G({close:o,show:s})}Ao(["click"]);var Ms=P('<a class="_2blFf"> </a>'),Bs=P('<span class="_2YoB_"> </span>'),Fs=P('<li class="_161ne"><!></li>'),Hs=P('<ul class="_4OB04"></ul>');function Gs(t,e){H(e,!1);let n=O(e,"items",24,()=>[]);const r=ee();q();var a=Hs();Z(a,5,n,o=>o.id,(o,s)=>{var i=Fs(),l=y(i);et(l,()=>c(s).to,u=>{var f=Ms();U(f,"draggable",!1);var v=y(f);cn(f,d=>Mn(d)),k(()=>{U(f,"href",c(s).to),D(v,c(s).title)}),x(u,f)},u=>{var f=Bs(),v=y(f);k(()=>D(v,c(s).title)),x(u,f)}),k(()=>U(i,"data-id",c(s).id)),V("click",i,u=>{r("menu",{id:u.currentTarget.dataset.id})}),x(o,i)}),x(t,a),G()}var qs=hn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>');function Us(t,e){let n=O(e,"size",8,24);var r=qs();k(()=>{U(r,"width",n()),U(r,"height",n())}),x(t,r)}var Vs=hn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>');function Ys(t,e){let n=O(e,"size",8,24);var r=Vs();k(()=>{U(r,"width",n()),U(r,"height",n())}),x(t,r)}var zs=hn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>');function Ks(t,e){let n=O(e,"size",8,24);var r=zs();k(()=>{U(r,"width",n()),U(r,"height",n())}),x(t,r)}var Ws=P('<a class="_3SB3X"><!></a>'),Xs=P('<a class="_3SB3X"><!></a>'),Js=P('<header class="_2Jb6S"><div class="_1J780"><!></div> <h1 class="_17FA5"> </h1> <div class="_3ifcR"><!> <!></div></header>');function _t(t,e){H(e,!1);let n=O(e,"title",8),r=O(e,"returnPath",8,void 0),a=O(e,"addPath",8,void 0),o=O(e,"menuItems",8,null),s=C(null);const i=ee();q();var l=Js(),u=y(l),f=y(u);et(f,r,S=>{var b=Ws();U(b,"draggable",!1);var $=y(b);Us($,{}),cn(b,w=>Mn(w)),k(()=>U(b,"href",r())),x(S,b)});var v=I(u,2),d=y(v),p=I(v,2),_=y(p);et(_,a,S=>{var b=Xs();U(b,"draggable",!1);var $=y(b);Ys($,{}),cn(b,w=>Mn(w)),k(()=>U(b,"href",a())),x(S,b)});var m=I(_,2);et(m,o,S=>{bt(ja(S,{class:"_1qXOD",children:(b,$)=>{Ks(b,{})},$$slots:{default:!0,content:(b,$)=>{Gs(b,{slot:"content",get items(){return o()},$$events:{menu:w=>{c(s).close(),i("menu",{id:w.detail.id})}}})}},$$legacy:!0}),b=>E(s,b),()=>c(s))}),k(()=>D(d,n())),x(t,l),G()}var Zs=P('<main class="_2HUC4"><!> <!></main>');function pt(t,e){var n=Zs(),r=y(n);sn(r,e,"header",{});var a=I(r,2);sn(a,e,"default",{}),x(t,n)}const Qs=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function ti(t){const e=t.getTimezoneOffset()*6e4,n=new Date(t.getTime()-e),r=n.getFullYear(),a=String(n.getUTCMonth()+1).padStart(2,"0"),o=String(n.getUTCDate()).padStart(2,"0"),s=String(n.getUTCHours()).padStart(2,"0"),i=String(n.getUTCMinutes()).padStart(2,"0");return`${r}-${a}-${o}T${s}:${i}`}function ir(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getFullYear(),o=String(r.getUTCMonth()+1).padStart(2,"0"),s=String(r.getUTCDate()).padStart(2,"0"),i=String(r.getUTCHours()).padStart(2,"0"),l=String(r.getUTCMinutes()).padStart(2,"0");return`${a}-${o}-${s} ${i}:${l}`}function ei(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getUTCFullYear(),o=String(r.getUTCMonth()+1).padStart(2,"0"),s=String(r.getUTCDate()).padStart(2,"0"),i=Qs[r.getUTCDay()];return`${a}-${o}-${s} ${i}`}function ni(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=String(r.getUTCHours()).padStart(2,"0"),o=String(r.getUTCMinutes()).padStart(2,"0");return`${a}:${o}`}function Tn(t){return/^[1-9]\d*([.,](\d{1,2})?)?$/.test(t)}function Dn(t){if(/[.,]/.test(t)){let[e,n]=t.split(/[.,]/);return n.trim()===""?parseInt(e)*100:(n.length===1&&(n=n+"0"),parseInt(e+n))}else return parseInt(t)*100}function gt(t,e,n){t=Math.round(t);const r=t<0?Math.ceil(t/100):Math.floor(t/100),a=Math.abs(t%100);return(n&&t>0?"+":"")+`${e?ri(r):r}.${String(a).padStart(2,"0")}`}function un(t,e){const n=Ir(mn),r=Ir(ge),a=n[t]?n[t]:1;return e===r?a:n[e]?a/n[e]:1}function ri(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function ai(t,e){return t.reduce((n,r)=>(r.currencyCode===e?n+=r.balance:n+=r.balance*un(r.currencyCode,e),n),0)}function oi(t,e){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,a.click(),URL.revokeObjectURL(r)}function si(t){const e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!1,e.onchange=()=>{const n=e.files[0];if(n){const r=new FileReader;r.onload=function(){t(r.result)},r.readAsText(n)}},e.click()}function ii(t){try{return JSON.parse(t)}catch{return console.warn("JSON parsing failed."),null}}async function ci(){const[t,e,n,r,a,o,s,i]=await Promise.all([bn(),yn(),re(),wn(),L.getAll("transactions"),L.getAll("entries"),L.getAll("settings"),L.getAll("rates")]);return{ver:ir(Date.now()),currencies:t,accountGroups:e,accounts:n,categories:r,transactions:a,entries:o,settings:s,rates:i}}async function li(t){if(!confirm("All the data will be overwritten. Are you sure you want to continue?"))return!1;if(ui(t)){const e=L.transaction(["currencies","accountGroups","accounts","categories","transactions","entries","settings","rates"],"readwrite");await Promise.all([e.objectStore("currencies").clear(),e.objectStore("accountGroups").clear(),e.objectStore("accounts").clear(),e.objectStore("categories").clear(),e.objectStore("transactions").clear(),e.objectStore("entries").clear(),e.objectStore("settings").clear(),e.objectStore("rates").clear()]);for(const n of t.currencies)await e.objectStore("currencies").put(n);for(const n of t.accountGroups)await e.objectStore("accountGroups").put(n);for(const n of t.accounts)await e.objectStore("accounts").put(n);for(const n of t.categories)await e.objectStore("categories").put(n);for(const n of t.transactions)await e.objectStore("transactions").put(n);for(const n of t.entries)await e.objectStore("entries").put(n);for(const n of t.settings)await e.objectStore("settings").put(n);for(const n of t.rates)await e.objectStore("rates").put(n);return await e.done,!0}else return alert("Invalid snapshot format."),!1}function ui(t){return!(!t.ver||!t.currencies||!t.accountGroups||!t.categories||!t.categories||!t.transactions||!t.entries)}var fi=P('<div class="_2kBg8" data-role="account"><div class="_1gfEY"><span class="_3HVLl"> </span> <span> </span></div></div>');function di(t,e){H(e,!1);let n=O(e,"account",8),r=O(e,"editing",8,!1);const a=ee();q();var o=fi(),s=y(o),i=y(s),l=y(i),u=I(i,2),f=y(u);k(()=>D(f,`${gt(n().balance,!0)??""} ${n().currencyCode??""}`)),k(()=>D(l,n().title)),V("click",o,()=>{r()||a("account",{id:n().id})}),x(t,o),G()}var vi=P('<div><div class="FmXIb"><span class="_2RwqA"> </span> <span> </span></div> <!></div>');function _i(t,e){H(e,!1);const n=K(),r=()=>F(st,"$accounts",n),a=C(),o=C();let s=O(e,"accountGroup",8);ft(()=>(r(),he(s())),()=>{E(a,r().filter(_=>_.groupId===s().id))}),ft(()=>(c(a),he(s())),()=>{E(o,ai(c(a),s().currencyCode))}),Lt(),q();var i=vi(),l=y(i),u=y(l),f=y(u),v=I(u,2),d=y(v);k(()=>D(d,`${gt(c(o),!0)??""} ${s().currencyCode??""}`));var p=I(l,2);Z(p,1,()=>c(a),_=>_.id,(_,m)=>{di(_,{get account(){return c(m)},$$events:{account:S=>{J(`/accounts/${S.detail.id}`)}}})}),k(()=>D(f,s().title)),x(t,i),G()}const pi=[{id:"groups",title:"Account Groups",to:"/groups"},{id:"category",title:"Categories",to:"/categories"},{id:"report",title:"Report",to:"/report"},{id:"currency",title:"Currencies",to:"/currencies"},{id:"rates",title:"Rates",to:"/rates"},{id:"backup",title:"Backup"},{id:"restore",title:"Restore"}];var hi=P('<!> <div class="_3c4Tf"><div>Total</div> <div class="_2wBv"> </div></div>',1);function gi(t,e){H(e,!1);const n=K(),r=()=>F(st,"$accounts",n),a=()=>F(ge,"$baseCurrencyCode",n),o=()=>F(qt,"$accountGroups",n),s=C();ft(()=>(r(),a(),un),()=>{E(s,r().reduce((i,l)=>(l.currencyCode===a()?i+=l.balance:i+=l.balance*un(l.currencyCode,a()),i),0))}),Lt(),q(),pt(t,{children:(i,l)=>{var u=hi(),f=z(u);Z(f,1,o,Dt,(_,m)=>{_i(_,{get accountGroup(){return c(m)}})});var v=I(f,2),d=I(y(v),2),p=y(d);k(()=>D(p,`${gt(c(s),!0)??""}
      ${(a()||"")??""}`)),x(i,u)},$$slots:{default:!0,header:(i,l)=>{_t(i,{slot:"header",title:"Accounts",addPath:"/accounts/new",menuItems:pi,$$events:{menu:u=>{switch(u.detail.id){case"backup":ci().then(f=>{oi(f,`acc-${ir(Date.now())}.json`)});break;case"restore":si(f=>{const v=ii(f);v&&li(v).then(d=>{d&&Na()})});break}}}})}}}),G()}var mi=P('<div class="_3JK5K"> </div>');function yi(t,e){H(e,!1);const n=K(),r=()=>F(qt,"$accountGroups",n);function a(o){o.target instanceof HTMLElement&&o.target.dataset.id&&J(`/groups/${o.target.dataset.id}`)}q(),pt(t,{children:(o,s)=>{var i=vt(),l=z(i);Z(l,1,r,u=>u.id,(u,f)=>{var v=mi(),d=y(v);k(()=>{U(v,"data-id",c(f).id),D(d,c(f).title)}),V("click",v,a),x(u,v)}),x(o,i)},$$slots:{default:!0,header:(o,s)=>{_t(o,{slot:"header",title:"Account Groups",returnPath:"/",addPath:"/groups/new"})}}}),G()}var wi=P("} <option> </option>",1),bi=P('<select class="_1kHx0" required><option disabled selected hidden> </option><!></select>');function $n(t,e){const n=K(),r=()=>F(ne,"$currencies",n);let a=O(e,"currencyCode",12),o=O(e,"placeholder",8,"Currency");var s=bi();k(()=>{a(),nr(()=>{o(),r()})});var i=y(s);i.value=((i.__value="")==null,"");var l=y(i),u=I(i);Z(u,1,r,({code:f,title:v})=>f,(f,v)=>{let d=()=>c(v).code,p=()=>c(v).title;var _=wi(),m=I(z(_)),S={},b=y(m);k(()=>{S!==(S=d())&&(m.value=(m.__value=d())==null?"":d()),D(b,`${d()??""}
      ${p()??""}`)}),x(f,_)}),k(()=>D(l,o())),ar(s,a),x(t,s)}var $i=P('<form class="_3RSQr"><div><!></div> <div><input class="_3xyX_" type="text" placeholder="Title"></div> <div><button class="_2G9AC" type="submit"></button></div></form>');function jr(t,e){H(e,!1);const n=K(),r=()=>F(qt,"$accountGroups",n);let a=O(e,"params",24,()=>({}));const{id:o}=a();let s=o?r().find(d=>d.id===o):null,i=C(s?s.title:""),l=C(s?s.currencyCode:void 0),u=C(),f=C(!1);Ee(()=>{c(u).focus()});function v(){c(i).trim()&&c(l)?(E(f,!0),s?Is({...s,title:c(i).trim(),currencyCode:c(l)}).then(()=>{J("/groups")}).finally(()=>{E(f,!1)}):xs(c(i),c(l)).then(()=>{J("/groups")}).finally(()=>{E(f,!1)})):alert("All fields must be specified.")}q(),pt(t,{children:(d,p)=>{var _=$i(),m=y(_),S=y(m);$n(S,{get currencyCode(){return c(l)},set currencyCode(g){E(l,g)},$$legacy:!0});var b=I(m,2),$=y(b);bt($,g=>E(u,g),()=>c(u));var w=I(b,2),h=y(w);h.textContent=s?"Save":"Create",k(()=>{$.disabled=c(f),h.disabled=c(f)}),dt($,()=>c(i),g=>E(i,g)),V("submit",_,Gt(v)),x(d,_)},$$slots:{default:!0,header:(d,p)=>{_t(d,{slot:"header",title:s?"Account Group":"New Account Group",returnPath:"/groups"})}}}),G()}var Si=P("<option> </option>"),Ei=P('<select class="_2Ge4O" required><option class="placeholder" disabled selected hidden>Account Group</option><!></select>');function xi(t,e){const n=K(),r=()=>F(qt,"$accountGroups",n);let a=O(e,"groupId",12);var o=Ei();k(()=>{a(),nr(()=>{r()})});var s=y(o);s.value=((s.__value="")==null,"");var i=I(s);Z(i,1,r,Dt,(l,u)=>{var f=Si(),v={},d=y(f);k(()=>{v!==(v=c(u).id)&&(f.value=(f.__value=c(u).id)==null?"":c(u).id),D(d,c(u).title)}),x(l,f)}),ar(o,a),x(t,o)}var Ii=P('<form><div><!></div> <div><!></div> <div><input class="_3hIGg" type="text" placeholder="Title"></div> <div><button class="J-mxG" type="submit"> </button></div></form>');function Rr(t,e){H(e,!1);let n=O(e,"accountDoc",8,null),r=O(e,"class",8,void 0),a=n()||{},o=C(a.groupId),s=C(a.currencyCode),i=C(Ze(a.title,"")),l=C(!1),u=C();const f=ee();function v(){c(i).trim()&&c(o)&&c(s)?(E(l,!0),f("save",{groupId:c(o),currencyCode:c(s),title:c(i)})):alert("Must fill all fields.")}Ee(()=>{c(u)&&c(u).focus()}),q();var d=Ii(),p=y(d),_=y(p);xi(_,{get groupId(){return c(o)},set groupId(T){E(o,T)},$$legacy:!0});var m=I(p,2),S=y(m);$n(S,{get currencyCode(){return c(s)},set currencyCode(T){E(s,T)},$$legacy:!0});var b=I(m,2),$=y(b);bt($,T=>E(u,T),()=>c(u));var w=I(b,2),h=y(w),g=y(h);k(()=>{Sa(d,`_2Na6L ${r()??""}`),$.disabled=c(l),h.disabled=c(l),D(g,n()?"Save":"Create")}),dt($,()=>c(i),T=>E(i,T)),V("submit",d,Gt(v)),x(t,d),G()}function Mr(t,e){H(e,!1);const n=K(),r=()=>F(st,"$accounts",n);let a=O(e,"params",24,()=>({}));const{id:o}=a();let s=o?r().find(l=>l.id===o):null;function i(l){const{title:u,groupId:f,currencyCode:v}=l.detail;o?ms({...s,title:u,groupId:f,currencyCode:v}).then(()=>{J("/")}):Cs(u,f,v).then(()=>{J("/")})}q(),pt(t,{children:(l,u)=>{var f=vt(),v=z(f);et(v,()=>o,d=>{Rr(d,{class:"_1tO9D",accountDoc:s,$$events:{save:i}})},d=>{Rr(d,{class:"_1tO9D",$$events:{save:i}})}),x(l,f)},$$slots:{default:!0,header:(l,u)=>{var f=ye(()=>o?s==null?void 0:s.title:"New Account");_t(l,{slot:"header",get title(){return c(f)},returnPath:"/"})}}}),G()}var Ci=P('<span class="_12oY6"> </span>'),ki=P('<div class="_3ieFT"><div class="_1RLk7"><div class="_3ibZX"><span class="BRMlm"> </span> <!></div> <div class="_2uKiq"> </div></div> <div class="_3_MwA"><div class="mm7AA"> </div> <div class="_1e2eL"> </div></div></div>');function Ai(t,e){H(e,!1);const n=K(),r=()=>F(Nt,"$categoires",n),a=C();let o=O(e,"entry",8);const s=ee();ft(()=>(he(o()),r()),()=>{E(a,o().categoryId?r().find(h=>h.id===o().categoryId):null)}),Lt(),q();var i=ki(),l=y(i),u=y(l),f=y(u),v=y(f),d=I(f,2);et(d,()=>c(a),h=>{var g=Ci(),T=y(g);k(()=>D(T,`${c(a).title??""}${(c(a).subtitle?`:${c(a).subtitle}`:"")??""}`)),x(h,g)});var p=I(u,2),_=y(p);k(()=>D(_,gt(o().amount,!0,!0)));var m=I(l,2),S=y(m),b=y(S);k(()=>D(b,ni(o().timestamp)));var $=I(S,2),w=y($);k(()=>D(w,gt(o().total,!0))),k(()=>{Zt(i,"GILTz",o().reconciled),D(v,o().comment),Zt(p,"_2TC9s",o().amount>0)}),V("click",i,()=>{s("transaction",{id:o().transactionId})}),x(t,i),G()}var Pi=P('<div class="_1kipO"><span class="ZZvPT"> </span> <span class="_3Hag4"> </span></div> <!>',1);function Ti(t,e){H(e,!1);const n=K(),r=()=>F(st,"$accounts",n),a=C();let o=O(e,"params",8);const{id:s}=o();let i=C({});Ta(s).then(u=>{E(i,u.reduce((f,v)=>{const d=ei(v.timestamp);return f[d]?f[d].entries.push(v):f[d]={entries:[v],total:0},f},{}));for(const f of Object.values(c(i)))f.total=f.entries.reduce((v,d)=>(v+=d.amount,v),0)});const l=[{id:"edit",title:"Edit",to:`/accounts/${s}/edit`}];ft(()=>r(),()=>{E(a,r().find(u=>u.id===s))}),Lt(),q(),pt(t,{children:(u,f)=>{var v=vt(),d=z(v);Z(d,1,()=>Object.keys(c(i)),Dt,(p,_)=>{var m=Pi(),S=z(m),b=y(S),$=y(b),w=I(b,2),h=y(w);k(()=>D(h,gt(c(i)[c(_)].total,!0,!0)));var g=I(S,2);Z(g,1,()=>c(i)[c(_)].entries,T=>T.id,(T,A)=>{Ai(T,{get entry(){return c(A)},$$events:{transaction:N=>{J(`/accounts/${s}/transactions/${N.detail.id}`)}}})}),k(()=>D($,c(_))),x(p,m)}),x(u,v)},$$slots:{default:!0,header:(u,f)=>{var v=ye(()=>c(a)?`${c(a).title}`:"Not Found");_t(u,{slot:"header",get title(){return c(v)},returnPath:"/",addPath:`/accounts/${s}/transactions/new`,menuItems:l})}}}),G()}var Di=P('<div class="_1Hdo"> </div>');function Li(t,e){H(e,!1);const n=K(),r=()=>F(Nt,"$categoires",n);function a(o){if(o.target.dataset.id){const s=o.target.dataset.id;J(`/categories/${s}`)}}q(),pt(t,{children:(o,s)=>{var i=vt(),l=z(i);Z(l,1,r,u=>u.id,(u,f)=>{var v=Di(),d=y(v);k(()=>{U(v,"data-id",c(f).id),D(d,`${c(f).title??""}${(c(f).subtitle?`:${c(f).subtitle}`:"")??""}`)}),V("click",v,a),x(u,v)}),x(o,i)},$$slots:{default:!0,header:(o,s)=>{_t(o,{slot:"header",title:"Categories",returnPath:"/",addPath:"/categories/new"})}}}),G()}var Oi=P('<form class="_1JFP_"><div>Base currency: <!></div> <div><button class="_19-gA" type="submit">Save</button></div></form>');function Ni(t,e){var s;H(e,!1);const n=K();let a=C((s=F(Pa,"$settings",n).find(i=>i.name===ln))==null?void 0:s.value);function o(){La({name:ln,value:c(a)}).then(()=>{J("/")})}q(),pt(t,{children:(i,l)=>{var u=Oi(),f=y(u),v=I(y(f));$n(v,{get currencyCode(){return c(a)},set currencyCode(d){E(a,d)},placeholder:"Base Currency",$$legacy:!0}),V("submit",u,Gt(o)),x(i,u)},$$slots:{default:!0,header:(i,l)=>{_t(i,{slot:"header",title:"Settings",returnPath:"/"})}}}),G()}var ji=P('<div class="_3HmHC" data-role="item"><div class="_4jwya"> </div> <div class="_1GjZM"> </div></div>');function Ri(t,e){H(e,!1);const n=K(),r=()=>F(ne,"$currencies",n);function a(o){if(o.target instanceof HTMLElement){const s=o.target.closest('[data-role="item"]');s instanceof HTMLElement&&s.dataset.code&&J(`/currencies/${s.dataset.code}`)}}q(),pt(t,{children:(o,s)=>{var i=vt(),l=z(i);Z(l,1,r,u=>u.code,(u,f)=>{var v=ji(),d=y(v),p=y(d),_=I(d,2),m=y(_);k(()=>{U(v,"data-code",c(f).code),D(p,c(f).code),D(m,c(f).title)}),V("click",v,a),x(u,v)}),x(o,i)},$$slots:{default:!0,header:(o,s)=>{_t(o,{slot:"header",title:"Currencies",returnPath:"/",addPath:"/currencies/new"})}}}),G()}var Mi=P('<div><div> </div> <div class="gqdmv"><input class="_234LA" type="text"> <span> </span></div></div>'),Bi=P('<form class="_1SqME"><div>Base currency: <!></div> <!> <div><button class="_3vC8G" type="submit">Save</button></div></form>');function Fi(t,e){H(e,!1);const n=K(),r=()=>F(ge,"$baseCurrencyCode",n),a=()=>F(ne,"$currencies",n),o=()=>F(mn,"$rates",n);let s=C(r()),i=C(a().reduce((d,{code:p})=>(d[p]=String(o()[p]||1),d),{}));function l(){const d=u();if(d){alert(d);return}const p=a().filter(({code:_})=>_!==c(s)).map(({code:_})=>({code:_,rate:v(c(i)[_])}));La({name:ln,value:c(s)}).then(()=>(Vo(ge,c(s)),ks(p,c(s)))).then(()=>{J("/")})}function u(){for(const[d,p]of Object.entries(c(i)))if(!f(p)){const _=document.getElementById(d);return _&&_.focus(),`Invalid rate for ${d}`}return""}function f(d){return/^([1-9]\d*|[0])([.,]\d+)?$/.test(d)}function v(d){return parseFloat(d.replace(",","."))}return q(),pt(t,{children:(d,p)=>{var _=Bi(),m=y(_),S=I(y(m));$n(S,{get currencyCode(){return c(s)},set currencyCode($){E(s,$)},placeholder:"Base Currency",$$legacy:!0});var b=I(m,2);Z(b,1,a,Dt,($,w)=>{let h=()=>c(w).code;var g=vt(),T=z(g);et(T,()=>h()!==c(s),A=>{var N=Mi(),nt=y(N),W=y(nt),X=I(nt,2),Y=y(X);const it=ye(()=>!f(c(i)[h()]));var ht=I(Y,2),ct=y(ht);k(()=>{D(W,`${h()??""}:`),U(Y,"id",h()),Zt(Y,"_2j9gN",c(it)),D(ct,c(s))}),dt(Y,()=>c(i)[h()],kt=>rn(i,c(i)[h()]=kt)),x(A,N)}),x($,g)}),V("submit",_,Gt(l)),x(d,_)},$$slots:{default:!0,header:(d,p)=>{_t(d,{slot:"header",title:"Rates",returnPath:"/"})}}}),Oe(e,"validateRate",f),Oe(e,"parseRate",v),G({validateRate:f,parseRate:v})}var Hi=P('<div class="_1rD4x"><span class="_31Wp_"> </span> <span> </span></div> <!>',1),Gi=P("<div></div>");function Un(t,e){H(e,!1);let n=O(e,"cat",8),r=O(e,"nested",8,!1),a=O(e,"ondocs",8,void 0);q();var o=Gi();Z(o,5,()=>n().sorted,Dt,(s,i)=>{var l=Hi(),u=z(l),f=y(u),v=y(f),d=I(f,2),p=y(d);k(()=>D(p,gt(c(i).total,!0)));var _=I(u,2);et(_,()=>c(i).sorted,m=>{var S=vt(),b=z(S);Un(b,{get cat(){return c(i)},nested:!0,get ondocs(){return a()}}),x(m,S)}),k(()=>{Zt(u,"_3eEr8",r()),D(v,c(i).title)}),V("click",u,()=>{var m;(m=a())==null||m(c(i).docs)}),x(s,l)}),x(t,o),G()}var qi=P('<div class="_3fR1c"><span class="_1w7Yp">Income</span> <span> </span></div> <!>',1),Ui=P('<div class="_3fR1c"><span class="_1w7Yp">Expenses</span> <span> </span></div> <!>',1),Vi=P('<span class="_2udZu"> </span>'),Yi=P('<div class="_2p4A6"><div class="_2ugfg"><span class="comment"> </span> <span class="Cuy75"> </span> &nbsp; <span> </span></div> <div class="_2tCf7"><!> <span class="_1u25y"> </span></div></div>'),zi=P('<div class="_2rfJl"><div class="_20g6"><div class="_3fR1c"><h2>Transactions</h2> <button class="_1vDoy">X</button></div> <!></div></div>'),Ki=P('<div class="af3Ku"><input class="_35Y9x" type="month"></div> <!> <!> <!>',1);function Wi(t,e){H(e,!1);const n=K(),r=()=>F(Nt,"$categoires",n),a=()=>F(st,"$accounts",n),o=()=>F(ge,"$baseCurrencyCode",n),s=new Date;let i=C(`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}`),l=C(null),u=C(null),f=C(null);const v=r().reduce(($,w)=>($[w.id]=w,$),{}),d=a().reduce(($,w)=>($[w.id]=w,$),{});function p($){const[w,h]=$.split("-"),g=new Date(parseInt(w),parseInt(h)-1,1).getTime(),T=new Date(parseInt(w),parseInt(h),1).getTime();Ss(g,T).then(A=>{const N=A.filter(W=>W.kind===ot.Income),nt=A.filter(W=>W.kind===ot.Expense);E(l,_(N)),E(u,_(nt)),m(c(l)),m(c(u))})}function _($){return $.reduce((w,h)=>{const g=v[h.categoryId];return g&&(w.cats[g.title]||(w.cats[g.title]={title:g.title,cats:{},docs:[],total:0}),w.cats[g.title].total+=b(h),w.cats[g.title].docs.push(h),g.subtitle&&(w.cats[g.title].cats[g.subtitle]||(w.cats[g.title].cats[g.subtitle]={title:g.subtitle,docs:[],total:0}),w.cats[g.title].cats[g.subtitle].total+=b(h),w.cats[g.title].cats[g.subtitle].docs.push(h))),w.total+=b(h),w},{cats:{},docs:[],total:0})}function m($){$.cats&&($.sorted=Object.values($.cats).sort((w,h)=>h.total-w.total),$.sorted.forEach(w=>{w.cats&&m(w)}))}function S($){E(f,$),document.documentElement.style.setProperty("overflow","hidden")}function b($){const w=d[$.accountId];return w&&w.currencyCode!==o()?$.amount*un(w.currencyCode,o()):$.amount}ft(()=>c(i),()=>{p(c(i))}),Lt(),q(),pt(t,{children:($,w)=>{var h=Ki(),g=z(h),T=y(g),A=I(g,2);et(A,()=>c(l),W=>{var X=qi(),Y=z(X),it=I(y(Y),2),ht=y(it);k(()=>D(ht,gt(c(l).total,!0)));var ct=I(Y,2);Un(ct,{get cat(){return c(l)},ondocs:S}),x(W,X)});var N=I(A,2);et(N,()=>c(u),W=>{var X=Ui(),Y=z(X),it=I(y(Y),2),ht=y(it);k(()=>D(ht,gt(c(u).total,!0)));var ct=I(Y,2);Un(ct,{get cat(){return c(u)},ondocs:S}),x(W,X)});var nt=I(N,2);et(nt,()=>c(f),W=>{var X=zi(),Y=y(X),it=y(Y),ht=I(y(it),2),ct=I(it,2);Z(ct,1,()=>c(f),Dt,(kt,Q)=>{var Ut=Yi(),xe=y(Ut),Ie=y(xe),Ce=y(Ie),Ge=I(Ie,2),qe=y(Ge);k(()=>D(qe,gt(c(Q).kind===ot.Expense?-c(Q).amount:c(Q).amount,!0,!0)));var Ue=I(Ge,2),Sn=y(Ue),Ve=I(xe,2),Ye=y(Ve);et(Ye,()=>v[c(Q).categoryId],ae=>{var Ke=Vi(),xn=y(Ke);k(()=>D(xn,`${v[c(Q).categoryId].title}${v[c(Q).categoryId].subtitle?`:${v[c(Q).categoryId].subtitle}`:""}`)),x(ae,Ke)});var En=I(Ye,2),ze=y(En);k(()=>D(ze,ir(c(Q).timestamp))),k(()=>{var ae;D(Ce,c(Q).comment),D(Sn,(ae=d[c(Q).accountId])==null?void 0:ae.currencyCode)}),x(kt,Ut)}),V("click",ht,kt=>{E(f,null),document.documentElement.style.removeProperty("overflow")}),x(W,X)}),dt(T,()=>c(i),W=>E(i,W)),x($,h)},$$slots:{default:!0,header:($,w)=>{_t($,{slot:"header",title:"Report",returnPath:"/"})}}}),G()}var Xi=P('<form class="_2sHk9"><div class="_1F3oU"><input type="text" placeholder="Title"></div> <div class="_1F3oU"><input type="text" placeholder="Subtitle (optional)"></div> <div class="_1F3oU"><button type="submit"></button></div></form>');function Br(t,e){H(e,!1);const n=K(),r=()=>F(Nt,"$categoires",n);let a=O(e,"params",24,()=>({}));const{id:o}=a();let s=o?r().find(v=>v.id===o):null,i=C(s?s.title:""),l=C(s?s.subtitle:""),u=C();Ee(()=>{c(u)&&c(u).focus()});function f(){c(i).trim()?s?As({...s,title:c(i).trim(),subtitle:c(l).trim()}).then(()=>{J("/categories")}):Da(c(i).trim(),c(l).trim()).then(()=>{J("/categories")}):alert("The title must be specified.")}q(),pt(t,{children:(v,d)=>{var p=Xi(),_=y(p),m=y(_);bt(m,h=>E(u,h),()=>c(u));var S=I(_,2),b=y(S),$=I(S,2),w=y($);w.textContent=s?"Save":"Create",dt(m,()=>c(i),h=>E(i,h)),dt(b,()=>c(l),h=>E(l,h)),V("submit",p,Gt(f)),x(v,p)},$$slots:{default:!0,header:(v,d)=>{_t(v,{slot:"header",title:s?"Category":"New Category",returnPath:"/categories"})}}}),G()}var Ji=P('<form><div class="EbSwc"><input type="text" placeholder="Code"></div> <div class="EbSwc"><input type="text" placeholder="Title"></div> <div class="EbSwc"><button type="submit"></button></div></form>');function Fr(t,e){H(e,!1);const n=K(),r=()=>F(ne,"$currencies",n);let a=O(e,"params",24,()=>({}));const{cid:o}=a();let s=o?r().find(d=>d.code===o):null,i=C(s?s.code:""),l=C(s?s.title:""),u=C(),f=C();function v(){c(i).trim()&&c(l).trim()?s?Ts({...s,title:c(l).trim()}).then(()=>{J("/currencies")}):Ps(c(i).trim(),c(l).trim()).then(()=>{J("/currencies")}):alert("Code and title must be specified.")}Ee(()=>{s?c(f)&&c(f).focus():c(u)&&c(u).focus()}),q(),pt(t,{children:(d,p)=>{var _=Ji(),m=y(_),S=y(m);S.disabled=s!==null,bt(S,g=>E(u,g),()=>c(u));var b=I(m,2),$=y(b);bt($,g=>E(f,g),()=>c(f));var w=I(b,2),h=y(w);h.textContent=s?"Save":"Add",dt(S,()=>c(i),g=>E(i,g)),dt($,()=>c(l),g=>E(l,g)),V("submit",_,Gt(v)),x(d,_)},$$slots:{default:!0,header:(d,p)=>{_t(d,{slot:"header",title:s?"Currency":"New Currency",returnPath:"/currencies"})}}}),G()}var Zi=P("<option> </option>"),Qi=P("<optgroup></optgroup>"),tc=P('<select class="_1vWtV" required><option disabled selected hidden> </option><!></select>');function ec(t,e){H(e,!1);const n=K(),r=()=>F(qt,"$accountGroups",n),a=()=>F(st,"$accounts",n),o=C();let s=O(e,"accountId",12),i=O(e,"placeholder",8,"Account");ft(()=>(r(),a()),()=>{E(o,r().reduce((d,p)=>{const _={title:p.title,accounts:a().filter(m=>m.groupId===p.id)};return d.push(_),d},[]))}),Lt(),q();var l=tc();k(()=>{s(),nr(()=>{i(),c(o)})});var u=y(l);u.value=((u.__value="")==null,"");var f=y(u),v=I(u);Z(v,1,()=>c(o),Dt,(d,p)=>{var _=Qi();Z(_,5,()=>c(p).accounts,Dt,(m,S)=>{var b=Zi(),$={},w=y(b);k(()=>{$!==($=c(S).id)&&(b.value=(b.__value=c(S).id)==null?"":c(S).id),D(w,c(S).title)}),x(m,b)}),k(()=>U(_,"label",c(p).title)),x(d,_)}),k(()=>D(f,i())),ar(l,s),x(t,l),G()}var nc=P("<span> </span>"),rc=P('<div class="_2dieg"></div>');function ac(t,e){let n=O(e,"kind",12);function r(o){o.target instanceof HTMLSpanElement&&(console.log("kind:",o.target.dataset.value),n(o.target.dataset.value))}var a=rc();Z(a,5,()=>ps,Dt,(o,s)=>{var i=nc(),l=y(i);k(()=>{U(i,"data-value",c(s).value),Zt(i,"_1zm3o",c(s).value===n()),D(l,c(s).title)}),V("pointerdown",i,r),x(o,i)}),x(t,a)}var oc=P('<input class="_1LWF4" type="text" placeholder="Category">'),sc=P("<li> </li>"),ic=P('<li class="_1FJls">Empty</li>'),cc=P('<ul class="_2VAoI" slot="content"></ul>');function lc(t,e){H(e,!1);const n=K(),r=()=>F(Nt,"$categoires",n);let a=O(e,"categoryId",12),o=C(),s=C();function i(p){return`${p.title}${p.subtitle?`:${p.subtitle}`:""}`}function l(){a(""),f("")}let u=a()?r().find(p=>p.id===a()):null,f=O(e,"value",28,()=>u?i(u):"");function v(p){if(p.target instanceof HTMLLIElement){a(p.target.dataset.id),c(o).close();const _=r().find(m=>m.id===a());_&&f(i(_))}}function d(){const p=r().find(_=>c(s).value.trim().toLocaleLowerCase()===i(_).toLocaleLowerCase());p?(a(p.id),rn(s,c(s).value=i(p))):a("")}return q(),bt(ja(t,{class:"_3pEZc",clickToggle:!0,children:(p,_)=>{var m=oc();bt(m,S=>E(s,S),()=>c(s)),dt(m,f),V("input",m,d),x(p,m)},$$slots:{default:!0,content:(p,_)=>{var m=cc();Z(m,5,()=>a()?r():r().filter(b=>`${b.title}:${b.subtitle}`.toLowerCase().includes(f().trim().toLowerCase())),b=>b.id,(b,$)=>{var w=sc(),h=y(w);k(()=>{U(w,"data-id",c($).id),Zt(w,"_2P4tM",c($).id===a()),D(h,`${c($).title??""}${(c($).subtitle?`:${c($).subtitle}`:"")??""}`)}),x(b,w)},b=>{var $=ic();x(b,$)}),V("click",m,v),x(p,m)}},$$legacy:!0}),p=>E(o,p),()=>c(o)),Oe(e,"clear",l),G({clear:l})}var uc=hn('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"></path><path d="M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path></svg>');function fc(t,e){let n=O(e,"size",8,24);var r=uc();k(()=>{U(r,"width",n()),U(r,"height",n())}),x(t,r)}var dc=P('<div class="_3QCzM"><div><span data-key="1">1</span> <span data-key="2">2</span> <span data-key="3">3</span></div> <div><span data-key="4">4</span> <span data-key="5">5</span> <span data-key="6">6</span></div> <div><span data-key="7">7</span> <span data-key="8">8</span> <span data-key="9">9</span></div> <div><span data-key="&lt;"><!></span> <span data-key="0">0</span> <span data-key=".">.</span></div></div>');function vc(t,e){H(e,!1);let n=O(e,"onkey",8);function r(l){l.target instanceof HTMLSpanElement&&l.target.dataset.key&&n()(l.target.dataset.key)}q();var a=dc(),o=I(y(a),6),s=y(o),i=y(s);fc(i,{size:24}),V("pointerdown",a,Gt(function(l){Rn.call(this,e,l)})),V("pointerup",a,r),x(t,a),G()}var _c=P('<div class="_36ncL"><!> <button type="button">Clear</button></div>'),pc=P('<div> <input class="_3qKgQ" type="text"></div>'),hc=P('<form class="_1rZU2"><div><!></div> <div><input class="_3qKgQ" type="datetime-local"></div> <div><!></div> <div> <input class="_3qKgQ" type="text"></div> <!> <div><input class="_3qKgQ" type="text" placeholder="Comment"></div> <div><label class="xwEhV"><input type="checkbox"> Reconciled</label></div> <!> <div><button class="_36-gn _-wwrS" type="submit"> </button></div></form>');function Hr(t,e){var cr;H(e,!1);const n=K(),r=()=>F(st,"$accounts",n),a=()=>F(Nt,"$categoires",n),o=C(),s=C(),i=C(),l=C();let u=O(e,"accountId",8),f=O(e,"transactionDoc",8,null),v=C(),d=C(),p=C();Ee(()=>{c(d)});let _=f()||{},m=C(Ze(_.kind,()=>ot.Expense,!0)),S=C(_.categoryId),b=C(_.secondAccountId),$=C(Ze(_.comment,"")),w=C(Ze(_.reconciled,!1)),h=C(ti(new Date(((cr=f())==null?void 0:cr.timestamp)||Date.now()))),g=C(f()?gt(f().amount):""),T=C(f()?gt(f().secondAmount):"");const A=ee();async function N(){const R=nt();if(R){alert(R);return}if(c(m)!==ot.Transfer&&!c(S)&&c(p).trim()!==""){const[jt,Vt=""]=c(p).trim().split(":");if(!a().find(We=>We.title===jt&&We.subtitle===Vt)){const We=await Da(jt,Vt);E(S,We.id)}}const At=c(m)===ot.Transfer?{kind:c(m),timestamp:new Date(c(h)).getTime(),accountId:u(),secondAccountId:c(b),...c(l)?{secondAmount:Dn(c(T))}:{},amount:Dn(c(g)),comment:c($).trim(),...c(w)?{reconciled:!0}:{}}:{kind:c(m),timestamp:new Date(c(h)).getTime(),accountId:u(),categoryId:c(S)||null,amount:Dn(c(g)),comment:c($).trim(),...c(w)?{reconciled:!0}:{}};A("save",{params:At})}function nt(){if(!Tn(c(g)))return"Invalid amount";if(c(m)===ot.Transfer){if(!c(b))return"Must choose the second account";if(c(b)===u())return"Cannot transfer to the same account";if(c(l)&&!Tn(c(T)))return"Invalid second amount"}return""}function W(){c(v).clear()}function X(R){R==="<"?E(g,c(g).substring(0,c(g).length-1)):E(g,c(g)+R)}ft(()=>(r(),he(u())),()=>{E(o,r().find(R=>R.id===u()))}),ft(()=>c(o),()=>{var R;E(s,(R=c(o))==null?void 0:R.currencyCode)}),ft(()=>(c(b),r()),()=>{E(i,c(b)?r().find(R=>R.id===c(b)):null)}),ft(()=>(c(i),c(s)),()=>{E(l,c(i)&&c(s)?c(i).currencyCode!==c(s):!1)}),Lt(),q();var Y=hc(),it=y(Y),ht=y(it);ac(ht,{get kind(){return c(m)},set kind(R){E(m,R)},$$legacy:!0});var ct=I(it,2),kt=y(ct),Q=I(ct,2),Ut=y(Q);et(Ut,()=>c(m)===ot.Transfer,R=>{ec(R,{get accountId(){return c(b)},set accountId(At){E(b,At)},placeholder:"To",$$legacy:!0})},R=>{var At=_c(),jt=y(At);bt(lc(jt,{get categoryId(){return c(S)},set categoryId(yt){E(S,yt)},get value(){return c(p)},set value(yt){E(p,yt)},$$legacy:!0}),yt=>E(v,yt),()=>c(v));var Vt=I(jt,2);k(()=>Vt.disabled=!c(S)),V("click",Vt,Uo(W)),x(R,At)});var xe=I(Q,2),Ie=y(xe),Ce=I(Ie);const Ge=ye(()=>!Tn(c(g)));k(()=>Zt(Ce,"_2YSkZ",c(Ge))),bt(Ce,R=>E(d,R),()=>c(d));var qe=I(xe,2);et(qe,()=>c(l),R=>{var At=pc(),jt=y(At),Vt=I(jt);k(()=>{var yt;return D(jt,`Amount, ${((yt=c(i))==null?void 0:yt.currencyCode)??""}: `)}),dt(Vt,()=>c(T),yt=>E(T,yt)),x(R,At)});var Ue=I(qe,2),Sn=y(Ue),Ve=I(Ue,2),Ye=y(Ve),En=y(Ye),ze=I(Ve,2);vc(ze,{onkey:X});var ae=I(ze,2),Ke=y(ae),xn=y(Ke);k(()=>{var R;D(Ie,`Amount, ${((R=c(o))==null?void 0:R.currencyCode)??""}: `),D(xn,f()?"Save":"Create")}),dt(kt,()=>c(h),R=>E(h,R)),dt(Ce,()=>c(g),R=>E(g,R)),dt(Sn,()=>c($),R=>E($,R)),Ho(En,()=>c(w),R=>E(w,R)),V("submit",Y,Gt(N)),x(t,Y),G()}function Gr(t,e){H(e,!1);const n=K(),r=()=>F(st,"$accounts",n),a=C();let o=O(e,"params",8);const{id:s,tid:i}=o();let l=C();const u=i?[{id:"delete",title:"Delete"}]:null;async function f(d){E(l,await Es(d))}function v(d){if(i){if(!c(l))return;ws(c(l),d.detail.params).then(()=>{J(`/accounts/${s}`)})}else Ds(d.detail.params).then(()=>{J(`/accounts/${s}`)})}ft(()=>r(),()=>{E(a,r().find(d=>d.id===s))}),Lt(),q(),pt(t,{children:(d,p)=>{var _=vt(),m=z(_);et(m,()=>i,S=>{var b=vt(),$=z(b);$a($,()=>f(i),null,w=>{Hr(w,{accountId:s,get transactionDoc(){return c(l)},$$events:{save:v}})}),x(S,b)},S=>{Hr(S,{accountId:s,$$events:{save:v}})}),x(d,_)},$$slots:{default:!0,header:(d,p)=>{var _=ye(()=>c(a)?`${c(a).title}: Transaction`:"Transaction");_t(d,{slot:"header",get title(){return c(_)},returnPath:`/accounts/${s}`,menuItems:u,$$events:{menu:m=>{switch(m.detail.id){case"delete":if(!confirm("Delete transaction?"))return!1;i&&ys(i).then(()=>{J(`/accounts/${s}`)});break}}}})}}}),G()}var gc=P("<div> </div>");function mc(t,e){H(e,!1);let n=O(e,"params",24,()=>({}));q();var r=gc(),a=y(r);k(()=>D(a,`Page Not Found: /${n().wild??""}`)),x(t,r),G()}const yc={"/":gi,"/groups":yi,"/groups/new":jr,"/groups/:id":jr,"/accounts/new":Mr,"/accounts/:id/edit":Mr,"/accounts/:id":Ti,"/accounts/:id/transactions/new":Gr,"/accounts/:id/transactions/:tid":Gr,"/categories":Li,"/categories/new":Br,"/categories/:id":Br,"/currencies":Ri,"/rates":Fi,"/report":Wi,"/currencies/new":Fr,"/currencies/:cid":Fr,"/settings":Ni,"*":mc};function wc(t){var e=vt(),n=z(e);$a(n,()=>Ns,null,r=>{es(r,{routes:yc})}),x(t,e)}Do(wc,{target:document.getElementById("app")});
