(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Vr=!1;var Re=Array.isArray,Un=Array.from,Ga=Object.defineProperty,At=Object.getOwnPropertyDescriptor,Yr=Object.getOwnPropertyDescriptors,Ha=Object.prototype,qa=Array.prototype,tn=Object.getPrototypeOf;function Ae(t){return typeof t=="function"}const jt=()=>{};function Ua(t){return typeof(t==null?void 0:t.then)=="function"}function Va(t){return t()}function en(t){for(var e=0;e<t.length;e++)t[e]()}function Ze(t,e,n=!1){return t===void 0?n?e():e:t}const Ct=2,zr=4,je=8,Vn=16,$t=32,Me=64,te=128,nn=256,rt=512,Ft=1024,we=2048,It=4096,Be=8192,Ya=16384,un=32768,Kr=65536,za=1<<18,Wr=1<<19,Mt=Symbol("$state"),Ka=Symbol("");function Xr(t){return t===this.v}function Jr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Yn(t){return!Jr(t,this.v)}function Wa(t){throw new Error("effect_in_teardown")}function Xa(){throw new Error("effect_in_unowned_derived")}function Ja(t){throw new Error("effect_orphan")}function Za(){throw new Error("effect_update_depth_exceeded")}function Qa(t){throw new Error("lifecycle_legacy_only")}function ts(t){throw new Error("props_invalid_value")}function es(){throw new Error("state_descriptors_fixed")}function ns(){throw new Error("state_prototype_fixed")}function rs(){throw new Error("state_unsafe_local_read")}function as(){throw new Error("state_unsafe_mutation")}function st(t){return{f:0,v:t,reactions:null,equals:Xr,version:0}}function pe(t,e=!1){var r;const n=st(t);return e||(n.equals=Yn),M!==null&&M.l!==null&&((r=M.l).s??(r.s=[])).push(n),n}function k(t,e=!1){return ss(pe(t,e))}function ss(t){return B!==null&&B.f&Ct&&(xt===null?Es([t]):xt.push(t)),t}function rn(t,e){return E(t,wt(()=>i(t))),e}function E(t,e){return B!==null&&Ge()&&B.f&(Ct|Vn)&&(xt===null||!xt.includes(t))&&as(),de(t,e)}function de(t,e){return t.equals(e)||(t.v=e,t.version=ha(),Zr(t,Ft),Ge()&&R!==null&&R.f&rt&&!(R.f&$t)&&(et!==null&&et.includes(t)?(St(R,Ft),_n(R)):Bt===null?Is([t]):Bt.push(t))),e}function Zr(t,e){var n=t.reactions;if(n!==null)for(var r=Ge(),a=n.length,s=0;s<a;s++){var o=n[s],c=o.f;c&Ft||!r&&o===R||(St(o,e),c&(rt|te)&&(c&Ct?Zr(o,we):_n(o)))}}const zn=1,Kn=2,Qr=4,os=8,is=16,cs=1,ls=2,us=4,fs=8,ds=16,vs=1,_s=2,lt=Symbol();let ta=!1;function ce(t,e=null,n){if(typeof t!="object"||t===null||Mt in t)return t;const r=tn(t);if(r!==Ha&&r!==qa)return t;var a=new Map,s=Re(t),o=st(0);s&&a.set("length",st(t.length));var c;return new Proxy(t,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&es();var v=a.get(u);return v===void 0?(v=st(f.value),a.set(u,v)):E(v,ce(f.value,c)),!0},deleteProperty(l,u){var f=a.get(u);if(f===void 0)u in l&&a.set(u,st(lt));else{if(s&&typeof u=="string"){var v=a.get("length"),d=Number(u);Number.isInteger(d)&&d<v.v&&E(v,d)}E(f,lt),ur(o)}return!0},get(l,u,f){var _;if(u===Mt)return t;var v=a.get(u),d=u in l;if(v===void 0&&(!d||(_=At(l,u))!=null&&_.writable)&&(v=st(ce(d?l[u]:lt,c)),a.set(u,v)),v!==void 0){var p=i(v);return p===lt?void 0:p}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var v=a.get(u);v&&(f.value=i(v))}else if(f===void 0){var d=a.get(u),p=d==null?void 0:d.v;if(d!==void 0&&p!==lt)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return f},has(l,u){var p;if(u===Mt)return!0;var f=a.get(u),v=f!==void 0&&f.v!==lt||Reflect.has(l,u);if(f!==void 0||R!==null&&(!v||(p=At(l,u))!=null&&p.writable)){f===void 0&&(f=st(v?ce(l[u],c):lt),a.set(u,f));var d=i(f);if(d===lt)return!1}return v},set(l,u,f,v){var w;var d=a.get(u),p=u in l;if(s&&u==="length")for(var _=f;_<d.v;_+=1){var m=a.get(_+"");m!==void 0?E(m,lt):_ in l&&(m=st(lt),a.set(_+"",m))}d===void 0?(!p||(w=At(l,u))!=null&&w.writable)&&(d=st(void 0),E(d,ce(f,c)),a.set(u,d)):(p=d.v!==lt,E(d,ce(f,c)));var S=Reflect.getOwnPropertyDescriptor(l,u);if(S!=null&&S.set&&S.set.call(v,f),!p){if(s&&typeof u=="string"){var $=a.get("length"),b=Number(u);Number.isInteger(b)&&b>=$.v&&E($,b+1)}ur(o)}return!0},ownKeys(l){i(o);var u=Reflect.ownKeys(l).filter(d=>{var p=a.get(d);return p===void 0||p.v!==lt});for(var[f,v]of a)v.v!==lt&&!(f in l)&&u.push(f);return u},setPrototypeOf(){ns()}})}function ur(t,e=1){E(t,t.v+e)}function fr(t){return t!==null&&typeof t=="object"&&Mt in t?t[Mt]:t}function ps(t,e){return Object.is(fr(t),fr(e))}var dr,ea,na;function hs(){if(dr===void 0){dr=window;var t=Element.prototype,e=Node.prototype;ea=At(e,"firstChild").get,na=At(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Wn(t=""){return document.createTextNode(t)}function he(t){return ea.call(t)}function fn(t){return na.call(t)}function y(t,e){return he(t)}function Y(t,e){{var n=he(t);return n instanceof Comment&&n.data===""?fn(n):n}}function x(t,e=1,n=!1){let r=t;for(;e--;)r=fn(r);return r}function gs(t){t.textContent=""}function ge(t){var e=Ct|Ft;R===null?e|=te:R.f|=Wr;const n={children:null,ctx:M,deps:null,equals:Xr,f:e,fn:t,reactions:null,v:null,version:0,parent:R};if(B!==null&&B.f&Ct){var r=B;(r.children??(r.children=[])).push(n)}return n}function Zt(t){const e=ge(t);return e.equals=Yn,e}function ra(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&Ct?Xn(r):ee(r)}}}function aa(t){var e,n=R;mt(t.parent);try{ra(t),e=ga(t)}finally{mt(n)}return e}function sa(t){var e=aa(t),n=(ue||t.f&te)&&t.deps!==null?we:rt;St(t,n),t.equals(e)||(t.v=e,t.version=ha())}function Xn(t){ra(t),Oe(t,0),St(t,Be),t.v=t.children=t.deps=t.ctx=t.reactions=null}function oa(t){R===null&&B===null&&Ja(),B!==null&&B.f&te&&Xa(),Qn&&Wa()}function ms(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function be(t,e,n,r=!0){var a=(t&Me)!==0,s=R,o={ctx:M,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|Ft,first:null,fn:e,last:null,next:null,parent:a?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var c=ve;try{vr(!0),He(o),o.f|=Ya}catch(f){throw ee(o),f}finally{vr(c)}}else e!==null&&_n(o);var l=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Wr)===0;if(!l&&!a&&r&&(s!==null&&ms(o,s),B!==null&&B.f&Ct)){var u=B;(u.children??(u.children=[])).push(o)}return o}function Jn(t){const e=be(je,null,!1);return St(e,rt),e.teardown=t,e}function Dn(t){oa();var e=R!==null&&(R.f&$t)!==0&&M!==null&&!M.m;if(e){var n=M;(n.e??(n.e=[])).push({fn:t,effect:R,reaction:B})}else{var r=$e(t);return r}}function ys(t){return oa(),Se(t)}function ws(t){const e=be(Me,t,!0);return()=>{ee(e)}}function $e(t){return be(zr,t,!1)}function ht(t,e){var n=M,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Se(()=>{t(),!r.ran&&(r.ran=!0,E(n.l.r2,!0),wt(e))})}function Gt(){var t=M;Se(()=>{if(i(t.l.r2)){for(var e of t.l.r1){var n=e.effect;n.f&rt&&St(n,we),Ee(n)&&He(n),e.ran=!1}t.l.r2.v=!1}})}function Se(t){return be(je,t,!0)}function T(t){return Fe(t)}function Fe(t,e=0){return be(je|Vn|e,t,!0)}function Pt(t,e=!0){return be(je|$t,t,!0,e)}function ia(t){var e=t.teardown;if(e!==null){const n=Qn,r=B;_r(!0),kt(null);try{e.call(null)}finally{_r(n),kt(r)}}}function ca(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)Xn(e[n])}}function la(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;ee(n,e),n=r}}function bs(t){for(var e=t.first;e!==null;){var n=e.next;e.f&$t||ee(e),e=n}}function ee(t,e=!0){var n=!1;if((e||t.f&za)&&t.nodes_start!==null){for(var r=t.nodes_start,a=t.nodes_end;r!==null;){var s=r===a?null:fn(r);r.remove(),r=s}n=!0}la(t,e&&!n),ca(t),Oe(t,0),St(t,Be);var o=t.transitions;if(o!==null)for(const l of o)l.stop();ia(t);var c=t.parent;c!==null&&c.first!==null&&ua(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function ua(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function zt(t,e){var n=[];Zn(t,n,!0),fa(n,()=>{ee(t),e&&e()})}function fa(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var a of t)a.out(r)}else e()}function Zn(t,e,n){if(!(t.f&It)){if(t.f^=It,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var a=r.next,s=(r.f&un)!==0||(r.f&$t)!==0;Zn(r,e,s?n:!1),r=a}}}function Kt(t){da(t,!0)}function da(t,e){if(t.f&It){Ee(t)&&He(t),t.f^=It;for(var n=t.first;n!==null;){var r=n.next,a=(n.f&un)!==0||(n.f&$t)!==0;da(n,a?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let an=!1,Ln=[];function va(){an=!1;const t=Ln.slice();Ln=[],en(t)}function dn(t){an||(an=!0,queueMicrotask(va)),Ln.push(t)}function $s(){an&&va()}function vn(t){throw new Error("lifecycle_outside_component")}const _a=0,Ss=1;let Qe=_a,Le=!1,ve=!1,Qn=!1;function vr(t){ve=t}function _r(t){Qn=t}let Yt=[],_e=0;let B=null;function kt(t){B=t}let R=null;function mt(t){R=t}let xt=null;function Es(t){xt=t}let et=null,ut=0,Bt=null;function Is(t){Bt=t}let pa=0,ue=!1,fe=!1,le=new Set,M=null;function pr(t){M=t}function ha(){return++pa}function Ge(){return M!==null&&M.l===null}function Ee(t){var o,c;var e=t.f;if(e&Ft)return!0;if(e&we){var n=t.deps,r=(e&te)!==0;if(n!==null){var a;if(e&nn){for(a=0;a<n.length;a++)((o=n[a]).reactions??(o.reactions=[])).push(t);t.f^=nn}for(a=0;a<n.length;a++){var s=n[a];if(Ee(s)&&sa(s),r&&R!==null&&!ue&&!((c=s==null?void 0:s.reactions)!=null&&c.includes(t))&&(s.reactions??(s.reactions=[])).push(t),s.version>t.version)return!0}}r||St(t,rt)}return!1}function xs(t,e,n){throw t}function ga(t){var d;var e=et,n=ut,r=Bt,a=B,s=ue,o=xt,c=M,l=t.f;et=null,ut=0,Bt=null,B=l&($t|Me)?null:t,ue=!ve&&(l&te)!==0,xt=null,M=t.ctx;try{var u=(0,t.fn)(),f=t.deps;if(et!==null){var v;if(Oe(t,ut),f!==null&&ut>0)for(f.length=ut+et.length,v=0;v<et.length;v++)f[ut+v]=et[v];else t.deps=f=et;if(!ue)for(v=ut;v<f.length;v++)((d=f[v]).reactions??(d.reactions=[])).push(t)}else f!==null&&ut<f.length&&(Oe(t,ut),f.length=ut);return u}finally{et=e,ut=n,Bt=r,B=a,ue=s,xt=o,M=c}}function Cs(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[r]=n[a],n.pop())}}n===null&&e.f&Ct&&(et===null||!et.includes(e))&&(St(e,we),e.f&(te|nn)||(e.f^=nn),Oe(e,0))}function Oe(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Cs(t,n[r])}function He(t){var e=t.f;if(!(e&Be)){St(t,rt);var n=R;R=t;try{e&Vn?bs(t):la(t),ca(t),ia(t);var r=ga(t);t.teardown=typeof r=="function"?r:null,t.version=pa}catch(a){xs(a)}finally{R=n}}}function ma(){_e>1e3&&(_e=0,Za()),_e++}function ya(t){var e=t.length;if(e!==0){ma();var n=ve;ve=!0;try{for(var r=0;r<e;r++){var a=t[r];a.f&rt||(a.f^=rt);var s=[];wa(a,s),ks(s)}}finally{ve=n}}}function ks(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&(Be|It))&&Ee(r)&&(He(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ua(r):r.fn=null))}}function Ts(){if(Le=!1,_e>1001)return;const t=Yt;Yt=[],ya(t),Le||(_e=0)}function _n(t){Qe===_a&&(Le||(Le=!0,queueMicrotask(Ts)));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(Me|$t)){if(!(n&rt))return;e.f^=rt}}Yt.push(e)}function wa(t,e){var n=t.first,r=[];t:for(;n!==null;){var a=n.f,s=(a&$t)!==0,o=s&&(a&rt)!==0;if(!o&&!(a&It))if(a&je){s?n.f^=rt:Ee(n)&&He(n);var c=n.first;if(c!==null){n=c;continue}}else a&zr&&r.push(n);var l=n.next;if(l===null){let v=n.parent;for(;v!==null;){if(t===v)break t;var u=v.next;if(u!==null){n=u;continue t}v=v.parent}}n=l}for(var f=0;f<r.length;f++)c=r[f],e.push(c),wa(c,e)}function tr(t){var e=Qe,n=Yt;try{ma();const a=[];Qe=Ss,Yt=a,Le=!1,ya(n);var r=t==null?void 0:t();return $s(),(Yt.length>0||a.length>0)&&tr(),_e=0,r}finally{Qe=e,Yt=n}}async function ba(){await Promise.resolve(),tr()}function i(t){var c;var e=t.f,n=(e&Ct)!==0;if(n&&e&Be){var r=aa(t);return Xn(t),r}if(fe&&le.add(t),B!==null){xt!==null&&xt.includes(t)&&rs();var a=B.deps;et===null&&a!==null&&a[ut]===t?ut++:et===null?et=[t]:et.push(t),Bt!==null&&R!==null&&R.f&rt&&!(R.f&$t)&&Bt.includes(t)&&(St(R,Ft),_n(R))}else if(n&&t.deps===null){var s=t,o=s.parent;o!==null&&!((c=o.deriveds)!=null&&c.includes(s))&&(o.deriveds??(o.deriveds=[])).push(s)}return n&&(s=t,Ee(s)&&sa(s)),t.v}function er(t){var e=fe,n=le;fe=!0,le=new Set;var r=le,a;try{wt(t)}finally{if(fe=e,fe)for(a of le)n.add(a);le=n}for(a of r)if(a.f&Kr)for(const s of a.deps||[])s.f&Ct||rn(s,null);else rn(a,null)}function wt(t){const e=B;try{return B=null,t()}finally{B=e}}const As=~(Ft|we|rt);function St(t,e){t.f=t.f&As|e}function G(t,e=!1,n){M={p:M,c:null,e:null,m:!1,s:t,x:null,l:null},e||(M.l={s:null,u:null,r1:[],r2:st(!1)})}function H(t){const e=M;if(e!==null){t!==void 0&&(e.x=t);const o=e.e;if(o!==null){var n=R,r=B;e.e=null;try{for(var a=0;a<o.length;a++){var s=o[a];mt(s.effect),kt(s.reaction),$e(s.fn)}}finally{mt(n),kt(r)}}M=e.p,e.m=!0}return t||{}}function me(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Mt in t)On(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Mt in n&&On(n)}}}function On(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{On(t[r],e)}catch{}const n=tn(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Yr(n);for(let a in r){const s=r[a].get;if(s)try{s.call(t)}catch{}}}}}const $a=new Set,Nn=new Set;function Ps(t,e,n,r){function a(s){if(r.capture||Pe.call(e,s),!s.cancelBubble){var o=B,c=R;kt(null),mt(null);try{return n.call(this,s)}finally{kt(o),mt(c)}}}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?dn(()=>{e.addEventListener(t,a,r)}):e.addEventListener(t,a,r),a}function V(t,e,n,r,a){var s={capture:r,passive:a},o=Ps(t,e,n,s);(e===document.body||e===window||e===document)&&Jn(()=>{e.removeEventListener(t,o,s)})}function Ds(t){for(var e=0;e<t.length;e++)$a.add(t[e]);for(var n of Nn)n(t)}function Pe(t){var b;var e=this,n=e.ownerDocument,r=t.type,a=((b=t.composedPath)==null?void 0:b.call(t))||[],s=a[0]||t.target,o=0,c=t.__root;if(c){var l=a.indexOf(c);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=a[o]||t.target,s!==e){Ga(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=B,v=R;kt(null),mt(null);try{for(var d,p=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];if(m!==void 0&&!s.disabled)if(Re(m)){var[S,...$]=m;S.apply(s,[t,...$])}else m.call(s,t)}catch(w){d?p.push(w):d=w}if(t.cancelBubble||_===e||_===null)break;s=_}if(d){for(let w of p)queueMicrotask(()=>{throw w});throw d}}finally{t.__root=e,delete t.currentTarget,kt(f),mt(v)}}}function Sa(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function sn(t,e){var n=R;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function A(t,e){var n=(e&vs)!==0,r=(e&_s)!==0,a,s=!t.startsWith("<!>");return()=>{a===void 0&&(a=Sa(s?t:"<!>"+t),n||(a=he(a)));var o=r?document.importNode(a,!0):a.cloneNode(!0);if(n){var c=he(o),l=o.lastChild;sn(c,l)}else sn(o,o);return o}}function pn(t,e,n="svg"){var r=!t.startsWith("<!>"),a=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var o=Sa(a),c=he(o);s=he(c)}var l=s.cloneNode(!0);return sn(l,l),l}}function dt(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Wn();return t.append(e,n),sn(e,n),t}function I(t,e){t!==null&&t.before(e)}const Ls=["touchstart","touchmove"];function Os(t){return Ls.includes(t)}function D(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function Ns(t,e){return Rs(t,e)}const oe=new Map;function Rs(t,{target:e,anchor:n,props:r={},events:a,context:s,intro:o=!0}){hs();var c=new Set,l=v=>{for(var d=0;d<v.length;d++){var p=v[d];if(!c.has(p)){c.add(p);var _=Os(p);e.addEventListener(p,Pe,{passive:_});var m=oe.get(p);m===void 0?(document.addEventListener(p,Pe,{passive:_}),oe.set(p,1)):oe.set(p,m+1)}}};l(Un($a)),Nn.add(l);var u=void 0,f=ws(()=>{var v=n??e.appendChild(Wn());return Pt(()=>{if(s){G({});var d=M;d.c=s}a&&(r.$$events=a),u=t(v,r)||{},s&&H()}),()=>{var _;for(var d of c){e.removeEventListener(d,Pe);var p=oe.get(d);--p===0?(document.removeEventListener(d,Pe),oe.delete(d)):oe.set(d,p)}Nn.delete(l),hr.delete(u),v!==n&&((_=v.parentNode)==null||_.removeChild(v))}});return hr.set(u,f),u}let hr=new WeakMap;const In=0,Xe=1,xn=2;function Ea(t,e,n,r,a){var s=t,o=Ge(),c=M,l,u,f,v,d=(o?st:pe)(void 0),p=(o?st:pe)(void 0),_=!1;function m($,b){_=!0,b&&(mt(S),kt(S),pr(c)),$===In&&n&&(u?Kt(u):u=Pt(()=>n(s))),$===Xe&&r&&(f?Kt(f):f=Pt(()=>r(s,d))),$===xn&&a&&(v?Kt(v):v=Pt(()=>a(s,p))),$!==In&&u&&zt(u,()=>u=null),$!==Xe&&f&&zt(f,()=>f=null),$!==xn&&v&&zt(v,()=>v=null),b&&(pr(null),kt(null),mt(null),tr())}var S=Fe(()=>{if(l!==(l=e())){if(Ua(l)){var $=l;_=!1,$.then(b=>{$===l&&(de(d,b),m(Xe,!0))},b=>{if($===l)throw de(p,b),m(xn,!0),p.v}),dn(()=>{_||m(In,!0)})}else de(d,l),m(Xe,!1);return()=>l=null}})}function nt(t,e,n,r=null,a=!1){var s=t,o=null,c=null,l=null,u=a?un:0;Fe(()=>{l!==(l=!!e())&&(l?(o?Kt(o):o=Pt(()=>n(s)),c&&zt(c,()=>{c=null})):(c?Kt(c):r&&(c=Pt(()=>r(s))),o&&zt(o,()=>{o=null})))},u)}let Cn=null;function Dt(t,e){return e}function js(t,e,n,r){for(var a=[],s=e.length,o=0;o<s;o++)Zn(e[o].e,a,!0);var c=s>0&&a.length===0&&n!==null;if(c){var l=n.parentNode;gs(l),l.append(n),r.clear(),Rt(t,e[0].prev,e[s-1].next)}fa(a,()=>{for(var u=0;u<s;u++){var f=e[u];c||(r.delete(f.k),Rt(t,f.prev,f.next)),ee(f.e,!c)}})}function Q(t,e,n,r,a,s=null){var o=t,c={flags:e,items:new Map,first:null},l=(e&Qr)!==0;if(l){var u=t;o=u.appendChild(Wn())}var f=null,v=!1;Fe(()=>{var d=n(),p=Re(d)?d:d==null?[]:Un(d),_=p.length;if(!(v&&_===0)){v=_===0;{var m=B;Ms(p,c,o,a,e,(m.f&It)!==0,r)}s!==null&&(_===0?f?Kt(f):f=Pt(()=>s(o)):f!==null&&zt(f,()=>{f=null})),n()}})}function Ms(t,e,n,r,a,s,o){var ct,pt,Et,tt;var c=(a&os)!==0,l=(a&(zn|Kn))!==0,u=t.length,f=e.items,v=e.first,d=v,p,_=null,m,S=[],$=[],b,w,h,g;if(c)for(g=0;g<u;g+=1)b=t[g],w=o(b,g),h=f.get(w),h!==void 0&&((ct=h.a)==null||ct.measure(),(m??(m=new Set)).add(h));for(g=0;g<u;g+=1){if(b=t[g],w=o(b,g),h=f.get(w),h===void 0){var P=d?d.e.nodes_start:n;_=Fs(P,e,_,_===null?e.first:_.next,b,w,g,r,a),f.set(w,_),S=[],$=[],d=_.next;continue}if(l&&Bs(h,b,g,a),h.e.f&It&&(Kt(h.e),c&&((pt=h.a)==null||pt.unfix(),(m??(m=new Set)).delete(h))),h!==d){if(p!==void 0&&p.has(h)){if(S.length<$.length){var C=$[0],N;_=C.prev;var Z=S[0],K=S[S.length-1];for(N=0;N<S.length;N+=1)gr(S[N],C,n);for(N=0;N<$.length;N+=1)p.delete($[N]);Rt(e,Z.prev,K.next),Rt(e,_,Z),Rt(e,K,C),d=C,_=K,g-=1,S=[],$=[]}else p.delete(h),gr(h,d,n),Rt(e,h.prev,h.next),Rt(e,h,_===null?e.first:_.next),Rt(e,_,h),_=h;continue}for(S=[],$=[];d!==null&&d.k!==w;)(s||!(d.e.f&It))&&(p??(p=new Set)).add(d),$.push(d),d=d.next;if(d===null)continue;h=d}S.push(h),_=h,d=h.next}if(d!==null||p!==void 0){for(var W=p===void 0?[]:Un(p);d!==null;)(s||!(d.e.f&It))&&W.push(d),d=d.next;var X=W.length;if(X>0){var at=a&Qr&&u===0?n:null;if(c){for(g=0;g<X;g+=1)(Et=W[g].a)==null||Et.measure();for(g=0;g<X;g+=1)(tt=W[g].a)==null||tt.fix()}js(e,W,at,f)}}c&&dn(()=>{var Ut;if(m!==void 0)for(h of m)(Ut=h.a)==null||Ut.apply()}),R.first=e.first&&e.first.e,R.last=_&&_.e}function Bs(t,e,n,r){r&zn&&de(t.v,e),r&Kn?de(t.i,n):t.i=n}function Fs(t,e,n,r,a,s,o,c,l){var u=Cn;try{var f=(l&zn)!==0,v=(l&is)===0,d=f?v?pe(a):st(a):a,p=l&Kn?st(o):o,_={i:p,v:d,k:s,a:null,e:null,prev:n,next:r};return Cn=_,_.e=Pt(()=>c(t,d,p),ta),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?e.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{Cn=u}}function gr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var o=fn(s);a.before(s),s=o}}function Rt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function on(t,e,n,r,a){var c;var s=(c=e.$$slots)==null?void 0:c[n],o=!1;s===!0&&(s=e[n==="default"?"children":n],o=!0),s===void 0||s(t,o?()=>r:r)}function mr(t,e,n){var r=t,a,s;Fe(()=>{a!==(a=e())&&(s&&(zt(s),s=null),a&&(s=Pt(()=>n(r,a))))},un)}function cn(t,e,n){$e(()=>{var r=wt(()=>e(t,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}let yr=!1;function Gs(){yr||(yr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function U(t,e,n,r){var a=t.__attributes??(t.__attributes={});a[e]!==(a[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Ka]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Hs(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var wr=new Map;function Hs(t){var e=wr.get(t.nodeName);if(e)return e;wr.set(t.nodeName,e=[]);for(var n,r=tn(t),a=Element.prototype;a!==r;){n=Yr(r);for(var s in n)n[s].set&&e.push(s);r=tn(r)}return e}function Ia(t,e){var n=t.__className,r=qs(e);(n!==r||ta)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function qs(t){return t??""}function Qt(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function nr(t,e,n,r=n){t.addEventListener(e,n);const a=t.__on_r;a?t.__on_r=()=>{a(),r()}:t.__on_r=r,Gs()}function ft(t,e,n=e){var r=Ge();nr(t,"input",()=>{var a=br(t)?$r(t.value):t.value;n(a),r&&a!==(a=e())&&(t.value=a??"")}),Se(()=>{var a=e();br(t)&&a===$r(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Us(t,e,n=e){nr(t,"change",()=>{var r=t.checked;n(r)}),e()==null&&n(!1),Se(()=>{var r=e();t.checked=!!r})}function br(t){var e=t.type;return e==="number"||e==="range"}function $r(t){return t===""?null:+t}function Ne(t,e,n){var r=At(t,e);r&&r.set&&(t[e]=n,Jn(()=>{t[e]=null}))}function xa(t,e,n){if(t.multiple)return Ys(t,e);for(var r of t.options){var a=De(r);if(ps(a,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Vs(t,e){$e(()=>{var n=new MutationObserver(()=>{var r=t.__value;xa(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function rr(t,e,n=e){var r=!0;nr(t,"change",()=>{var a;if(t.multiple)a=[].map.call(t.querySelectorAll(":checked"),De);else{var s=t.querySelector(":checked");a=s&&De(s)}n(a)}),$e(()=>{var a=e();if(xa(t,a,r),r&&a===void 0){var s=t.querySelector(":checked");s!==null&&(a=De(s),n(a))}t.__value=a,r=!1}),Vs(t)}function Ys(t,e){for(var n of t.options)n.selected=~e.indexOf(De(n))}function De(t){return"__value"in t?t.__value:t.value}function Sr(t,e){return t===e||(t==null?void 0:t[Mt])===e}function bt(t={},e,n,r){return $e(()=>{var a,s;return Se(()=>{a=s,s=[],wt(()=>{t!==n(...s)&&(e(t,...s),a&&Sr(n(...a),t)&&e(null,...a))})}),()=>{dn(()=>{s&&Sr(n(...s),t)&&e(null,...s)})}}),t}function zs(t){return function(...e){var n=e[0];return n.stopPropagation(),t==null?void 0:t.apply(this,e)}}function Ht(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}function q(t=!1){const e=M,n=e.l.u;if(!n)return;let r=()=>me(e.s);if(t){let a=0,s={};const o=ge(()=>{let c=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],c=!0);return c&&a++,a});r=()=>i(o)}n.b.length&&ys(()=>{Er(e,r),en(n.b)}),Dn(()=>{const a=wt(()=>n.m.map(Va));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&Dn(()=>{Er(e,r),en(n.a)})}function Er(t,e){if(t.l.s)for(const n of t.l.s)i(n);e()}function Rn(t,e){var s;var n=(s=t.$$events)==null?void 0:s[e.type],r=Re(n)?n.slice():n==null?[]:[n];for(var a of r)a.call(this,e)}function ar(t,e,n){if(t==null)return e(void 0),n&&n(void 0),jt;const r=wt(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}let Je=!1;function F(t,e,n){const r=n[e]??(n[e]={store:null,source:pe(void 0),unsubscribe:jt});if(r.store!==t)if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=jt;else{var a=!0;r.unsubscribe=ar(t,s=>{a?r.source.v=s:E(r.source,s)}),a=!1}return i(r.source)}function Ks(t,e){return t.set(e),e}function z(){const t={};return Jn(()=>{for(var e in t)t[e].unsubscribe()}),t}function Ws(t){var e=Je;try{return Je=!1,[t(),Je]}finally{Je=e}}const Xs={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Ae(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let a=t.props[r];Ae(a)&&(a=a());const s=At(a,e);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Ae(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const a=At(r,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(t,e){for(let n of t.props)if(Ae(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props){Ae(n)&&(n=n());for(const r in n)e.includes(r)||e.push(r)}return e}};function Ir(...t){return new Proxy({props:t},Xs)}function xr(t){for(var e=R,n=R;e!==null&&!(e.f&($t|Me));)e=e.parent;try{return mt(e),t()}finally{mt(n)}}function L(t,e,n,r){var P;var a=(n&cs)!==0,s=(n&ls)!==0,o=(n&fs)!==0,c=(n&ds)!==0,l=!1,u;o?[u,l]=Ws(()=>t[e]):u=t[e];var f=(P=At(t,e))==null?void 0:P.set,v=r,d=!0,p=!1,_=()=>(p=!0,d&&(d=!1,c?v=wt(r):v=r),v);u===void 0&&r!==void 0&&(f&&s&&ts(),u=_(),f&&f(u));var m;if(s)m=()=>{var C=t[e];return C===void 0?_():(d=!0,p=!1,C)};else{var S=xr(()=>(a?ge:Zt)(()=>t[e]));S.f|=Kr,m=()=>{var C=i(S);return C!==void 0&&(v=void 0),C===void 0?v:C}}if(!(n&us))return m;if(f){var $=t.$$legacy;return function(C,N){return arguments.length>0?((!s||!N||$||l)&&f(N?m():C),C):m()}}var b=!1,w=!1,h=pe(u),g=xr(()=>ge(()=>{var C=m(),N=i(h);return b?(b=!1,w=!0,N):(w=!1,h.v=C)}));return a||(g.equals=Yn),function(C,N){if(fe&&(b=w,m(),i(h)),arguments.length>0){const Z=N?i(g):s&&o?ce(C):C;return g.equals(Z)||(b=!0,E(h,Z),p&&v!==void 0&&(v=Z),wt(()=>i(g))),C}return i(g)}}function Ie(t){M===null&&vn(),M.l!==null?Ca(M).m.push(t):Dn(()=>{const e=wt(t);if(typeof e=="function")return e})}function Js(t){M===null&&vn(),Ie(()=>()=>wt(t))}function Zs(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function ne(){const t=M;return t===null&&vn(),(e,n,r)=>{var s;const a=(s=t.s.$$events)==null?void 0:s[e];if(a){const o=Re(a)?a.slice():[a],c=Zs(e,n,r);for(const l of o)l.call(t.x,c);return!c.defaultPrevented}return!0}}function Qs(t){M===null&&vn(),M.l===null&&Qa(),Ca(M).a.push(t)}function Ca(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const to="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(to);const ie=[];function ka(t,e){return{subscribe:Lt(t,e).subscribe}}function Lt(t,e=jt){let n=null;const r=new Set;function a(c){if(Jr(t,c)&&(t=c,n)){const l=!ie.length;for(const u of r)u[1](),ie.push(u,t);if(l){for(let u=0;u<ie.length;u+=2)ie[u][0](ie[u+1]);ie.length=0}}}function s(c){a(c(t))}function o(c,l=jt){const u=[c,l];return r.add(u),r.size===1&&(n=e(a,s)||jt),c(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:a,update:s,subscribe:o}}function Ta(t,e,n){const r=!Array.isArray(t),a=r?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return ka(n,(o,c)=>{let l=!1;const u=[];let f=0,v=jt;const d=()=>{if(f)return;v();const _=e(r?u[0]:u,o,c);s?o(_):v=typeof _=="function"?_:jt},p=a.map((_,m)=>ar(_,S=>{u[m]=S,f&=~(1<<m),l&&d()},()=>{f|=1<<m}));return l=!0,d(),function(){en(p),v(),l=!1}})}function Cr(t){let e;return ar(t,n=>e=n)(),e}function eo(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,a,s,o=[],c="",l=t.split("/");for(l[0]||l.shift();a=l.shift();)n=a[0],n==="*"?(o.push("wild"),c+="/(.*)"):n===":"?(r=a.indexOf("?",1),s=a.indexOf(".",1),o.push(a.substring(1,~r?r:~s?s:a.length)),c+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~r?"?":"")+"\\"+a.substring(s))):c+="/"+a;return{keys:o,pattern:new RegExp("^"+c+"/?$","i")}}function kr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const sr=ka(null,function(e){e(kr());const n=()=>{e(kr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Ta(sr,t=>t.location);Ta(sr,t=>t.querystring);const Tr=Lt(void 0);async function J(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await ba(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function jn(t,e){if(e=Pr(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Ar(t,e),{update(n){n=Pr(n),Ar(t,n)}}}function no(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ar(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||ro(r.currentTarget.getAttribute("href"))})}function Pr(t){return t&&typeof t=="string"?{href:t}:t||{}}function ro(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function ao(t,e){G(e,!1);let n=L(e,"routes",24,()=>({})),r=L(e,"prefix",8,""),a=L(e,"restoreScrollState",8,!1);class s{constructor(h,g){if(!g||typeof g!="function"&&(typeof g!="object"||g._sveltesparouter!==!0))throw Error("Invalid component object");if(!h||typeof h=="string"&&(h.length<1||h.charAt(0)!="/"&&h.charAt(0)!="*")||typeof h=="object"&&!(h instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:P,keys:C}=eo(h);this.path=h,typeof g=="object"&&g._sveltesparouter===!0?(this.component=g.component,this.conditions=g.conditions||[],this.userData=g.userData,this.props=g.props||{}):(this.component=()=>Promise.resolve(g),this.conditions=[],this.props={}),this._pattern=P,this._keys=C}match(h){if(r()){if(typeof r()=="string")if(h.startsWith(r()))h=h.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const N=h.match(r());if(N&&N[0])h=h.substr(N[0].length)||"/";else return null}}const g=this._pattern.exec(h);if(g===null)return null;if(this._keys===!1)return g;const P={};let C=0;for(;C<this._keys.length;){try{P[this._keys[C]]=decodeURIComponent(g[C+1]||"")||null}catch{P[this._keys[C]]=null}C+=1}return P}async checkConditions(h){for(let g=0;g<this.conditions.length;(g+=1)-1)if(!await this.conditions[g](h))return!1;return!0}}const o=[];n()instanceof Map?n().forEach((w,h)=>{o.push(new s(h,w))}):Object.keys(n()).forEach(w=>{o.push(new s(w,n()[w]))});let c=k(null),l=k(null),u=k({});const f=ne();async function v(w,h){await ba(),f(w,h)}let d=null,p=null;a()&&(p=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?d=w.state:d=null},window.addEventListener("popstate",p),Qs(()=>{no(d)}));let _=null,m=null;const S=sr.subscribe(async w=>{_=w;let h=0;for(;h<o.length;){const g=o[h].match(w.location);if(!g){h+=1;continue}const P={route:o[h].path,location:w.location,querystring:w.querystring,userData:o[h].userData,params:g&&typeof g=="object"&&Object.keys(g).length?g:null};if(!await o[h].checkConditions(P)){E(c,null),m=null,v("conditionsFailed",P);return}v("routeLoading",Object.assign({},P));const C=o[h].component;if(m!=C){C.loading?(E(c,C.loading),m=C,E(l,C.loadingParams),E(u,{}),v("routeLoaded",Object.assign({},P,{component:i(c),name:i(c).name,params:i(l)}))):(E(c,null),m=null);const N=await C();if(w!=_)return;E(c,N&&N.default||N),m=C}g&&typeof g=="object"&&Object.keys(g).length?E(l,g):E(l,null),E(u,o[h].props),v("routeLoaded",Object.assign({},P,{component:i(c),name:i(c).name,params:i(l)})).then(()=>{Tr.set(i(l))});return}E(c,null),m=null,Tr.set(void 0)});Js(()=>{S(),p&&window.removeEventListener("popstate",p)}),ht(()=>me(a()),()=>{history.scrollRestoration=a()?"manual":"auto"}),Gt(),q();var $=dt(),b=Y($);nt(b,()=>i(l),w=>{var h=dt(),g=Y(h);mr(g,()=>i(c),(P,C)=>{C(P,Ir({get params(){return i(l)}},()=>i(u),{$$events:{routeEvent(N){Rn.call(this,e,N)}}}))}),I(w,h)},w=>{var h=dt(),g=Y(h);mr(g,()=>i(c),(P,C)=>{C(P,Ir(()=>i(u),{$$events:{routeEvent(N){Rn.call(this,e,N)}}}))}),I(w,h)}),I(t,$),H()}const Mn=(t,e)=>e.some(n=>t instanceof n);let Dr,Lr;function so(){return Dr||(Dr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oo(){return Lr||(Lr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bn=new WeakMap,kn=new WeakMap,hn=new WeakMap;function io(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wt(t.result)),a()},o=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return hn.set(e,t),e}function co(t){if(Bn.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),a()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bn.set(t,e)}let Fn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bn.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Aa(t){Fn=t(Fn)}function lo(t){return oo().includes(t)?function(...e){return t.apply(Gn(this),e),Wt(this.request)}:function(...e){return Wt(t.apply(Gn(this),e))}}function uo(t){return typeof t=="function"?lo(t):(t instanceof IDBTransaction&&co(t),Mn(t,so())?new Proxy(t,Fn):t)}function Wt(t){if(t instanceof IDBRequest)return io(t);if(kn.has(t))return kn.get(t);const e=uo(t);return e!==t&&(kn.set(t,e),hn.set(e,t)),e}const Gn=t=>hn.get(t);function fo(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),c=Wt(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wt(o.result),l.oldVersion,l.newVersion,Wt(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const vo=["get","getKey","getAll","getAllKeys","count"],_o=["put","add","delete","clear"],Tn=new Map;function Or(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tn.get(e))return Tn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=_o.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||vo.includes(n)))return;const s=async function(o,...c){const l=this.transaction(o,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),a&&l.done]))[0]};return Tn.set(e,s),s}Aa(t=>({...t,get:(e,n,r)=>Or(e,n)||t.get(e,n,r),has:(e,n)=>!!Or(e,n)||t.has(e,n)}));const po=["continue","continuePrimaryKey","advance"],Nr={},Hn=new WeakMap,Pa=new WeakMap,ho={get(t,e){if(!po.includes(e))return t[e];let n=Nr[e];return n||(n=Nr[e]=function(...r){Hn.set(this,Pa.get(this)[e](...r))}),n}};async function*go(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,ho);for(Pa.set(n,e),hn.set(n,Gn(e));e;)yield n,e=await(Hn.get(n)||e.continue()),Hn.delete(n)}function Rr(t,e){return e===Symbol.asyncIterator&&Mn(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Mn(t,[IDBIndex,IDBObjectStore])}Aa(t=>({...t,get(e,n,r){return Rr(e,n)?go:t.get(e,n,r)},has(e,n){return Rr(e,n)||t.has(e,n)}}));const mo="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Xt=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=mo[n[t]&63];return e};var ot=(t=>(t.Expense="EXPENSE",t.Income="INCOME",t.Transfer="TRANSFER",t))(ot||{});const it=Lt([]),qt=Lt([]),Ot=Lt([]),re=Lt([]),Da=Lt([]),ye=Lt(""),gn=Lt({}),yo=[{value:ot.Expense,title:"Expense"},{value:ot.Transfer,title:"Transfer"},{value:ot.Income,title:"Income"}],ln="baseCurrencyCode";let O;const wo=fo("acc",3,{upgrade(t,e,n,r){if(t.objectStoreNames.contains("accountGroups")||t.createObjectStore("accountGroups",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("accounts")||t.createObjectStore("accounts",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("currencies")||t.createObjectStore("currencies",{keyPath:"code"}),t.objectStoreNames.contains("categories")||t.createObjectStore("categories",{keyPath:"id"}).createIndex("title",["title","subtitle"]),t.objectStoreNames.contains("entries")||t.createObjectStore("entries",{keyPath:"id"}).createIndex("accountId","accountId"),!t.objectStoreNames.contains("transactions"))t.createObjectStore("transactions",{keyPath:"id"}).createIndex("timestamp","timestamp");else{const a=r.objectStore("transactions");console.log("store already exists, creating index"),a.createIndex("timestamp","timestamp")}t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"name"}),t.objectStoreNames.contains("rates")||t.createObjectStore("rates",{keyPath:"code"})}}).then(t=>{O=t});function ae(){return O.getAllFromIndex("accounts","title")}function bo(t){return O.get("accounts",t)}async function $o(t){await O.put("accounts",t),it.set(await ae())}async function So(t){const e=await O.get("transactions",t);e&&(await Promise.all([O.delete("transactions",t),O.delete("entries",e.entryId),e.secondEntryId?O.delete("entries",e.secondEntryId):null]),await Promise.all([Jt(e.accountId),e.secondAccountId?Jt(e.secondAccountId):null]),it.set(await ae()))}async function Eo(t,e){const[n,r]=await Promise.all([O.get("entries",t.entryId),t.secondEntryId?O.get("entries",t.secondEntryId):null]);if(!n)return;const[a,s,o]=Ra(e,t.id,n.id,r?r.id:Xt(5));await Promise.all([O.put("transactions",a),O.put("entries",s),o?r?O.put("entries",o):O.add("entries",o):r?O.delete("entries",r.id):null]);const[c,l]=await Promise.all([Jt(a.accountId),a.secondAccountId?Jt(a.secondAccountId):null,t.secondAccountId&&t.secondAccountId!==e.secondAccountId?Jt(t.secondAccountId):null]);(c||l)&&it.set(await ae())}function mn(){return O.getAllFromIndex("accountGroups","title")}function yn(){return O.getAllFromIndex("categories","title")}function wn(){return O.getAll("currencies")}function Io(){return O.getAll("settings")}async function xo(){return(await O.getAll("rates")).reduce((e,n)=>(e[n.code]=n.rate,e),{})}async function La(t,e=!0){return(await O.getAllFromIndex("entries","accountId",t)).sort((r,a)=>r.timestamp<a.timestamp?e?1:-1:r.timestamp>a.timestamp?e?-1:1:0)}async function Co(t,e){return await O.getAllFromIndex("transactions","timestamp",IDBKeyRange.bound(t,e,!1,!0))}function ko(t){return O.get("transactions",t)}async function To(t,e){await O.put("accountGroups",{id:Xt(5),currencyCode:e,title:t}),qt.set(await mn())}async function Ao(t){await O.put("accountGroups",t),qt.set(await mn())}async function Po(t,e,n){await O.put("accounts",{id:Xt(5),title:t,groupId:e,currencyCode:n,balance:0}),it.set(await ae())}async function Oa(t,e){const n={id:Xt(5),title:t,subtitle:e};return await O.put("categories",n),Ot.set(await yn()),n}async function Na(t){await O.put("settings",t)}async function Do(t,e){const n={};await O.delete("rates",e),await Promise.all(t.map(r=>(n[r.code]=r.rate,O.put("rates",r)))),gn.set(n)}async function Lo(t){await O.put("categories",t),Ot.set(await yn())}async function Oo(t,e){await O.put("currencies",{code:t,title:e}),re.set(await wn())}async function No(t){await O.put("currencies",t),re.set(await wn())}function Ra({kind:t,accountId:e,timestamp:n,categoryId:r,secondAccountId:a,secondAmount:s,amount:o,comment:c,reconciled:l},u,f,v){const d={id:f,timestamp:n,accountId:e,...r?{categoryId:r}:{},transactionId:u,comment:c,amount:t===ot.Income?o:-o,total:0,...l?{reconciled:l}:{}};if(t===ot.Transfer&&v&&a){const p={id:v,timestamp:n,accountId:a,transactionId:u,comment:c,amount:s||o,total:0,...l?{reconciled:l}:{}};return[{id:u,kind:t,timestamp:n,accountId:e,secondAccountId:a,amount:o,...s?{secondAmount:s}:{},comment:c,entryId:d.id,secondEntryId:p.id,...l?{reconciled:l}:{}},d,p]}else return[{id:u,kind:t,timestamp:n,accountId:e,...r?{categoryId:r}:{},amount:o,comment:c,entryId:d.id,...l?{reconciled:l}:{}},d]}async function Jt(t){const e=await La(t,!1);let n=0;for(const a of e)n+=a.amount,a.total!==n&&await O.put("entries",{...a,total:n});const r=await bo(t);if(r)return r.balance!==n?(await O.put("accounts",{...r,balance:n}),!0):!1}async function Ro(t){const e=O.transaction(["entries","transactions"],"readwrite"),n=e.objectStore("entries"),r=e.objectStore("transactions"),[a,s,o]=Ra(t,Xt(5),Xt(5),Xt(5));await Promise.all([r.add(a),n.add(s),...o?[n.add(o)]:[],e.done]);const[c,l]=await Promise.all([Jt(a.accountId),a.secondAccountId?Jt(a.secondAccountId):!1]);(c||l)&&it.set(await ae())}async function ja(){const[t,e,n,r,a,s]=await Promise.all([ae(),mn(),yn(),wn(),Io(),xo()]);re.set(r),qt.set(e),it.set(t),Ot.set(n),Da.set(a);const o=jo(a);ye.set(o),delete s[o],gn.set(s)}function jo(t){for(const e of t)if(e.name===ln)return e.value;return""}async function Mo(){await wo,await ja()}const Bo=Mo();function Fo(t){function e(r){r.target instanceof Node&&t.hasAttribute("data-opened")&&(t.contains(r.target)||t.removeAttribute("data-opened"))}function n(r){r.code==="Escape"&&t.hasAttribute("data-opened")&&t.removeAttribute("data-opened")}return document.addEventListener("click",e),document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n),document.removeEventListener("click",e)}}}var Go=A('<div><div class="_2SXNm"><!></div> <div class="_27WQU" data-role="popover"><!></div></div>');function Ma(t,e){G(e,!1);let n=k(),r=L(e,"class",8,void 0),a=L(e,"clickToggle",8,!0);function s(){i(n).toggleAttribute("data-opened",!1)}function o(){i(n).toggleAttribute("data-opened",!0)}var c=Go(),l=y(c),u=ge(()=>a()?()=>{i(n).toggleAttribute("data-opened")}:null);l.__click=function(...p){var _;(_=i(u))==null||_.apply(this,p)};var f=y(l);on(f,e,"default",{});var v=x(l,2),d=y(v);return on(d,e,"content",{}),bt(c,p=>E(n,p),()=>i(n)),cn(c,p=>Fo(p)),T(()=>Ia(c,`_2LTIc ${r()??""}`)),I(t,c),Ne(e,"close",s),Ne(e,"show",o),H({close:s,show:o})}Ds(["click"]);var Ho=A('<a class="_2blFf"> </a>'),qo=A('<span class="_2YoB_"> </span>'),Uo=A('<li class="_161ne"><!></li>'),Vo=A('<ul class="_4OB04"></ul>');function Yo(t,e){G(e,!1);let n=L(e,"items",24,()=>[]);const r=ne();q();var a=Vo();Q(a,5,n,s=>s.id,(s,o)=>{var c=Uo(),l=y(c);nt(l,()=>i(o).to,u=>{var f=Ho();U(f,"draggable",!1);var v=y(f);cn(f,d=>jn(d)),T(()=>{U(f,"href",i(o).to),D(v,i(o).title)}),I(u,f)},u=>{var f=qo(),v=y(f);T(()=>D(v,i(o).title)),I(u,f)}),T(()=>U(c,"data-id",i(o).id)),V("click",c,u=>{r("menu",{id:u.currentTarget.dataset.id})}),I(s,c)}),I(t,a),H()}var zo=pn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>');function Ko(t,e){let n=L(e,"size",8,24);var r=zo();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var Wo=pn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>');function Xo(t,e){let n=L(e,"size",8,24);var r=Wo();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var Jo=pn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>');function Zo(t,e){let n=L(e,"size",8,24);var r=Jo();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var Qo=A('<a class="_3SB3X"><!></a>'),ti=A('<a class="_3SB3X"><!></a>'),ei=A('<header class="_2Jb6S"><div class="_1J780"><!></div> <h1 class="_17FA5"> </h1> <div class="_3ifcR"><!> <!></div></header>');function vt(t,e){G(e,!1);let n=L(e,"title",8),r=L(e,"returnPath",8,void 0),a=L(e,"addPath",8,void 0),s=L(e,"menuItems",8,null),o=k(null);const c=ne();q();var l=ei(),u=y(l),f=y(u);nt(f,r,S=>{var $=Qo();U($,"draggable",!1);var b=y($);Ko(b,{}),cn($,w=>jn(w)),T(()=>U($,"href",r())),I(S,$)});var v=x(u,2),d=y(v),p=x(v,2),_=y(p);nt(_,a,S=>{var $=ti();U($,"draggable",!1);var b=y($);Xo(b,{}),cn($,w=>jn(w)),T(()=>U($,"href",a())),I(S,$)});var m=x(_,2);nt(m,s,S=>{bt(Ma(S,{class:"_1qXOD",children:($,b)=>{Zo($,{})},$$slots:{default:!0,content:($,b)=>{Yo($,{slot:"content",get items(){return s()},$$events:{menu:w=>{i(o).close(),c("menu",{id:w.detail.id})}}})}},$$legacy:!0}),$=>E(o,$),()=>i(o))}),T(()=>D(d,n())),I(t,l),H()}var ni=A('<main class="_2HUC4"><!> <!></main>');function _t(t,e){var n=ni(),r=y(n);on(r,e,"header",{});var a=x(r,2);on(a,e,"default",{}),I(t,n)}const ri=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function jr(t){const e=t.getTimezoneOffset()*6e4,n=new Date(t.getTime()-e),r=n.getFullYear(),a=String(n.getUTCMonth()+1).padStart(2,"0"),s=String(n.getUTCDate()).padStart(2,"0"),o=String(n.getUTCHours()).padStart(2,"0"),c=String(n.getUTCMinutes()).padStart(2,"0");return`${r}-${a}-${s}T${o}:${c}`}function or(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),o=String(r.getUTCDate()).padStart(2,"0"),c=String(r.getUTCHours()).padStart(2,"0"),l=String(r.getUTCMinutes()).padStart(2,"0");return`${a}-${s}-${o} ${c}:${l}`}function ai(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getUTCFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),o=String(r.getUTCDate()).padStart(2,"0"),c=ri[r.getUTCDay()];return`${a}-${s}-${o} ${c}`}function si(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0");return`${a}:${s}`}function An(t){return/^[1-9]\d*([.,](\d{1,2})?)?$/.test(t)}function Pn(t){if(/[.,]/.test(t)){let[e,n]=t.split(/[.,]/);return n.trim()===""?parseInt(e)*100:(n.length===1&&(n=n+"0"),parseInt(e+n))}else return parseInt(t)*100}function gt(t,e,n){t=Math.round(t);const r=t<0?Math.ceil(t/100):Math.floor(t/100),a=Math.abs(t%100);return(n&&t>0?"+":"")+`${e?oi(r):r}.${String(a).padStart(2,"0")}`}function ir(t,e){const n=Cr(gn),r=Cr(ye),a=n[t]?n[t]:1;return e===r?a:n[e]?a/n[e]:1}function oi(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function ii(t,e){return t.reduce((n,r)=>(r.currencyCode===e?n+=r.balance:n+=r.balance*ir(r.currencyCode,e),n),0)}function ci(t,e){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,a.click(),URL.revokeObjectURL(r)}function li(t){const e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!1,e.onchange=()=>{const n=e.files[0];if(n){const r=new FileReader;r.onload=function(){t(r.result)},r.readAsText(n)}},e.click()}function ui(t){try{return JSON.parse(t)}catch{return console.warn("JSON parsing failed."),null}}async function fi(){const[t,e,n,r,a,s,o,c]=await Promise.all([wn(),mn(),ae(),yn(),O.getAll("transactions"),O.getAll("entries"),O.getAll("settings"),O.getAll("rates")]);return{ver:or(Date.now()),currencies:t,accountGroups:e,accounts:n,categories:r,transactions:a,entries:s,settings:o,rates:c}}async function di(t){if(!confirm("All the data will be overwritten. Are you sure you want to continue?"))return!1;if(vi(t)){const e=O.transaction(["currencies","accountGroups","accounts","categories","transactions","entries","settings","rates"],"readwrite");await Promise.all([e.objectStore("currencies").clear(),e.objectStore("accountGroups").clear(),e.objectStore("accounts").clear(),e.objectStore("categories").clear(),e.objectStore("transactions").clear(),e.objectStore("entries").clear(),e.objectStore("settings").clear(),e.objectStore("rates").clear()]);for(const n of t.currencies)await e.objectStore("currencies").put(n);for(const n of t.accountGroups)await e.objectStore("accountGroups").put(n);for(const n of t.accounts)await e.objectStore("accounts").put(n);for(const n of t.categories)await e.objectStore("categories").put(n);for(const n of t.transactions)await e.objectStore("transactions").put(n);for(const n of t.entries)await e.objectStore("entries").put(n);for(const n of t.settings)await e.objectStore("settings").put(n);for(const n of t.rates)await e.objectStore("rates").put(n);return await e.done,!0}else return alert("Invalid snapshot format."),!1}function vi(t){return!(!t.ver||!t.currencies||!t.accountGroups||!t.categories||!t.categories||!t.transactions||!t.entries)}var _i=A('<div class="_2kBg8" data-role="account"><div class="_1gfEY"><span class="_3HVLl"> </span> <span> </span></div></div>');function pi(t,e){G(e,!1);let n=L(e,"account",8),r=L(e,"editing",8,!1);const a=ne();q();var s=_i(),o=y(s),c=y(o),l=y(c),u=x(c,2),f=y(u);T(()=>D(f,`${gt(n().balance,!0)??""} ${n().currencyCode??""}`)),T(()=>D(l,n().title)),V("click",s,()=>{r()||a("account",{id:n().id})}),I(t,s),H()}var hi=A('<div><div class="FmXIb"><span class="_2RwqA"> </span> <span> </span></div> <!></div>');function gi(t,e){G(e,!1);const n=z(),r=()=>F(it,"$accounts",n),a=k(),s=k();let o=L(e,"accountGroup",8);ht(()=>(r(),me(o())),()=>{E(a,r().filter(_=>_.groupId===o().id))}),ht(()=>(i(a),me(o())),()=>{E(s,ii(i(a),o().currencyCode))}),Gt(),q();var c=hi(),l=y(c),u=y(l),f=y(u),v=x(u,2),d=y(v);T(()=>D(d,`${gt(i(s),!0)??""} ${o().currencyCode??""}`));var p=x(l,2);Q(p,1,()=>i(a),_=>_.id,(_,m)=>{pi(_,{get account(){return i(m)},$$events:{account:S=>{J(`/accounts/${S.detail.id}`)}}})}),T(()=>D(f,o().title)),I(t,c),H()}const mi=[{id:"groups",title:"Account Groups",to:"/groups"},{id:"category",title:"Categories",to:"/categories"},{id:"report",title:"Report",to:"/report"},{id:"currency",title:"Currencies",to:"/currencies"},{id:"rates",title:"Rates",to:"/rates"},{id:"backup",title:"Backup"},{id:"restore",title:"Restore"}];var yi=A('<!> <div class="_3c4Tf"><div>Total</div> <div class="_2wBv"> </div></div>',1);function wi(t,e){G(e,!0);const n=z(),r=()=>F(it,"$accounts",n),a=()=>F(ye,"$baseCurrencyCode",n),s=()=>F(qt,"$accountGroups",n);let o=ge(()=>r().reduce((c,l)=>(l.currencyCode===a()?c+=l.balance:c+=l.balance*ir(l.currencyCode,a()),c),0));_t(t,{children:(c,l)=>{var u=yi(),f=Y(u);Q(f,1,s,Dt,(_,m)=>{gi(_,{get accountGroup(){return i(m)}})});var v=x(f,2),d=x(y(v),2),p=y(d);T(()=>D(p,`${gt(i(o),!0)??""}
      ${(a()||"")??""}`)),I(c,u)},$$slots:{default:!0,header:(c,l)=>{vt(c,{slot:"header",title:"Accounts",addPath:"/accounts/new",menuItems:mi,$$events:{menu:u=>{switch(u.detail.id){case"backup":fi().then(f=>{ci(f,`acc-${or(Date.now())}.json`)});break;case"restore":li(f=>{const v=ui(f);v&&di(v).then(d=>{d&&ja()})});break}}}})}}}),H()}var bi=A('<div class="_3JK5K"> </div>');function $i(t,e){G(e,!1);const n=z(),r=()=>F(qt,"$accountGroups",n);function a(s){s.target instanceof HTMLElement&&s.target.dataset.id&&J(`/groups/${s.target.dataset.id}`)}q(),_t(t,{children:(s,o)=>{var c=dt(),l=Y(c);Q(l,1,r,u=>u.id,(u,f)=>{var v=bi(),d=y(v);T(()=>{U(v,"data-id",i(f).id),D(d,i(f).title)}),V("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{vt(s,{slot:"header",title:"Account Groups",returnPath:"/",addPath:"/groups/new"})}}}),H()}var Si=A("} <option> </option>",1),Ei=A('<select class="_1kHx0" required><option disabled selected hidden> </option><!></select>');function bn(t,e){const n=z(),r=()=>F(re,"$currencies",n);let a=L(e,"currencyCode",12),s=L(e,"placeholder",8,"Currency");var o=Ei();T(()=>{a(),er(()=>{s(),r()})});var c=y(o);c.value=((c.__value="")==null,"");var l=y(c),u=x(c);Q(u,1,r,({code:f,title:v})=>f,(f,v)=>{let d=()=>i(v).code,p=()=>i(v).title;var _=Si(),m=x(Y(_)),S={},$=y(m);T(()=>{S!==(S=d())&&(m.value=(m.__value=d())==null?"":d()),D($,`${d()??""}
      ${p()??""}`)}),I(f,_)}),T(()=>D(l,s())),rr(o,a),I(t,o)}var Ii=A('<form class="_3RSQr"><div><!></div> <div><input class="_3xyX_" type="text" placeholder="Title"></div> <div><button class="_2G9AC" type="submit"></button></div></form>');function Mr(t,e){G(e,!1);const n=z(),r=()=>F(qt,"$accountGroups",n);let a=L(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(d=>d.id===s):null,c=k(o?o.title:""),l=k(o?o.currencyCode:void 0),u=k(),f=k(!1);Ie(()=>{i(u).focus()});function v(){i(c).trim()&&i(l)?(E(f,!0),o?Ao({...o,title:i(c).trim(),currencyCode:i(l)}).then(()=>{J("/groups")}).finally(()=>{E(f,!1)}):To(i(c),i(l)).then(()=>{J("/groups")}).finally(()=>{E(f,!1)})):alert("All fields must be specified.")}q(),_t(t,{children:(d,p)=>{var _=Ii(),m=y(_),S=y(m);bn(S,{get currencyCode(){return i(l)},set currencyCode(g){E(l,g)},$$legacy:!0});var $=x(m,2),b=y($);bt(b,g=>E(u,g),()=>i(u));var w=x($,2),h=y(w);h.textContent=o?"Save":"Create",T(()=>{b.disabled=i(f),h.disabled=i(f)}),ft(b,()=>i(c),g=>E(c,g)),V("submit",_,Ht(v)),I(d,_)},$$slots:{default:!0,header:(d,p)=>{vt(d,{slot:"header",title:o?"Account Group":"New Account Group",returnPath:"/groups"})}}}),H()}var xi=A("<option> </option>"),Ci=A('<select class="_2Ge4O" required><option class="placeholder" disabled selected hidden>Account Group</option><!></select>');function ki(t,e){const n=z(),r=()=>F(qt,"$accountGroups",n);let a=L(e,"groupId",12);var s=Ci();T(()=>{a(),er(()=>{r()})});var o=y(s);o.value=((o.__value="")==null,"");var c=x(o);Q(c,1,r,Dt,(l,u)=>{var f=xi(),v={},d=y(f);T(()=>{v!==(v=i(u).id)&&(f.value=(f.__value=i(u).id)==null?"":i(u).id),D(d,i(u).title)}),I(l,f)}),rr(s,a),I(t,s)}var Ti=A('<form><div><!></div> <div><!></div> <div><input class="_3hIGg" type="text" placeholder="Title"></div> <div><button class="J-mxG" type="submit"> </button></div></form>');function Br(t,e){G(e,!1);let n=L(e,"accountDoc",8,null),r=L(e,"class",8,void 0),a=n()||{},s=k(a.groupId),o=k(a.currencyCode),c=k(Ze(a.title,"")),l=k(!1),u=k();const f=ne();function v(){i(c).trim()&&i(s)&&i(o)?(E(l,!0),f("save",{groupId:i(s),currencyCode:i(o),title:i(c)})):alert("Must fill all fields.")}Ie(()=>{i(u)&&i(u).focus()}),q();var d=Ti(),p=y(d),_=y(p);ki(_,{get groupId(){return i(s)},set groupId(P){E(s,P)},$$legacy:!0});var m=x(p,2),S=y(m);bn(S,{get currencyCode(){return i(o)},set currencyCode(P){E(o,P)},$$legacy:!0});var $=x(m,2),b=y($);bt(b,P=>E(u,P),()=>i(u));var w=x($,2),h=y(w),g=y(h);T(()=>{Ia(d,`_2Na6L ${r()??""}`),b.disabled=i(l),h.disabled=i(l),D(g,n()?"Save":"Create")}),ft(b,()=>i(c),P=>E(c,P)),V("submit",d,Ht(v)),I(t,d),H()}function Fr(t,e){G(e,!1);const n=z(),r=()=>F(it,"$accounts",n);let a=L(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(l=>l.id===s):null;function c(l){const{title:u,groupId:f,currencyCode:v}=l.detail;s?$o({...o,title:u,groupId:f,currencyCode:v}).then(()=>{J("/")}):Po(u,f,v).then(()=>{J("/")})}q(),_t(t,{children:(l,u)=>{var f=dt(),v=Y(f);nt(v,()=>s,d=>{Br(d,{class:"_1tO9D",accountDoc:o,$$events:{save:c}})},d=>{Br(d,{class:"_1tO9D",$$events:{save:c}})}),I(l,f)},$$slots:{default:!0,header:(l,u)=>{var f=Zt(()=>s?o==null?void 0:o.title:"New Account");vt(l,{slot:"header",get title(){return i(f)},returnPath:"/"})}}}),H()}var Ai=A('<span class="_12oY6"> </span>'),Pi=A('<div class="_3ieFT"><div class="_1RLk7"><div class="_3ibZX"><span class="BRMlm"> </span> <!></div> <div class="_2uKiq"> </div></div> <div class="_3_MwA"><div class="mm7AA"> </div> <div class="_1e2eL"> </div></div></div>');function Di(t,e){G(e,!1);const n=z(),r=()=>F(Ot,"$categoires",n),a=k();let s=L(e,"entry",8);const o=ne();ht(()=>(me(s()),r()),()=>{E(a,s().categoryId?r().find(h=>h.id===s().categoryId):null)}),Gt(),q();var c=Pi(),l=y(c),u=y(l),f=y(u),v=y(f),d=x(f,2);nt(d,()=>i(a),h=>{var g=Ai(),P=y(g);T(()=>D(P,`${i(a).title??""}${(i(a).subtitle?`:${i(a).subtitle}`:"")??""}`)),I(h,g)});var p=x(u,2),_=y(p);T(()=>D(_,gt(s().amount,!0,!0)));var m=x(l,2),S=y(m),$=y(S);T(()=>D($,si(s().timestamp)));var b=x(S,2),w=y(b);T(()=>D(w,gt(s().total,!0))),T(()=>{Qt(c,"GILTz",s().reconciled),D(v,s().comment),Qt(p,"_2TC9s",s().amount>0)}),V("click",c,()=>{o("transaction",{id:s().transactionId})}),I(t,c),H()}var Li=A('<div class="_1kipO"><span class="ZZvPT"> </span> <span class="_3Hag4"> </span></div> <!>',1);function Oi(t,e){G(e,!1);const n=z(),r=()=>F(it,"$accounts",n),a=k();let s=L(e,"params",8);const{id:o}=s();let c=k({}),l=k();La(o).then(f=>{(f==null?void 0:f.length)>0&&E(l,f[0].timestamp),E(c,f.reduce((v,d)=>{const p=ai(d.timestamp);return v[p]?v[p].entries.push(d):v[p]={entries:[d],total:0},v},{}));for(const v of Object.values(i(c)))v.total=v.entries.reduce((d,p)=>(d+=p.amount,d),0)});const u=[{id:"edit",title:"Edit",to:`/accounts/${o}/edit`}];ht(()=>r(),()=>{E(a,r().find(f=>f.id===o))}),Gt(),q(),_t(t,{children:(f,v)=>{var d=dt(),p=Y(d);Q(p,1,()=>Object.keys(i(c)),Dt,(_,m)=>{var S=Li(),$=Y(S),b=y($),w=y(b),h=x(b,2),g=y(h);T(()=>D(g,gt(i(c)[i(m)].total,!0,!0)));var P=x($,2);Q(P,1,()=>i(c)[i(m)].entries,C=>C.id,(C,N)=>{Di(C,{get entry(){return i(N)},$$events:{transaction:Z=>{J(`/accounts/${o}/transactions/${Z.detail.id}`)}}})}),T(()=>D(w,i(m))),I(_,S)}),I(f,d)},$$slots:{default:!0,header:(f,v)=>{var d=Zt(()=>i(a)?i(a).title:"Not Found"),p=Zt(()=>`/accounts/${o??""}/transactions/new${(i(l)?`?t=${i(l)}`:"")??""}`);vt(f,{slot:"header",get title(){return i(d)},returnPath:"/",get addPath(){return i(p)},menuItems:u})}}}),H()}var Ni=A('<div class="_1Hdo"> </div>');function Ri(t,e){G(e,!1);const n=z(),r=()=>F(Ot,"$categoires",n);function a(s){if(s.target.dataset.id){const o=s.target.dataset.id;J(`/categories/${o}`)}}q(),_t(t,{children:(s,o)=>{var c=dt(),l=Y(c);Q(l,1,r,u=>u.id,(u,f)=>{var v=Ni(),d=y(v);T(()=>{U(v,"data-id",i(f).id),D(d,`${i(f).title??""}${(i(f).subtitle?`:${i(f).subtitle}`:"")??""}`)}),V("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{vt(s,{slot:"header",title:"Categories",returnPath:"/",addPath:"/categories/new"})}}}),H()}var ji=A('<form class="_1JFP_"><div>Base currency: <!></div> <div><button class="_19-gA" type="submit">Save</button></div></form>');function Mi(t,e){var o;G(e,!1);const n=z();let a=k((o=F(Da,"$settings",n).find(c=>c.name===ln))==null?void 0:o.value);function s(){Na({name:ln,value:i(a)}).then(()=>{J("/")})}q(),_t(t,{children:(c,l)=>{var u=ji(),f=y(u),v=x(y(f));bn(v,{get currencyCode(){return i(a)},set currencyCode(d){E(a,d)},placeholder:"Base Currency",$$legacy:!0}),V("submit",u,Ht(s)),I(c,u)},$$slots:{default:!0,header:(c,l)=>{vt(c,{slot:"header",title:"Settings",returnPath:"/"})}}}),H()}var Bi=A('<div class="_3HmHC" data-role="item"><div class="_4jwya"> </div> <div class="_1GjZM"> </div></div>');function Fi(t,e){G(e,!1);const n=z(),r=()=>F(re,"$currencies",n);function a(s){if(s.target instanceof HTMLElement){const o=s.target.closest('[data-role="item"]');o instanceof HTMLElement&&o.dataset.code&&J(`/currencies/${o.dataset.code}`)}}q(),_t(t,{children:(s,o)=>{var c=dt(),l=Y(c);Q(l,1,r,u=>u.code,(u,f)=>{var v=Bi(),d=y(v),p=y(d),_=x(d,2),m=y(_);T(()=>{U(v,"data-code",i(f).code),D(p,i(f).code),D(m,i(f).title)}),V("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{vt(s,{slot:"header",title:"Currencies",returnPath:"/",addPath:"/currencies/new"})}}}),H()}var Gi=A('<div><div> </div> <div class="gqdmv"><input class="_234LA" type="text"> <span> </span></div></div>'),Hi=A('<form class="_1SqME"><div>Base currency: <!></div> <!> <div><button class="_3vC8G" type="submit">Save</button></div></form>');function qi(t,e){G(e,!1);const n=z(),r=()=>F(ye,"$baseCurrencyCode",n),a=()=>F(re,"$currencies",n),s=()=>F(gn,"$rates",n);let o=k(r()),c=k(a().reduce((d,{code:p})=>(d[p]=String(s()[p]||1),d),{}));function l(){const d=u();if(d){alert(d);return}const p=a().filter(({code:_})=>_!==i(o)).map(({code:_})=>({code:_,rate:v(i(c)[_])}));Na({name:ln,value:i(o)}).then(()=>(Ks(ye,i(o)),Do(p,i(o)))).then(()=>{J("/")})}function u(){for(const[d,p]of Object.entries(i(c)))if(!f(p)){const _=document.getElementById(d);return _&&_.focus(),`Invalid rate for ${d}`}return""}function f(d){return/^([1-9]\d*|[0])([.,]\d+)?$/.test(d)}function v(d){return parseFloat(d.replace(",","."))}return q(),_t(t,{children:(d,p)=>{var _=Hi(),m=y(_),S=x(y(m));bn(S,{get currencyCode(){return i(o)},set currencyCode(b){E(o,b)},placeholder:"Base Currency",$$legacy:!0});var $=x(m,2);Q($,1,a,Dt,(b,w)=>{let h=()=>i(w).code;var g=dt(),P=Y(g);nt(P,()=>h()!==i(o),C=>{var N=Gi(),Z=y(N),K=y(Z),W=x(Z,2),X=y(W);const at=Zt(()=>!f(i(c)[h()]));var ct=x(X,2),pt=y(ct);T(()=>{D(K,`${h()??""}:`),U(X,"id",h()),Qt(X,"_2j9gN",i(at)),D(pt,i(o))}),ft(X,()=>i(c)[h()],Et=>rn(c,i(c)[h()]=Et)),I(C,N)}),I(b,g)}),V("submit",_,Ht(l)),I(d,_)},$$slots:{default:!0,header:(d,p)=>{vt(d,{slot:"header",title:"Rates",returnPath:"/"})}}}),Ne(e,"validateRate",f),Ne(e,"parseRate",v),H({validateRate:f,parseRate:v})}var Ui=A('<div class="_1rD4x"><span class="_31Wp_"> </span> <span> </span></div> <!>',1),Vi=A("<div></div>");function qn(t,e){G(e,!1);let n=L(e,"cat",8),r=L(e,"nested",8,!1),a=L(e,"ondocs",8,void 0);q();var s=Vi();Q(s,5,()=>n().sorted,Dt,(o,c)=>{var l=Ui(),u=Y(l),f=y(u),v=y(f),d=x(f,2),p=y(d);T(()=>D(p,gt(i(c).total,!0)));var _=x(u,2);nt(_,()=>i(c).sorted,m=>{var S=dt(),$=Y(S);qn($,{get cat(){return i(c)},nested:!0,get ondocs(){return a()}}),I(m,S)}),T(()=>{Qt(u,"_3eEr8",r()),D(v,i(c).title)}),V("click",u,()=>{var m;(m=a())==null||m(i(c).docs)}),I(o,l)}),I(t,s),H()}var Yi=A('<div class="_3fR1c"><span class="_1w7Yp">Income</span> <span> </span></div> <!>',1),zi=A('<div class="_3fR1c"><span class="_1w7Yp">Expenses</span> <span> </span></div> <!>',1),Ki=A('<span class="_2udZu"> </span>'),Wi=A('<div class="_2p4A6"><div class="_2ugfg"><span class="comment"> </span> <span class="Cuy75"> </span> &nbsp; <span> </span></div> <div class="_2tCf7"><!> <span class="_1u25y"> </span></div></div>'),Xi=A('<div class="_2rfJl"><div class="_20g6"><div class="_3fR1c"><h2>Transactions</h2> <button class="_1vDoy">X</button></div> <!></div></div>'),Ji=A('<div class="af3Ku"><input class="_35Y9x" type="month"></div> <!> <!> <!>',1);function Zi(t,e){G(e,!1);const n=z(),r=()=>F(Ot,"$categoires",n),a=()=>F(it,"$accounts",n),s=()=>F(ye,"$baseCurrencyCode",n),o=new Date;let c=k(`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}`),l=k(null),u=k(null),f=k(null);const v=r().reduce((b,w)=>(b[w.id]=w,b),{}),d=a().reduce((b,w)=>(b[w.id]=w,b),{});function p(b){const[w,h]=b.split("-"),g=new Date(parseInt(w),parseInt(h)-1,1).getTime(),P=new Date(parseInt(w),parseInt(h),1).getTime();Co(g,P).then(C=>{const N=C.filter(K=>K.kind===ot.Income),Z=C.filter(K=>K.kind===ot.Expense);E(l,_(N)),E(u,_(Z)),m(i(l)),m(i(u))})}function _(b){return b.reduce((w,h)=>{const g=v[h.categoryId];return g&&(w.cats[g.title]||(w.cats[g.title]={title:g.title,cats:{},docs:[],total:0}),w.cats[g.title].total+=$(h),w.cats[g.title].docs.push(h),g.subtitle&&(w.cats[g.title].cats[g.subtitle]||(w.cats[g.title].cats[g.subtitle]={title:g.subtitle,docs:[],total:0}),w.cats[g.title].cats[g.subtitle].total+=$(h),w.cats[g.title].cats[g.subtitle].docs.push(h))),w.total+=$(h),w},{cats:{},docs:[],total:0})}function m(b){b.cats&&(b.sorted=Object.values(b.cats).sort((w,h)=>h.total-w.total),b.sorted.forEach(w=>{w.cats&&m(w)}))}function S(b){E(f,b),document.documentElement.style.setProperty("overflow","hidden")}function $(b){const w=d[b.accountId];return w&&w.currencyCode!==s()?b.amount*ir(w.currencyCode,s()):b.amount}ht(()=>i(c),()=>{p(i(c))}),Gt(),q(),_t(t,{children:(b,w)=>{var h=Ji(),g=Y(h),P=y(g),C=x(g,2);nt(C,()=>i(l),K=>{var W=Yi(),X=Y(W),at=x(y(X),2),ct=y(at);T(()=>D(ct,gt(i(l).total,!0)));var pt=x(X,2);qn(pt,{get cat(){return i(l)},ondocs:S}),I(K,W)});var N=x(C,2);nt(N,()=>i(u),K=>{var W=zi(),X=Y(W),at=x(y(X),2),ct=y(at);T(()=>D(ct,gt(i(u).total,!0)));var pt=x(X,2);qn(pt,{get cat(){return i(u)},ondocs:S}),I(K,W)});var Z=x(N,2);nt(Z,()=>i(f),K=>{var W=Xi(),X=y(W),at=y(X),ct=x(y(at),2),pt=x(at,2);Q(pt,1,()=>i(f),Dt,(Et,tt)=>{var Ut=Wi(),xe=y(Ut),qe=y(xe),Ue=y(qe),Ce=x(qe,2),ke=y(Ce);T(()=>D(ke,gt(i(tt).kind===ot.Expense?-i(tt).amount:i(tt).amount,!0,!0)));var $n=x(Ce,2),Ve=y($n),Ye=x(xe,2),ze=y(Ye);nt(ze,()=>v[i(tt).categoryId],se=>{var Te=Ki(),En=y(Te);T(()=>D(En,`${v[i(tt).categoryId].title}${v[i(tt).categoryId].subtitle?`:${v[i(tt).categoryId].subtitle}`:""}`)),I(se,Te)});var Ke=x(ze,2),Sn=y(Ke);T(()=>D(Sn,or(i(tt).timestamp))),T(()=>{var se;D(Ue,i(tt).comment),D(Ve,(se=d[i(tt).accountId])==null?void 0:se.currencyCode)}),I(Et,Ut)}),V("click",ct,Et=>{E(f,null),document.documentElement.style.removeProperty("overflow")}),I(K,W)}),ft(P,()=>i(c),K=>E(c,K)),I(b,h)},$$slots:{default:!0,header:(b,w)=>{vt(b,{slot:"header",title:"Report",returnPath:"/"})}}}),H()}var Qi=A('<form class="_2sHk9"><div class="_1F3oU"><input type="text" placeholder="Title"></div> <div class="_1F3oU"><input type="text" placeholder="Subtitle (optional)"></div> <div class="_1F3oU"><button type="submit"></button></div></form>');function Gr(t,e){G(e,!1);const n=z(),r=()=>F(Ot,"$categoires",n);let a=L(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(v=>v.id===s):null,c=k(o?o.title:""),l=k(o?o.subtitle:""),u=k();Ie(()=>{i(u)&&i(u).focus()});function f(){i(c).trim()?o?Lo({...o,title:i(c).trim(),subtitle:i(l).trim()}).then(()=>{J("/categories")}):Oa(i(c).trim(),i(l).trim()).then(()=>{J("/categories")}):alert("The title must be specified.")}q(),_t(t,{children:(v,d)=>{var p=Qi(),_=y(p),m=y(_);bt(m,h=>E(u,h),()=>i(u));var S=x(_,2),$=y(S),b=x(S,2),w=y(b);w.textContent=o?"Save":"Create",ft(m,()=>i(c),h=>E(c,h)),ft($,()=>i(l),h=>E(l,h)),V("submit",p,Ht(f)),I(v,p)},$$slots:{default:!0,header:(v,d)=>{vt(v,{slot:"header",title:o?"Category":"New Category",returnPath:"/categories"})}}}),H()}var tc=A('<form><div class="EbSwc"><input type="text" placeholder="Code"></div> <div class="EbSwc"><input type="text" placeholder="Title"></div> <div class="EbSwc"><button type="submit"></button></div></form>');function Hr(t,e){G(e,!1);const n=z(),r=()=>F(re,"$currencies",n);let a=L(e,"params",24,()=>({}));const{cid:s}=a();let o=s?r().find(d=>d.code===s):null,c=k(o?o.code:""),l=k(o?o.title:""),u=k(),f=k();function v(){i(c).trim()&&i(l).trim()?o?No({...o,title:i(l).trim()}).then(()=>{J("/currencies")}):Oo(i(c).trim(),i(l).trim()).then(()=>{J("/currencies")}):alert("Code and title must be specified.")}Ie(()=>{o?i(f)&&i(f).focus():i(u)&&i(u).focus()}),q(),_t(t,{children:(d,p)=>{var _=tc(),m=y(_),S=y(m);S.disabled=o!==null,bt(S,g=>E(u,g),()=>i(u));var $=x(m,2),b=y($);bt(b,g=>E(f,g),()=>i(f));var w=x($,2),h=y(w);h.textContent=o?"Save":"Add",ft(S,()=>i(c),g=>E(c,g)),ft(b,()=>i(l),g=>E(l,g)),V("submit",_,Ht(v)),I(d,_)},$$slots:{default:!0,header:(d,p)=>{vt(d,{slot:"header",title:o?"Currency":"New Currency",returnPath:"/currencies"})}}}),H()}var ec=A("<option> </option>"),nc=A("<optgroup></optgroup>"),rc=A('<select class="_1vWtV" required><option disabled selected hidden> </option><!></select>');function ac(t,e){G(e,!1);const n=z(),r=()=>F(qt,"$accountGroups",n),a=()=>F(it,"$accounts",n),s=k();let o=L(e,"accountId",12),c=L(e,"placeholder",8,"Account");ht(()=>(r(),a()),()=>{E(s,r().reduce((d,p)=>{const _={title:p.title,accounts:a().filter(m=>m.groupId===p.id)};return d.push(_),d},[]))}),Gt(),q();var l=rc();T(()=>{o(),er(()=>{c(),i(s)})});var u=y(l);u.value=((u.__value="")==null,"");var f=y(u),v=x(u);Q(v,1,()=>i(s),Dt,(d,p)=>{var _=nc();Q(_,5,()=>i(p).accounts,Dt,(m,S)=>{var $=ec(),b={},w=y($);T(()=>{b!==(b=i(S).id)&&($.value=($.__value=i(S).id)==null?"":i(S).id),D(w,i(S).title)}),I(m,$)}),T(()=>U(_,"label",i(p).title)),I(d,_)}),T(()=>D(f,c())),rr(l,o),I(t,l),H()}var sc=A("<span> </span>"),oc=A('<div class="_2dieg"></div>');function ic(t,e){let n=L(e,"kind",12);function r(s){s.target instanceof HTMLSpanElement&&(console.log("kind:",s.target.dataset.value),n(s.target.dataset.value))}var a=oc();Q(a,5,()=>yo,Dt,(s,o)=>{var c=sc(),l=y(c);T(()=>{U(c,"data-value",i(o).value),Qt(c,"_1zm3o",i(o).value===n()),D(l,i(o).title)}),V("pointerdown",c,r),I(s,c)}),I(t,a)}var cc=A('<input class="_1LWF4" type="text" placeholder="Category">'),lc=A("<li> </li>"),uc=A('<li class="_1FJls">Empty</li>'),fc=A('<ul class="_2VAoI" slot="content"></ul>');function dc(t,e){G(e,!1);const n=z(),r=()=>F(Ot,"$categoires",n);let a=L(e,"categoryId",12),s=k(),o=k();function c(p){return`${p.title}${p.subtitle?`:${p.subtitle}`:""}`}function l(){a(""),f("")}let u=a()?r().find(p=>p.id===a()):null,f=L(e,"value",28,()=>u?c(u):"");function v(p){if(p.target instanceof HTMLLIElement){a(p.target.dataset.id),i(s).close();const _=r().find(m=>m.id===a());_&&f(c(_))}}function d(){const p=r().find(_=>i(o).value.trim().toLocaleLowerCase()===c(_).toLocaleLowerCase());p?(a(p.id),rn(o,i(o).value=c(p))):a("")}return q(),bt(Ma(t,{class:"_3pEZc",clickToggle:!0,children:(p,_)=>{var m=cc();bt(m,S=>E(o,S),()=>i(o)),ft(m,f),V("input",m,d),I(p,m)},$$slots:{default:!0,content:(p,_)=>{var m=fc();Q(m,5,()=>a()?r():r().filter($=>`${$.title}:${$.subtitle}`.toLowerCase().includes(f().trim().toLowerCase())),$=>$.id,($,b)=>{var w=lc(),h=y(w);T(()=>{U(w,"data-id",i(b).id),Qt(w,"_2P4tM",i(b).id===a()),D(h,`${i(b).title??""}${(i(b).subtitle?`:${i(b).subtitle}`:"")??""}`)}),I($,w)},$=>{var b=uc();I($,b)}),V("click",m,v),I(p,m)}},$$legacy:!0}),p=>E(s,p),()=>i(s)),Ne(e,"clear",l),H({clear:l})}var vc=pn('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"></path><path d="M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path></svg>');function _c(t,e){let n=L(e,"size",8,24);var r=vc();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var pc=A('<div class="_3QCzM"><div><span data-key="1">1</span> <span data-key="2">2</span> <span data-key="3">3</span></div> <div><span data-key="4">4</span> <span data-key="5">5</span> <span data-key="6">6</span></div> <div><span data-key="7">7</span> <span data-key="8">8</span> <span data-key="9">9</span></div> <div><span data-key="&lt;"><!></span> <span data-key="0">0</span> <span data-key=".">.</span></div></div>');function hc(t,e){G(e,!1);let n=L(e,"onkey",8);function r(l){l.target instanceof HTMLSpanElement&&l.target.dataset.key&&n()(l.target.dataset.key)}q();var a=pc(),s=x(y(a),6),o=y(s),c=y(o);_c(c,{size:24}),V("pointerdown",a,Ht(function(l){Rn.call(this,e,l)})),V("pointerup",a,r),I(t,a),H()}var gc=A('<div class="_1fJps"><!> <button class="_2s0aU" type="button">Clear</button></div>'),mc=A('<div> <input class="_3vVTM" type="text"></div>'),yc=A('<form class="_3MplV"><div><!></div> <div class="_12bGJ"><input class="_3vVTM" type="datetime-local"> <button class="_3SrK" type="button">Now</button></div> <div><!></div> <div> <input class="_3vVTM" type="text"></div> <!> <div><input class="_3vVTM" type="text" placeholder="Comment"></div> <div><label class="vaIrc"><input type="checkbox"> Reconciled</label></div> <!> <div><button class="_2GmYK _1KaG" type="submit"> </button></div></form>');function qr(t,e){var cr,lr;G(e,!1);const n=z(),r=()=>F(it,"$accounts",n),a=()=>F(Ot,"$categoires",n),s=k(),o=k(),c=k(),l=k();let u=L(e,"accountId",8),f=L(e,"transactionDoc",8,null),v=L(e,"defaultTimestamp",8,null),d=k(),p=k(),_=k();Ie(()=>{i(p)});let m=f()||{},S=k(Ze(m.kind,()=>ot.Expense,!0)),$=k(m.categoryId),b=k(m.secondAccountId),w=k(Ze(m.comment,"")),h=k(Ze(m.reconciled,!1)),g=k(jr(new Date(((cr=f())==null?void 0:cr.timestamp)||v()||Date.now()))),P=k(f()?gt(f().amount):""),C=k((lr=f())!=null&&lr.secondAmount?gt(f().secondAmount):"");const N=ne();async function Z(){const j=K();if(j){alert(j);return}if(i(S)!==ot.Transfer&&!i($)&&i(_).trim()!==""){const[Nt,Vt=""]=i(_).trim().split(":");if(!a().find(We=>We.title===Nt&&We.subtitle===Vt)){const We=await Oa(Nt,Vt);E($,We.id)}}const Tt=i(S)===ot.Transfer?{kind:i(S),timestamp:new Date(i(g)).getTime(),accountId:u(),secondAccountId:i(b),...i(l)?{secondAmount:Pn(i(C))}:{},amount:Pn(i(P)),comment:i(w).trim(),...i(h)?{reconciled:!0}:{}}:{kind:i(S),timestamp:new Date(i(g)).getTime(),accountId:u(),categoryId:i($)||void 0,amount:Pn(i(P)),comment:i(w).trim(),...i(h)?{reconciled:!0}:{}};N("save",{params:Tt})}function K(){if(!An(i(P)))return"Invalid amount";if(i(S)===ot.Transfer){if(!i(b))return"Must choose the second account";if(i(b)===u())return"Cannot transfer to the same account";if(i(l)&&!An(i(C)))return"Invalid second amount"}return""}function W(){i(d).clear()}function X(j){j==="<"?E(P,i(P).substring(0,i(P).length-1)):E(P,i(P)+j)}ht(()=>(r(),me(u())),()=>{E(s,r().find(j=>j.id===u()))}),ht(()=>i(s),()=>{var j;E(o,(j=i(s))==null?void 0:j.currencyCode)}),ht(()=>(i(b),r()),()=>{E(c,i(b)?r().find(j=>j.id===i(b)):null)}),ht(()=>(i(c),i(o)),()=>{E(l,i(c)&&i(o)?i(c).currencyCode!==i(o):!1)}),Gt(),q();var at=yc(),ct=y(at),pt=y(ct);ic(pt,{get kind(){return i(S)},set kind(j){E(S,j)},$$legacy:!0});var Et=x(ct,2),tt=y(Et),Ut=x(tt,2),xe=x(Et,2),qe=y(xe);nt(qe,()=>i(S)===ot.Transfer,j=>{ac(j,{get accountId(){return i(b)},set accountId(Tt){E(b,Tt)},placeholder:"To",$$legacy:!0})},j=>{var Tt=gc(),Nt=y(Tt);bt(dc(Nt,{get categoryId(){return i($)},set categoryId(yt){E($,yt)},get value(){return i(_)},set value(yt){E(_,yt)},$$legacy:!0}),yt=>E(d,yt),()=>i(d));var Vt=x(Nt,2);T(()=>Vt.disabled=!i($)),V("click",Vt,zs(W)),I(j,Tt)});var Ue=x(xe,2),Ce=y(Ue),ke=x(Ce);const $n=Zt(()=>!An(i(P)));T(()=>Qt(ke,"_1lVDQ",i($n))),bt(ke,j=>E(p,j),()=>i(p));var Ve=x(Ue,2);nt(Ve,()=>i(l),j=>{var Tt=mc(),Nt=y(Tt),Vt=x(Nt);T(()=>{var yt;return D(Nt,`Amount, ${((yt=i(c))==null?void 0:yt.currencyCode)??""}: `)}),ft(Vt,()=>i(C),yt=>E(C,yt)),I(j,Tt)});var Ye=x(Ve,2),ze=y(Ye),Ke=x(Ye,2),Sn=y(Ke),se=y(Sn),Te=x(Ke,2);hc(Te,{onkey:X});var En=x(Te,2),Ba=y(En),Fa=y(Ba);T(()=>{var j;D(Ce,`Amount, ${((j=i(s))==null?void 0:j.currencyCode)??""}: `),D(Fa,f()?"Save":"Create")}),ft(tt,()=>i(g),j=>E(g,j)),V("click",Ut,()=>{E(g,jr(new Date))}),ft(ke,()=>i(P),j=>E(P,j)),ft(ze,()=>i(w),j=>E(w,j)),Us(se,()=>i(h),j=>E(h,j)),V("submit",at,Ht(Z)),I(t,at),H()}function Ur(t,e){G(e,!1);const n=z(),r=()=>F(it,"$accounts",n),a=k();let s=L(e,"params",8);const{id:o,tid:c}=s();let l=k();const u=c?null:p(),f=c?[{id:"delete",title:"Delete"}]:null;async function v(_){E(l,await ko(_))}function d(_){if(c){if(!i(l))return;Eo(i(l),_.detail.params).then(()=>{J(`/accounts/${o}`)})}else Ro(_.detail.params).then(()=>{J(`/accounts/${o}`)})}function p(){const[_,m]=location.hash.split("?");if(!m)return null;if(m){const $=new URLSearchParams(m).get("t");if($)return parseInt($)||null}return null}ht(()=>r(),()=>{E(a,r().find(_=>_.id===o))}),Gt(),q(),_t(t,{children:(_,m)=>{var S=dt(),$=Y(S);nt($,()=>c,b=>{var w=dt(),h=Y(w);Ea(h,()=>v(c),null,g=>{qr(g,{accountId:o,get transactionDoc(){return i(l)},$$events:{save:d}})}),I(b,w)},b=>{qr(b,{accountId:o,defaultTimestamp:u,$$events:{save:d}})}),I(_,S)},$$slots:{default:!0,header:(_,m)=>{var S=Zt(()=>i(a)?`${i(a).title}: Transaction`:"Transaction");vt(_,{slot:"header",get title(){return i(S)},returnPath:`/accounts/${o}`,menuItems:f,$$events:{menu:$=>{switch($.detail.id){case"delete":if(!confirm("Delete transaction?"))return!1;c&&So(c).then(()=>{J(`/accounts/${o}`)});break}}}})}}}),H()}var wc=A("<div> </div>");function bc(t,e){G(e,!1);let n=L(e,"params",24,()=>({}));q();var r=wc(),a=y(r);T(()=>D(a,`Page Not Found: /${n().wild??""}`)),I(t,r),H()}const $c={"/":wi,"/groups":$i,"/groups/new":Mr,"/groups/:id":Mr,"/accounts/new":Fr,"/accounts/:id/edit":Fr,"/accounts/:id":Oi,"/accounts/:id/transactions/new":Ur,"/accounts/:id/transactions/:tid":Ur,"/categories":Ri,"/categories/new":Gr,"/categories/:id":Gr,"/currencies":Fi,"/rates":qi,"/report":Zi,"/currencies/new":Hr,"/currencies/:cid":Hr,"/settings":Mi,"*":bc};function Sc(t){var e=dt(),n=Y(e);Ea(n,()=>Bo,null,r=>{ao(r,{routes:$c})}),I(t,e)}Ns(Sc,{target:document.getElementById("app")});
