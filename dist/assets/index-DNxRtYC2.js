(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const Wr=!1;var Ne=Array.isArray,Yn=Array.from,qa=Object.defineProperty,At=Object.getOwnPropertyDescriptor,zr=Object.getOwnPropertyDescriptors,Ua=Object.prototype,Va=Array.prototype,en=Object.getPrototypeOf;function Pe(t){return typeof t=="function"}const jt=()=>{};function Ya(t){return typeof(t==null?void 0:t.then)=="function"}function Wa(t){return t()}function nn(t){for(var e=0;e<t.length;e++)t[e]()}function Qe(t,e,n=!1){return t===void 0?n?e():e:t}const Ct=2,Kr=4,je=8,Wn=16,$t=32,Me=64,te=128,rn=256,rt=512,Ft=1024,we=2048,It=4096,Be=8192,za=16384,fn=32768,Xr=65536,Ka=1<<18,Jr=1<<19,Mt=Symbol("$state"),Xa=Symbol("");function Zr(t){return t===this.v}function Qr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function zn(t){return!Qr(t,this.v)}function Ja(t){throw new Error("effect_in_teardown")}function Za(){throw new Error("effect_in_unowned_derived")}function Qa(t){throw new Error("effect_orphan")}function ts(){throw new Error("effect_update_depth_exceeded")}function es(t){throw new Error("lifecycle_legacy_only")}function ns(t){throw new Error("props_invalid_value")}function rs(){throw new Error("state_descriptors_fixed")}function as(){throw new Error("state_prototype_fixed")}function ss(){throw new Error("state_unsafe_local_read")}function os(){throw new Error("state_unsafe_mutation")}function st(t){return{f:0,v:t,reactions:null,equals:Zr,version:0}}function pe(t,e=!1){var r;const n=st(t);return e||(n.equals=zn),M!==null&&M.l!==null&&((r=M.l).s??(r.s=[])).push(n),n}function k(t,e=!1){return is(pe(t,e))}function is(t){return G!==null&&G.f&Ct&&(xt===null?xs([t]):xt.push(t)),t}function an(t,e){return S(t,wt(()=>i(t))),e}function S(t,e){return G!==null&&Ge()&&G.f&(Ct|Wn)&&(xt===null||!xt.includes(t))&&os(),de(t,e)}function de(t,e){return t.equals(e)||(t.v=e,t.version=ma(),ta(t,Ft),Ge()&&N!==null&&N.f&rt&&!(N.f&$t)&&(et!==null&&et.includes(t)?(Et(N,Ft),pn(N)):Bt===null?Cs([t]):Bt.push(t))),e}function ta(t,e){var n=t.reactions;if(n!==null)for(var r=Ge(),a=n.length,s=0;s<a;s++){var o=n[s],c=o.f;c&Ft||!r&&o===N||(Et(o,e),c&(rt|te)&&(c&Ct?ta(o,we):pn(o)))}}const Kn=1,Xn=2,ea=4,cs=8,ls=16,us=1,fs=2,ds=4,vs=8,_s=16,ps=1,hs=2,lt=Symbol();let na=!1;function ce(t,e=null,n){if(typeof t!="object"||t===null||Mt in t)return t;const r=en(t);if(r!==Ua&&r!==Va)return t;var a=new Map,s=Ne(t),o=st(0);s&&a.set("length",st(t.length));var c;return new Proxy(t,{defineProperty(l,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&rs();var v=a.get(u);return v===void 0?(v=st(f.value),a.set(u,v)):S(v,ce(f.value,c)),!0},deleteProperty(l,u){var f=a.get(u);if(f===void 0)u in l&&a.set(u,st(lt));else{if(s&&typeof u=="string"){var v=a.get("length"),d=Number(u);Number.isInteger(d)&&d<v.v&&S(v,d)}S(f,lt),vr(o)}return!0},get(l,u,f){var p;if(u===Mt)return t;var v=a.get(u),d=u in l;if(v===void 0&&(!d||(p=At(l,u))!=null&&p.writable)&&(v=st(ce(d?l[u]:lt,c)),a.set(u,v)),v!==void 0){var _=i(v);return _===lt?void 0:_}return Reflect.get(l,u,f)},getOwnPropertyDescriptor(l,u){var f=Reflect.getOwnPropertyDescriptor(l,u);if(f&&"value"in f){var v=a.get(u);v&&(f.value=i(v))}else if(f===void 0){var d=a.get(u),_=d==null?void 0:d.v;if(d!==void 0&&_!==lt)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return f},has(l,u){var _;if(u===Mt)return!0;var f=a.get(u),v=f!==void 0&&f.v!==lt||Reflect.has(l,u);if(f!==void 0||N!==null&&(!v||(_=At(l,u))!=null&&_.writable)){f===void 0&&(f=st(v?ce(l[u],c):lt),a.set(u,f));var d=i(f);if(d===lt)return!1}return v},set(l,u,f,v){var w;var d=a.get(u),_=u in l;if(s&&u==="length")for(var p=f;p<d.v;p+=1){var m=a.get(p+"");m!==void 0?S(m,lt):p in l&&(m=st(lt),a.set(p+"",m))}d===void 0?(!_||(w=At(l,u))!=null&&w.writable)&&(d=st(void 0),S(d,ce(f,c)),a.set(u,d)):(_=d.v!==lt,S(d,ce(f,c)));var E=Reflect.getOwnPropertyDescriptor(l,u);if(E!=null&&E.set&&E.set.call(v,f),!_){if(s&&typeof u=="string"){var $=a.get("length"),b=Number(u);Number.isInteger(b)&&b>=$.v&&S($,b+1)}vr(o)}return!0},ownKeys(l){i(o);var u=Reflect.ownKeys(l).filter(d=>{var _=a.get(d);return _===void 0||_.v!==lt});for(var[f,v]of a)v.v!==lt&&!(f in l)&&u.push(f);return u},setPrototypeOf(){as()}})}function vr(t,e=1){S(t,t.v+e)}function _r(t){return t!==null&&typeof t=="object"&&Mt in t?t[Mt]:t}function gs(t,e){return Object.is(_r(t),_r(e))}var pr,ra,aa;function ms(){if(pr===void 0){pr=window;var t=Element.prototype,e=Node.prototype;ra=At(e,"firstChild").get,aa=At(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Jn(t=""){return document.createTextNode(t)}function he(t){return ra.call(t)}function dn(t){return aa.call(t)}function y(t,e){return he(t)}function Y(t,e){{var n=he(t);return n instanceof Comment&&n.data===""?dn(n):n}}function x(t,e=1,n=!1){let r=t;for(;e--;)r=dn(r);return r}function ys(t){t.textContent=""}function ge(t){var e=Ct|Ft;N===null?e|=te:N.f|=Jr;const n={children:null,ctx:M,deps:null,equals:Zr,f:e,fn:t,reactions:null,v:null,version:0,parent:N};if(G!==null&&G.f&Ct){var r=G;(r.children??(r.children=[])).push(n)}return n}function Zt(t){const e=ge(t);return e.equals=zn,e}function sa(t){var e=t.children;if(e!==null){t.children=null;for(var n=0;n<e.length;n+=1){var r=e[n];r.f&Ct?Zn(r):ee(r)}}}function oa(t){var e,n=N;mt(t.parent);try{sa(t),e=ya(t)}finally{mt(n)}return e}function ia(t){var e=oa(t),n=(ue||t.f&te)&&t.deps!==null?we:rt;Et(t,n),t.equals(e)||(t.v=e,t.version=ma())}function Zn(t){sa(t),Oe(t,0),Et(t,Be),t.v=t.children=t.deps=t.ctx=t.reactions=null}function ca(t){N===null&&G===null&&Qa(),G!==null&&G.f&te&&Za(),er&&Ja()}function ws(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function be(t,e,n,r=!0){var a=(t&Me)!==0,s=N,o={ctx:M,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:t|Ft,first:null,fn:e,last:null,next:null,parent:a?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var c=ve;try{hr(!0),He(o),o.f|=za}catch(f){throw ee(o),f}finally{hr(c)}}else e!==null&&pn(o);var l=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Jr)===0;if(!l&&!a&&r&&(s!==null&&ws(o,s),G!==null&&G.f&Ct)){var u=G;(u.children??(u.children=[])).push(o)}return o}function Qn(t){const e=be(je,null,!1);return Et(e,rt),e.teardown=t,e}function Ln(t){ca();var e=N!==null&&(N.f&$t)!==0&&M!==null&&!M.m;if(e){var n=M;(n.e??(n.e=[])).push({fn:t,effect:N,reaction:G})}else{var r=$e(t);return r}}function bs(t){return ca(),Ee(t)}function $s(t){const e=be(Me,t,!0);return()=>{ee(e)}}function $e(t){return be(Kr,t,!1)}function ft(t,e){var n=M,r={effect:null,ran:!1};n.l.r1.push(r),r.effect=Ee(()=>{t(),!r.ran&&(r.ran=!0,S(n.l.r2,!0),wt(e))})}function Gt(){var t=M;Ee(()=>{if(i(t.l.r2)){for(var e of t.l.r1){var n=e.effect;n.f&rt&&Et(n,we),Se(n)&&He(n),e.ran=!1}t.l.r2.v=!1}})}function Ee(t){return be(je,t,!0)}function T(t){return Fe(t)}function Fe(t,e=0){return be(je|Wn|e,t,!0)}function Dt(t,e=!0){return be(je|$t,t,!0,e)}function la(t){var e=t.teardown;if(e!==null){const n=er,r=G;gr(!0),kt(null);try{e.call(null)}finally{gr(n),kt(r)}}}function ua(t){var e=t.deriveds;if(e!==null){t.deriveds=null;for(var n=0;n<e.length;n+=1)Zn(e[n])}}function fa(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var r=n.next;ee(n,e),n=r}}function Es(t){for(var e=t.first;e!==null;){var n=e.next;e.f&$t||ee(e),e=n}}function ee(t,e=!0){var n=!1;if((e||t.f&Ka)&&t.nodes_start!==null){for(var r=t.nodes_start,a=t.nodes_end;r!==null;){var s=r===a?null:dn(r);r.remove(),r=s}n=!0}fa(t,e&&!n),ua(t),Oe(t,0),Et(t,Be);var o=t.transitions;if(o!==null)for(const l of o)l.stop();la(t);var c=t.parent;c!==null&&c.first!==null&&da(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.parent=t.fn=t.nodes_start=t.nodes_end=null}function da(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Wt(t,e){var n=[];tr(t,n,!0),va(n,()=>{ee(t),e&&e()})}function va(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var a of t)a.out(r)}else e()}function tr(t,e,n){if(!(t.f&It)){if(t.f^=It,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var a=r.next,s=(r.f&fn)!==0||(r.f&$t)!==0;tr(r,e,s?n:!1),r=a}}}function zt(t){_a(t,!0)}function _a(t,e){if(t.f&It){Se(t)&&He(t),t.f^=It;for(var n=t.first;n!==null;){var r=n.next,a=(n.f&fn)!==0||(n.f&$t)!==0;_a(n,a?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let sn=!1,On=[];function pa(){sn=!1;const t=On.slice();On=[],nn(t)}function vn(t){sn||(sn=!0,queueMicrotask(pa)),On.push(t)}function Ss(){sn&&pa()}function _n(t){throw new Error("lifecycle_outside_component")}const ha=0,Is=1;let tn=ha,Le=!1,ve=!1,er=!1;function hr(t){ve=t}function gr(t){er=t}let Yt=[],_e=0;let G=null;function kt(t){G=t}let N=null;function mt(t){N=t}let xt=null;function xs(t){xt=t}let et=null,ut=0,Bt=null;function Cs(t){Bt=t}let ga=0,ue=!1,fe=!1,le=new Set,M=null;function mr(t){M=t}function ma(){return++ga}function Ge(){return M!==null&&M.l===null}function Se(t){var o,c;var e=t.f;if(e&Ft)return!0;if(e&we){var n=t.deps,r=(e&te)!==0;if(n!==null){var a;if(e&rn){for(a=0;a<n.length;a++)((o=n[a]).reactions??(o.reactions=[])).push(t);t.f^=rn}for(a=0;a<n.length;a++){var s=n[a];if(Se(s)&&ia(s),r&&N!==null&&!ue&&!((c=s==null?void 0:s.reactions)!=null&&c.includes(t))&&(s.reactions??(s.reactions=[])).push(t),s.version>t.version)return!0}}r||Et(t,rt)}return!1}function ks(t,e,n){throw t}function ya(t){var d;var e=et,n=ut,r=Bt,a=G,s=ue,o=xt,c=M,l=t.f;et=null,ut=0,Bt=null,G=l&($t|Me)?null:t,ue=!ve&&(l&te)!==0,xt=null,M=t.ctx;try{var u=(0,t.fn)(),f=t.deps;if(et!==null){var v;if(Oe(t,ut),f!==null&&ut>0)for(f.length=ut+et.length,v=0;v<et.length;v++)f[ut+v]=et[v];else t.deps=f=et;if(!ue)for(v=ut;v<f.length;v++)((d=f[v]).reactions??(d.reactions=[])).push(t)}else f!==null&&ut<f.length&&(Oe(t,ut),f.length=ut);return u}finally{et=e,ut=n,Bt=r,G=a,ue=s,xt=o,M=c}}function Ts(t,e){let n=e.reactions;if(n!==null){var r=n.indexOf(t);if(r!==-1){var a=n.length-1;a===0?n=e.reactions=null:(n[r]=n[a],n.pop())}}n===null&&e.f&Ct&&(et===null||!et.includes(e))&&(Et(e,we),e.f&(te|rn)||(e.f^=rn),Oe(e,0))}function Oe(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Ts(t,n[r])}function He(t){var e=t.f;if(!(e&Be)){Et(t,rt);var n=N;N=t;try{e&Wn?Es(t):fa(t),ua(t),la(t);var r=ya(t);t.teardown=typeof r=="function"?r:null,t.version=ga}catch(a){ks(a)}finally{N=n}}}function wa(){_e>1e3&&(_e=0,ts()),_e++}function ba(t){var e=t.length;if(e!==0){wa();var n=ve;ve=!0;try{for(var r=0;r<e;r++){var a=t[r];a.f&rt||(a.f^=rt);var s=[];$a(a,s),Ps(s)}}finally{ve=n}}}function Ps(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var r=t[n];!(r.f&(Be|It))&&Se(r)&&(He(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?da(r):r.fn=null))}}function As(){if(Le=!1,_e>1001)return;const t=Yt;Yt=[],ba(t),Le||(_e=0)}function pn(t){tn===ha&&(Le||(Le=!0,queueMicrotask(As)));for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(Me|$t)){if(!(n&rt))return;e.f^=rt}}Yt.push(e)}function $a(t,e){var n=t.first,r=[];t:for(;n!==null;){var a=n.f,s=(a&$t)!==0,o=s&&(a&rt)!==0;if(!o&&!(a&It))if(a&je){s?n.f^=rt:Se(n)&&He(n);var c=n.first;if(c!==null){n=c;continue}}else a&Kr&&r.push(n);var l=n.next;if(l===null){let v=n.parent;for(;v!==null;){if(t===v)break t;var u=v.next;if(u!==null){n=u;continue t}v=v.parent}}n=l}for(var f=0;f<r.length;f++)c=r[f],e.push(c),$a(c,e)}function nr(t){var e=tn,n=Yt;try{wa();const a=[];tn=Is,Yt=a,Le=!1,ba(n);var r=t==null?void 0:t();return Ss(),(Yt.length>0||a.length>0)&&nr(),_e=0,r}finally{tn=e,Yt=n}}async function rr(){await Promise.resolve(),nr()}function i(t){var c;var e=t.f,n=(e&Ct)!==0;if(n&&e&Be){var r=oa(t);return Zn(t),r}if(fe&&le.add(t),G!==null){xt!==null&&xt.includes(t)&&ss();var a=G.deps;et===null&&a!==null&&a[ut]===t?ut++:et===null?et=[t]:et.push(t),Bt!==null&&N!==null&&N.f&rt&&!(N.f&$t)&&Bt.includes(t)&&(Et(N,Ft),pn(N))}else if(n&&t.deps===null){var s=t,o=s.parent;o!==null&&!((c=o.deriveds)!=null&&c.includes(s))&&(o.deriveds??(o.deriveds=[])).push(s)}return n&&(s=t,Se(s)&&ia(s)),t.v}function ar(t){var e=fe,n=le;fe=!0,le=new Set;var r=le,a;try{wt(t)}finally{if(fe=e,fe)for(a of le)n.add(a);le=n}for(a of r)if(a.f&Xr)for(const s of a.deps||[])s.f&Ct||an(s,null);else an(a,null)}function wt(t){const e=G;try{return G=null,t()}finally{G=e}}const Ds=~(Ft|we|rt);function Et(t,e){t.f=t.f&Ds|e}function B(t,e=!1,n){M={p:M,c:null,e:null,m:!1,s:t,x:null,l:null},e||(M.l={s:null,u:null,r1:[],r2:st(!1)})}function F(t){const e=M;if(e!==null){t!==void 0&&(e.x=t);const o=e.e;if(o!==null){var n=N,r=G;e.e=null;try{for(var a=0;a<o.length;a++){var s=o[a];mt(s.effect),kt(s.reaction),$e(s.fn)}}finally{mt(n),kt(r)}}M=e.p,e.m=!0}return t||{}}function me(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Mt in t)Rn(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Mt in n&&Rn(n)}}}function Rn(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Rn(t[r],e)}catch{}const n=en(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=zr(n);for(let a in r){const s=r[a].get;if(s)try{s.call(t)}catch{}}}}}const Ea=new Set,Nn=new Set;function Ls(t,e,n,r){function a(s){if(r.capture||Ae.call(e,s),!s.cancelBubble){var o=G,c=N;kt(null),mt(null);try{return n.call(this,s)}finally{kt(o),mt(c)}}}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?vn(()=>{e.addEventListener(t,a,r)}):e.addEventListener(t,a,r),a}function V(t,e,n,r,a){var s={capture:r,passive:a},o=Ls(t,e,n,s);(e===document.body||e===window||e===document)&&Qn(()=>{e.removeEventListener(t,o,s)})}function Os(t){for(var e=0;e<t.length;e++)Ea.add(t[e]);for(var n of Nn)n(t)}function Ae(t){var b;var e=this,n=e.ownerDocument,r=t.type,a=((b=t.composedPath)==null?void 0:b.call(t))||[],s=a[0]||t.target,o=0,c=t.__root;if(c){var l=a.indexOf(c);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=a.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=a[o]||t.target,s!==e){qa(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=G,v=N;kt(null),mt(null);try{for(var d,_=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];if(m!==void 0&&!s.disabled)if(Ne(m)){var[E,...$]=m;E.apply(s,[t,...$])}else m.call(s,t)}catch(w){d?_.push(w):d=w}if(t.cancelBubble||p===e||p===null)break;s=p}if(d){for(let w of _)queueMicrotask(()=>{throw w});throw d}}finally{t.__root=e,delete t.currentTarget,kt(f),mt(v)}}}function Sa(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function on(t,e){var n=N;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function P(t,e){var n=(e&ps)!==0,r=(e&hs)!==0,a,s=!t.startsWith("<!>");return()=>{a===void 0&&(a=Sa(s?t:"<!>"+t),n||(a=he(a)));var o=r?document.importNode(a,!0):a.cloneNode(!0);if(n){var c=he(o),l=o.lastChild;on(c,l)}else on(o,o);return o}}function hn(t,e,n="svg"){var r=!t.startsWith("<!>"),a=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var o=Sa(a),c=he(o);s=he(c)}var l=s.cloneNode(!0);return on(l,l),l}}function vt(){var t=document.createDocumentFragment(),e=document.createComment(""),n=Jn();return t.append(e,n),on(e,n),t}function I(t,e){t!==null&&t.before(e)}const Rs=["touchstart","touchmove"];function Ns(t){return Rs.includes(t)}function D(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function js(t,e){return Ms(t,e)}const oe=new Map;function Ms(t,{target:e,anchor:n,props:r={},events:a,context:s,intro:o=!0}){ms();var c=new Set,l=v=>{for(var d=0;d<v.length;d++){var _=v[d];if(!c.has(_)){c.add(_);var p=Ns(_);e.addEventListener(_,Ae,{passive:p});var m=oe.get(_);m===void 0?(document.addEventListener(_,Ae,{passive:p}),oe.set(_,1)):oe.set(_,m+1)}}};l(Yn(Ea)),Nn.add(l);var u=void 0,f=$s(()=>{var v=n??e.appendChild(Jn());return Dt(()=>{if(s){B({});var d=M;d.c=s}a&&(r.$$events=a),u=t(v,r)||{},s&&F()}),()=>{var p;for(var d of c){e.removeEventListener(d,Ae);var _=oe.get(d);--_===0?(document.removeEventListener(d,Ae),oe.delete(d)):oe.set(d,_)}Nn.delete(l),yr.delete(u),v!==n&&((p=v.parentNode)==null||p.removeChild(v))}});return yr.set(u,f),u}let yr=new WeakMap;const xn=0,Xe=1,Cn=2;function Ia(t,e,n,r,a){var s=t,o=Ge(),c=M,l,u,f,v,d=(o?st:pe)(void 0),_=(o?st:pe)(void 0),p=!1;function m($,b){p=!0,b&&(mt(E),kt(E),mr(c)),$===xn&&n&&(u?zt(u):u=Dt(()=>n(s))),$===Xe&&r&&(f?zt(f):f=Dt(()=>r(s,d))),$===Cn&&a&&(v?zt(v):v=Dt(()=>a(s,_))),$!==xn&&u&&Wt(u,()=>u=null),$!==Xe&&f&&Wt(f,()=>f=null),$!==Cn&&v&&Wt(v,()=>v=null),b&&(mr(null),kt(null),mt(null),nr())}var E=Fe(()=>{if(l!==(l=e())){if(Ya(l)){var $=l;p=!1,$.then(b=>{$===l&&(de(d,b),m(Xe,!0))},b=>{if($===l)throw de(_,b),m(Cn,!0),_.v}),vn(()=>{p||m(xn,!0)})}else de(d,l),m(Xe,!1);return()=>l=null}})}function nt(t,e,n,r=null,a=!1){var s=t,o=null,c=null,l=null,u=a?fn:0;Fe(()=>{l!==(l=!!e())&&(l?(o?zt(o):o=Dt(()=>n(s)),c&&Wt(c,()=>{c=null})):(c?zt(c):r&&(c=Dt(()=>r(s))),o&&Wt(o,()=>{o=null})))},u)}let kn=null;function Lt(t,e){return e}function Bs(t,e,n,r){for(var a=[],s=e.length,o=0;o<s;o++)tr(e[o].e,a,!0);var c=s>0&&a.length===0&&n!==null;if(c){var l=n.parentNode;ys(l),l.append(n),r.clear(),Nt(t,e[0].prev,e[s-1].next)}va(a,()=>{for(var u=0;u<s;u++){var f=e[u];c||(r.delete(f.k),Nt(t,f.prev,f.next)),ee(f.e,!c)}})}function Q(t,e,n,r,a,s=null){var o=t,c={flags:e,items:new Map,first:null},l=(e&ea)!==0;if(l){var u=t;o=u.appendChild(Jn())}var f=null,v=!1;Fe(()=>{var d=n(),_=Ne(d)?d:d==null?[]:Yn(d),p=_.length;if(!(v&&p===0)){v=p===0;{var m=G;Fs(_,c,o,a,e,(m.f&It)!==0,r)}s!==null&&(p===0?f?zt(f):f=Dt(()=>s(o)):f!==null&&Wt(f,()=>{f=null})),n()}})}function Fs(t,e,n,r,a,s,o){var ct,ht,St,tt;var c=(a&cs)!==0,l=(a&(Kn|Xn))!==0,u=t.length,f=e.items,v=e.first,d=v,_,p=null,m,E=[],$=[],b,w,h,g;if(c)for(g=0;g<u;g+=1)b=t[g],w=o(b,g),h=f.get(w),h!==void 0&&((ct=h.a)==null||ct.measure(),(m??(m=new Set)).add(h));for(g=0;g<u;g+=1){if(b=t[g],w=o(b,g),h=f.get(w),h===void 0){var A=d?d.e.nodes_start:n;p=Hs(A,e,p,p===null?e.first:p.next,b,w,g,r,a),f.set(w,p),E=[],$=[],d=p.next;continue}if(l&&Gs(h,b,g,a),h.e.f&It&&(zt(h.e),c&&((ht=h.a)==null||ht.unfix(),(m??(m=new Set)).delete(h))),h!==d){if(_!==void 0&&_.has(h)){if(E.length<$.length){var C=$[0],R;p=C.prev;var Z=E[0],z=E[E.length-1];for(R=0;R<E.length;R+=1)wr(E[R],C,n);for(R=0;R<$.length;R+=1)_.delete($[R]);Nt(e,Z.prev,z.next),Nt(e,p,Z),Nt(e,z,C),d=C,p=z,g-=1,E=[],$=[]}else _.delete(h),wr(h,d,n),Nt(e,h.prev,h.next),Nt(e,h,p===null?e.first:p.next),Nt(e,p,h),p=h;continue}for(E=[],$=[];d!==null&&d.k!==w;)(s||!(d.e.f&It))&&(_??(_=new Set)).add(d),$.push(d),d=d.next;if(d===null)continue;h=d}E.push(h),p=h,d=h.next}if(d!==null||_!==void 0){for(var K=_===void 0?[]:Yn(_);d!==null;)(s||!(d.e.f&It))&&K.push(d),d=d.next;var X=K.length;if(X>0){var at=a&ea&&u===0?n:null;if(c){for(g=0;g<X;g+=1)(St=K[g].a)==null||St.measure();for(g=0;g<X;g+=1)(tt=K[g].a)==null||tt.fix()}Bs(e,K,at,f)}}c&&vn(()=>{var Ut;if(m!==void 0)for(h of m)(Ut=h.a)==null||Ut.apply()}),N.first=e.first&&e.first.e,N.last=p&&p.e}function Gs(t,e,n,r){r&Kn&&de(t.v,e),r&Xn?de(t.i,n):t.i=n}function Hs(t,e,n,r,a,s,o,c,l){var u=kn;try{var f=(l&Kn)!==0,v=(l&ls)===0,d=f?v?pe(a):st(a):a,_=l&Xn?st(o):o,p={i:_,v:d,k:s,a:null,e:null,prev:n,next:r};return kn=p,p.e=Dt(()=>c(t,d,_),na),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{kn=u}}function wr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var o=dn(s);a.before(s),s=o}}function Nt(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function cn(t,e,n,r,a){var c;var s=(c=e.$$slots)==null?void 0:c[n],o=!1;s===!0&&(s=e[n==="default"?"children":n],o=!0),s===void 0||s(t,o?()=>r:r)}function br(t,e,n){var r=t,a,s;Fe(()=>{a!==(a=e())&&(s&&(Wt(s),s=null),a&&(s=Dt(()=>n(r,a))))},fn)}function ln(t,e,n){$e(()=>{var r=wt(()=>e(t,n==null?void 0:n())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}let $r=!1;function qs(){$r||($r=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function U(t,e,n,r){var a=t.__attributes??(t.__attributes={});a[e]!==(a[e]=n)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[Xa]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Us(t).includes(e)?t[e]=n:t.setAttribute(e,n))}var Er=new Map;function Us(t){var e=Er.get(t.nodeName);if(e)return e;Er.set(t.nodeName,e=[]);for(var n,r=en(t),a=Element.prototype;a!==r;){n=zr(r);for(var s in n)n[s].set&&e.push(s);r=en(r)}return e}function xa(t,e){var n=t.__className,r=Vs(e);(n!==r||na)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function Vs(t){return t??""}function Qt(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function sr(t,e,n,r=n){t.addEventListener(e,n);const a=t.__on_r;a?t.__on_r=()=>{a(),r()}:t.__on_r=r,qs()}function dt(t,e,n=e){var r=Ge();sr(t,"input",()=>{var a=Sr(t)?Ir(t.value):t.value;n(a),r&&a!==(a=e())&&(t.value=a??"")}),Ee(()=>{var a=e();Sr(t)&&a===Ir(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Ys(t,e,n=e){sr(t,"change",()=>{var r=t.checked;n(r)}),e()==null&&n(!1),Ee(()=>{var r=e();t.checked=!!r})}function Sr(t){var e=t.type;return e==="number"||e==="range"}function Ir(t){return t===""?null:+t}function Re(t,e,n){var r=At(t,e);r&&r.set&&(t[e]=n,Qn(()=>{t[e]=null}))}function Ca(t,e,n){if(t.multiple)return zs(t,e);for(var r of t.options){var a=De(r);if(gs(a,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ws(t,e){$e(()=>{var n=new MutationObserver(()=>{var r=t.__value;Ca(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function or(t,e,n=e){var r=!0;sr(t,"change",()=>{var a;if(t.multiple)a=[].map.call(t.querySelectorAll(":checked"),De);else{var s=t.querySelector(":checked");a=s&&De(s)}n(a)}),$e(()=>{var a=e();if(Ca(t,a,r),r&&a===void 0){var s=t.querySelector(":checked");s!==null&&(a=De(s),n(a))}t.__value=a,r=!1}),Ws(t)}function zs(t,e){for(var n of t.options)n.selected=~e.indexOf(De(n))}function De(t){return"__value"in t?t.__value:t.value}function xr(t,e){return t===e||(t==null?void 0:t[Mt])===e}function bt(t={},e,n,r){return $e(()=>{var a,s;return Ee(()=>{a=s,s=[],wt(()=>{t!==n(...s)&&(e(t,...s),a&&xr(n(...a),t)&&e(null,...a))})}),()=>{vn(()=>{s&&xr(n(...s),t)&&e(null,...s)})}}),t}function Ks(t){return function(...e){var n=e[0];return n.stopPropagation(),t==null?void 0:t.apply(this,e)}}function Ht(t){return function(...e){var n=e[0];return n.preventDefault(),t==null?void 0:t.apply(this,e)}}function q(t=!1){const e=M,n=e.l.u;if(!n)return;let r=()=>me(e.s);if(t){let a=0,s={};const o=ge(()=>{let c=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],c=!0);return c&&a++,a});r=()=>i(o)}n.b.length&&bs(()=>{Cr(e,r),nn(n.b)}),Ln(()=>{const a=wt(()=>n.m.map(Wa));return()=>{for(const s of a)typeof s=="function"&&s()}}),n.a.length&&Ln(()=>{Cr(e,r),nn(n.a)})}function Cr(t,e){if(t.l.s)for(const n of t.l.s)i(n);e()}function jn(t,e){var s;var n=(s=t.$$events)==null?void 0:s[e.type],r=Ne(n)?n.slice():n==null?[]:[n];for(var a of r)a.call(this,e)}function ir(t,e,n){if(t==null)return e(void 0),n&&n(void 0),jt;const r=wt(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}let Je=!1;function H(t,e,n){const r=n[e]??(n[e]={store:null,source:pe(void 0),unsubscribe:jt});if(r.store!==t)if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=jt;else{var a=!0;r.unsubscribe=ir(t,s=>{a?r.source.v=s:S(r.source,s)}),a=!1}return i(r.source)}function Xs(t,e){return t.set(e),e}function W(){const t={};return Qn(()=>{for(var e in t)t[e].unsubscribe()}),t}function Js(t){var e=Je;try{return Je=!1,[t(),Je]}finally{Je=e}}const Zs={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Pe(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let a=t.props[r];Pe(a)&&(a=a());const s=At(a,e);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(Pe(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const a=At(r,e);return a&&!a.configurable&&(a.configurable=!0),a}}},has(t,e){for(let n of t.props)if(Pe(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props){Pe(n)&&(n=n());for(const r in n)e.includes(r)||e.push(r)}return e}};function kr(...t){return new Proxy({props:t},Zs)}function Tr(t){for(var e=N,n=N;e!==null&&!(e.f&($t|Me));)e=e.parent;try{return mt(e),t()}finally{mt(n)}}function L(t,e,n,r){var A;var a=(n&us)!==0,s=(n&fs)!==0,o=(n&vs)!==0,c=(n&_s)!==0,l=!1,u;o?[u,l]=Js(()=>t[e]):u=t[e];var f=(A=At(t,e))==null?void 0:A.set,v=r,d=!0,_=!1,p=()=>(_=!0,d&&(d=!1,c?v=wt(r):v=r),v);u===void 0&&r!==void 0&&(f&&s&&ns(),u=p(),f&&f(u));var m;if(s)m=()=>{var C=t[e];return C===void 0?p():(d=!0,_=!1,C)};else{var E=Tr(()=>(a?ge:Zt)(()=>t[e]));E.f|=Xr,m=()=>{var C=i(E);return C!==void 0&&(v=void 0),C===void 0?v:C}}if(!(n&ds))return m;if(f){var $=t.$$legacy;return function(C,R){return arguments.length>0?((!s||!R||$||l)&&f(R?m():C),C):m()}}var b=!1,w=!1,h=pe(u),g=Tr(()=>ge(()=>{var C=m(),R=i(h);return b?(b=!1,w=!0,R):(w=!1,h.v=C)}));return a||(g.equals=zn),function(C,R){if(fe&&(b=w,m(),i(h)),arguments.length>0){const Z=R?i(g):s&&o?ce(C):C;return g.equals(Z)||(b=!0,S(h,Z),_&&v!==void 0&&(v=Z),wt(()=>i(g))),C}return i(g)}}function Ie(t){M===null&&_n(),M.l!==null?ka(M).m.push(t):Ln(()=>{const e=wt(t);if(typeof e=="function")return e})}function Qs(t){M===null&&_n(),Ie(()=>()=>wt(t))}function to(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function ne(){const t=M;return t===null&&_n(),(e,n,r)=>{var s;const a=(s=t.s.$$events)==null?void 0:s[e];if(a){const o=Ne(a)?a.slice():[a],c=to(e,n,r);for(const l of o)l.call(t.x,c);return!c.defaultPrevented}return!0}}function eo(t){M===null&&_n(),M.l===null&&es(),ka(M).a.push(t)}function ka(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const no="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(no);const ie=[];function Ta(t,e){return{subscribe:Tt(t,e).subscribe}}function Tt(t,e=jt){let n=null;const r=new Set;function a(c){if(Qr(t,c)&&(t=c,n)){const l=!ie.length;for(const u of r)u[1](),ie.push(u,t);if(l){for(let u=0;u<ie.length;u+=2)ie[u][0](ie[u+1]);ie.length=0}}}function s(c){a(c(t))}function o(c,l=jt){const u=[c,l];return r.add(u),r.size===1&&(n=e(a,s)||jt),c(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:a,update:s,subscribe:o}}function Pa(t,e,n){const r=!Array.isArray(t),a=r?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Ta(n,(o,c)=>{let l=!1;const u=[];let f=0,v=jt;const d=()=>{if(f)return;v();const p=e(r?u[0]:u,o,c);s?o(p):v=typeof p=="function"?p:jt},_=a.map((p,m)=>ir(p,E=>{u[m]=E,f&=~(1<<m),l&&d()},()=>{f|=1<<m}));return l=!0,d(),function(){nn(_),v(),l=!1}})}function Mn(t){let e;return ir(t,n=>e=n)(),e}function ro(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,a,s,o=[],c="",l=t.split("/");for(l[0]||l.shift();a=l.shift();)n=a[0],n==="*"?(o.push("wild"),c+="/(.*)"):n===":"?(r=a.indexOf("?",1),s=a.indexOf(".",1),o.push(a.substring(1,~r?r:~s?s:a.length)),c+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~r?"?":"")+"\\"+a.substring(s))):c+="/"+a;return{keys:o,pattern:new RegExp("^"+c+"/?$","i")}}function Pr(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const cr=Ta(null,function(e){e(Pr());const n=()=>{e(Pr())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Pa(cr,t=>t.location);Pa(cr,t=>t.querystring);const Ar=Tt(void 0);async function J(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await rr(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function Bn(t,e){if(e=Lr(e),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Dr(t,e),{update(n){n=Lr(n),Dr(t,n)}}}function ao(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Dr(t,e){let n=e.href||t.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",r=>{r.preventDefault(),e.disabled||so(r.currentTarget.getAttribute("href"))})}function Lr(t){return t&&typeof t=="string"?{href:t}:t||{}}function so(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function oo(t,e){B(e,!1);let n=L(e,"routes",24,()=>({})),r=L(e,"prefix",8,""),a=L(e,"restoreScrollState",8,!1);class s{constructor(h,g){if(!g||typeof g!="function"&&(typeof g!="object"||g._sveltesparouter!==!0))throw Error("Invalid component object");if(!h||typeof h=="string"&&(h.length<1||h.charAt(0)!="/"&&h.charAt(0)!="*")||typeof h=="object"&&!(h instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:A,keys:C}=ro(h);this.path=h,typeof g=="object"&&g._sveltesparouter===!0?(this.component=g.component,this.conditions=g.conditions||[],this.userData=g.userData,this.props=g.props||{}):(this.component=()=>Promise.resolve(g),this.conditions=[],this.props={}),this._pattern=A,this._keys=C}match(h){if(r()){if(typeof r()=="string")if(h.startsWith(r()))h=h.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const R=h.match(r());if(R&&R[0])h=h.substr(R[0].length)||"/";else return null}}const g=this._pattern.exec(h);if(g===null)return null;if(this._keys===!1)return g;const A={};let C=0;for(;C<this._keys.length;){try{A[this._keys[C]]=decodeURIComponent(g[C+1]||"")||null}catch{A[this._keys[C]]=null}C+=1}return A}async checkConditions(h){for(let g=0;g<this.conditions.length;(g+=1)-1)if(!await this.conditions[g](h))return!1;return!0}}const o=[];n()instanceof Map?n().forEach((w,h)=>{o.push(new s(h,w))}):Object.keys(n()).forEach(w=>{o.push(new s(w,n()[w]))});let c=k(null),l=k(null),u=k({});const f=ne();async function v(w,h){await rr(),f(w,h)}let d=null,_=null;a()&&(_=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?d=w.state:d=null},window.addEventListener("popstate",_),eo(()=>{ao(d)}));let p=null,m=null;const E=cr.subscribe(async w=>{p=w;let h=0;for(;h<o.length;){const g=o[h].match(w.location);if(!g){h+=1;continue}const A={route:o[h].path,location:w.location,querystring:w.querystring,userData:o[h].userData,params:g&&typeof g=="object"&&Object.keys(g).length?g:null};if(!await o[h].checkConditions(A)){S(c,null),m=null,v("conditionsFailed",A);return}v("routeLoading",Object.assign({},A));const C=o[h].component;if(m!=C){C.loading?(S(c,C.loading),m=C,S(l,C.loadingParams),S(u,{}),v("routeLoaded",Object.assign({},A,{component:i(c),name:i(c).name,params:i(l)}))):(S(c,null),m=null);const R=await C();if(w!=p)return;S(c,R&&R.default||R),m=C}g&&typeof g=="object"&&Object.keys(g).length?S(l,g):S(l,null),S(u,o[h].props),v("routeLoaded",Object.assign({},A,{component:i(c),name:i(c).name,params:i(l)})).then(()=>{Ar.set(i(l))});return}S(c,null),m=null,Ar.set(void 0)});Qs(()=>{E(),_&&window.removeEventListener("popstate",_)}),ft(()=>me(a()),()=>{history.scrollRestoration=a()?"manual":"auto"}),Gt(),q();var $=vt(),b=Y($);nt(b,()=>i(l),w=>{var h=vt(),g=Y(h);br(g,()=>i(c),(A,C)=>{C(A,kr({get params(){return i(l)}},()=>i(u),{$$events:{routeEvent(R){jn.call(this,e,R)}}}))}),I(w,h)},w=>{var h=vt(),g=Y(h);br(g,()=>i(c),(A,C)=>{C(A,kr(()=>i(u),{$$events:{routeEvent(R){jn.call(this,e,R)}}}))}),I(w,h)}),I(t,$),F()}const it=Tt([]),qt=Tt([]),Ot=Tt([]),re=Tt([]),Aa=Tt([]),ye=Tt(""),gn=Tt({}),Da=Tt(null),Fn=(t,e)=>e.some(n=>t instanceof n);let Or,Rr;function io(){return Or||(Or=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function co(){return Rr||(Rr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gn=new WeakMap,Tn=new WeakMap,mn=new WeakMap;function lo(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Kt(t.result)),a()},o=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",o)});return mn.set(e,t),e}function uo(t){if(Gn.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),a()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gn.set(t,e)}let Hn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gn.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function La(t){Hn=t(Hn)}function fo(t){return co().includes(t)?function(...e){return t.apply(qn(this),e),Kt(this.request)}:function(...e){return Kt(t.apply(qn(this),e))}}function vo(t){return typeof t=="function"?fo(t):(t instanceof IDBTransaction&&uo(t),Fn(t,io())?new Proxy(t,Hn):t)}function Kt(t){if(t instanceof IDBRequest)return lo(t);if(Tn.has(t))return Tn.get(t);const e=vo(t);return e!==t&&(Tn.set(t,e),mn.set(e,t)),e}const qn=t=>mn.get(t);function _o(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const o=indexedDB.open(t,e),c=Kt(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Kt(o.result),l.oldVersion,l.newVersion,Kt(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const po=["get","getKey","getAll","getAllKeys","count"],ho=["put","add","delete","clear"],Pn=new Map;function Nr(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pn.get(e))return Pn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=ho.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||po.includes(n)))return;const s=async function(o,...c){const l=this.transaction(o,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),a&&l.done]))[0]};return Pn.set(e,s),s}La(t=>({...t,get:(e,n,r)=>Nr(e,n)||t.get(e,n,r),has:(e,n)=>!!Nr(e,n)||t.has(e,n)}));const go=["continue","continuePrimaryKey","advance"],jr={},Un=new WeakMap,Oa=new WeakMap,mo={get(t,e){if(!go.includes(e))return t[e];let n=jr[e];return n||(n=jr[e]=function(...r){Un.set(this,Oa.get(this)[e](...r))}),n}};async function*yo(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const n=new Proxy(e,mo);for(Oa.set(n,e),mn.set(n,qn(e));e;)yield n,e=await(Un.get(n)||e.continue()),Un.delete(n)}function Mr(t,e){return e===Symbol.asyncIterator&&Fn(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Fn(t,[IDBIndex,IDBObjectStore])}La(t=>({...t,get(e,n,r){return Mr(e,n)?yo:t.get(e,n,r)},has(e,n){return Mr(e,n)||t.has(e,n)}}));const wo="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Xt=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;)e+=wo[n[t]&63];return e};var ot=(t=>(t.Expense="EXPENSE",t.Income="INCOME",t.Transfer="TRANSFER",t))(ot||{});const bo=[{value:ot.Expense,title:"Expense"},{value:ot.Transfer,title:"Transfer"},{value:ot.Income,title:"Income"}],un="baseCurrencyCode";let O;const $o=_o("acc",3,{upgrade(t,e,n,r){if(t.objectStoreNames.contains("accountGroups")||t.createObjectStore("accountGroups",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("accounts")||t.createObjectStore("accounts",{keyPath:"id"}).createIndex("title","title"),t.objectStoreNames.contains("currencies")||t.createObjectStore("currencies",{keyPath:"code"}),t.objectStoreNames.contains("categories")||t.createObjectStore("categories",{keyPath:"id"}).createIndex("title",["title","subtitle"]),t.objectStoreNames.contains("entries")||t.createObjectStore("entries",{keyPath:"id"}).createIndex("accountId","accountId"),!t.objectStoreNames.contains("transactions"))t.createObjectStore("transactions",{keyPath:"id"}).createIndex("timestamp","timestamp");else{const a=r.objectStore("transactions");console.log("store already exists, creating index"),a.createIndex("timestamp","timestamp")}t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"name"}),t.objectStoreNames.contains("rates")||t.createObjectStore("rates",{keyPath:"code"})}}).then(t=>{O=t});function ae(){return O.getAllFromIndex("accounts","title")}function Eo(t){return O.get("accounts",t)}async function So(t){await O.put("accounts",t),it.set(await ae())}async function Io(t){const e=await O.get("transactions",t);e&&(await Promise.all([O.delete("transactions",t),O.delete("entries",e.entryId),e.secondEntryId?O.delete("entries",e.secondEntryId):null]),await Promise.all([Jt(e.accountId),e.secondAccountId?Jt(e.secondAccountId):null]),it.set(await ae()))}async function xo(t,e){const[n,r]=await Promise.all([O.get("entries",t.entryId),t.secondEntryId?O.get("entries",t.secondEntryId):null]);if(!n)return;const[a,s,o]=Ma(e,t.id,n.id,r?r.id:Xt(5));await Promise.all([O.put("transactions",a),O.put("entries",s),o?r?O.put("entries",o):O.add("entries",o):r?O.delete("entries",r.id):null]);const[c,l]=await Promise.all([Jt(a.accountId),a.secondAccountId?Jt(a.secondAccountId):null,t.secondAccountId&&t.secondAccountId!==e.secondAccountId?Jt(t.secondAccountId):null]);(c||l)&&it.set(await ae())}function yn(){return O.getAllFromIndex("accountGroups","title")}function wn(){return O.getAllFromIndex("categories","title")}function bn(){return O.getAll("currencies")}function Co(){return O.getAll("settings")}async function ko(){return(await O.getAll("rates")).reduce((e,n)=>(e[n.code]=n.rate,e),{})}async function Ra(t,e=!0){return(await O.getAllFromIndex("entries","accountId",t)).sort((r,a)=>r.timestamp<a.timestamp?e?1:-1:r.timestamp>a.timestamp?e?-1:1:0)}async function To(t,e){return await O.getAllFromIndex("transactions","timestamp",IDBKeyRange.bound(t,e,!1,!0))}function Po(t){return O.get("transactions",t)}async function Ao(t,e){await O.put("accountGroups",{id:Xt(5),currencyCode:e,title:t}),qt.set(await yn())}async function Do(t){await O.put("accountGroups",t),qt.set(await yn())}async function Lo(t,e,n){await O.put("accounts",{id:Xt(5),title:t,groupId:e,currencyCode:n,balance:0}),it.set(await ae())}async function Na(t,e){const n={id:Xt(5),title:t,subtitle:e};return await O.put("categories",n),Ot.set(await wn()),n}async function ja(t){await O.put("settings",t)}async function Oo(t,e){const n={};await O.delete("rates",e),await Promise.all(t.map(r=>(n[r.code]=r.rate,O.put("rates",r)))),gn.set(n)}async function Ro(t){await O.put("categories",t),Ot.set(await wn())}async function No(t,e){await O.put("currencies",{code:t,title:e}),re.set(await bn())}async function jo(t){await O.put("currencies",t),re.set(await bn())}function Ma({kind:t,accountId:e,timestamp:n,categoryId:r,secondAccountId:a,secondAmount:s,amount:o,comment:c,reconciled:l},u,f,v){const d={id:f,timestamp:n,accountId:e,...r?{categoryId:r}:{},transactionId:u,comment:c,amount:t===ot.Income?o:-o,total:0,...l?{reconciled:l}:{}};if(t===ot.Transfer&&v&&a){const _={id:v,timestamp:n,accountId:a,transactionId:u,comment:c,amount:s||o,total:0,...l?{reconciled:l}:{}};return[{id:u,kind:t,timestamp:n,accountId:e,secondAccountId:a,amount:o,...s?{secondAmount:s}:{},comment:c,entryId:d.id,secondEntryId:_.id,...l?{reconciled:l}:{}},d,_]}else return[{id:u,kind:t,timestamp:n,accountId:e,...r?{categoryId:r}:{},amount:o,comment:c,entryId:d.id,...l?{reconciled:l}:{}},d]}async function Jt(t){const e=await Ra(t,!1);let n=0;for(const a of e)n+=a.amount,a.total!==n&&await O.put("entries",{...a,total:n});const r=await Eo(t);if(r)return r.balance!==n?(await O.put("accounts",{...r,balance:n}),!0):!1}async function Mo(t){const e=O.transaction(["entries","transactions"],"readwrite"),n=e.objectStore("entries"),r=e.objectStore("transactions"),[a,s,o]=Ma(t,Xt(5),Xt(5),Xt(5));await Promise.all([r.add(a),n.add(s),...o?[n.add(o)]:[],e.done]);const[c,l]=await Promise.all([Jt(a.accountId),a.secondAccountId?Jt(a.secondAccountId):!1]);(c||l)&&it.set(await ae())}async function Ba(){const[t,e,n,r,a,s]=await Promise.all([ae(),yn(),wn(),bn(),Co(),ko()]);re.set(r),qt.set(e),it.set(t),Ot.set(n),Aa.set(a);const o=Bo(a);ye.set(o),delete s[o],gn.set(s)}function Bo(t){for(const e of t)if(e.name===un)return e.value;return""}async function Fo(){await $o,await Ba()}const Go=Fo();function Ho(t){function e(r){r.target instanceof Node&&t.hasAttribute("data-opened")&&(t.contains(r.target)||t.removeAttribute("data-opened"))}function n(r){r.code==="Escape"&&t.hasAttribute("data-opened")&&t.removeAttribute("data-opened")}return document.addEventListener("click",e),document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n),document.removeEventListener("click",e)}}}var qo=P('<div><div class="_2SXNm"><!></div> <div class="_27WQU" data-role="popover"><!></div></div>');function Fa(t,e){B(e,!1);let n=k(),r=L(e,"class",8,void 0),a=L(e,"clickToggle",8,!0);function s(){i(n).toggleAttribute("data-opened",!1)}function o(){i(n).toggleAttribute("data-opened",!0)}var c=qo(),l=y(c),u=ge(()=>a()?()=>{i(n).toggleAttribute("data-opened")}:null);l.__click=function(..._){var p;(p=i(u))==null||p.apply(this,_)};var f=y(l);cn(f,e,"default",{});var v=x(l,2),d=y(v);return cn(d,e,"content",{}),bt(c,_=>S(n,_),()=>i(n)),ln(c,_=>Ho(_)),T(()=>xa(c,`_2LTIc ${r()??""}`)),I(t,c),Re(e,"close",s),Re(e,"show",o),F({close:s,show:o})}Os(["click"]);var Uo=P('<a class="_2blFf"> </a>'),Vo=P('<span class="_2YoB_"> </span>'),Yo=P('<li class="_161ne"><!></li>'),Wo=P('<ul class="_4OB04"></ul>');function zo(t,e){B(e,!1);let n=L(e,"items",24,()=>[]);const r=ne();q();var a=Wo();Q(a,5,n,s=>s.id,(s,o)=>{var c=Yo(),l=y(c);nt(l,()=>i(o).to,u=>{var f=Uo();U(f,"draggable",!1);var v=y(f);ln(f,d=>Bn(d)),T(()=>{U(f,"href",i(o).to),D(v,i(o).title)}),I(u,f)},u=>{var f=Vo(),v=y(f);T(()=>D(v,i(o).title)),I(u,f)}),T(()=>U(c,"data-id",i(o).id)),V("click",c,u=>{r("menu",{id:u.currentTarget.dataset.id})}),I(s,c)}),I(t,a),F()}var Ko=hn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>');function Xo(t,e){let n=L(e,"size",8,24);var r=Ko();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var Jo=hn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>');function Zo(t,e){let n=L(e,"size",8,24);var r=Jo();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var Qo=hn('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>');function ti(t,e){let n=L(e,"size",8,24);var r=Qo();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var ei=P('<a class="_3SB3X"><!></a>'),ni=P('<a class="_3SB3X"><!></a>'),ri=P('<header class="_2Jb6S"><div class="_1J780"><!></div> <h1 class="_17FA5"> </h1> <div class="_3ifcR"><!> <!></div></header>');function _t(t,e){B(e,!1);let n=L(e,"title",8),r=L(e,"returnPath",8,void 0),a=L(e,"addPath",8,void 0),s=L(e,"menuItems",8,null),o=k(null);const c=ne();q();var l=ri(),u=y(l),f=y(u);nt(f,r,E=>{var $=ei();U($,"draggable",!1);var b=y($);Xo(b,{}),ln($,w=>Bn(w)),T(()=>U($,"href",r())),I(E,$)});var v=x(u,2),d=y(v),_=x(v,2),p=y(_);nt(p,a,E=>{var $=ni();U($,"draggable",!1);var b=y($);Zo(b,{}),ln($,w=>Bn(w)),T(()=>U($,"href",a())),I(E,$)});var m=x(p,2);nt(m,s,E=>{bt(Fa(E,{class:"_1qXOD",children:($,b)=>{ti($,{})},$$slots:{default:!0,content:($,b)=>{zo($,{slot:"content",get items(){return s()},$$events:{menu:w=>{i(o).close(),c("menu",{id:w.detail.id})}}})}},$$legacy:!0}),$=>S(o,$),()=>i(o))}),T(()=>D(d,n())),I(t,l),F()}var ai=P('<main class="_2HUC4"><!> <!></main>');function pt(t,e){var n=ai(),r=y(n);cn(r,e,"header",{});var a=x(r,2);cn(a,e,"default",{}),I(t,n)}const si=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Br(t){const e=t.getTimezoneOffset()*6e4,n=new Date(t.getTime()-e),r=n.getFullYear(),a=String(n.getUTCMonth()+1).padStart(2,"0"),s=String(n.getUTCDate()).padStart(2,"0"),o=String(n.getUTCHours()).padStart(2,"0"),c=String(n.getUTCMinutes()).padStart(2,"0");return`${r}-${a}-${s}T${o}:${c}`}function lr(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),o=String(r.getUTCDate()).padStart(2,"0"),c=String(r.getUTCHours()).padStart(2,"0"),l=String(r.getUTCMinutes()).padStart(2,"0");return`${a}-${s}-${o} ${c}:${l}`}function oi(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=r.getUTCFullYear(),s=String(r.getUTCMonth()+1).padStart(2,"0"),o=String(r.getUTCDate()).padStart(2,"0"),c=si[r.getUTCDay()];return`${a}-${s}-${o} ${c}`}function ii(t){const e=new Date(t),n=e.getTimezoneOffset()*6e4,r=new Date(e.getTime()-n),a=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0");return`${a}:${s}`}function An(t){return/^[1-9]\d*([.,](\d{1,2})?)?$/.test(t)}function Dn(t){if(/[.,]/.test(t)){let[e,n]=t.split(/[.,]/);return n.trim()===""?parseInt(e)*100:(n.length===1&&(n=n+"0"),parseInt(e+n))}else return parseInt(t)*100}function gt(t,e,n){t=Math.round(t);const r=t<0?Math.ceil(t/100):Math.floor(t/100),a=Math.abs(t%100);return(n&&t>0?"+":"")+`${e?ci(r):r}.${String(a).padStart(2,"0")}`}function ur(t,e){const n=Mn(gn),r=Mn(ye),a=n[t]?n[t]:1;return e===r?a:n[e]?a/n[e]:1}function ci(t,e=" "){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)}function li(t,e){return t.reduce((n,r)=>(r.currencyCode===e?n+=r.balance:n+=r.balance*ur(r.currencyCode,e),n),0)}function ui(t,e){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,a.click(),URL.revokeObjectURL(r)}function fi(t){const e=document.createElement("input");e.type="file",e.accept="application/json",e.multiple=!1,e.onchange=()=>{const n=e.files[0];if(n){const r=new FileReader;r.onload=function(){t(r.result)},r.readAsText(n)}},e.click()}function di(t){try{return JSON.parse(t)}catch{return console.warn("JSON parsing failed."),null}}async function vi(){const[t,e,n,r,a,s,o,c]=await Promise.all([bn(),yn(),ae(),wn(),O.getAll("transactions"),O.getAll("entries"),O.getAll("settings"),O.getAll("rates")]);return{ver:lr(Date.now()),currencies:t,accountGroups:e,accounts:n,categories:r,transactions:a,entries:s,settings:o,rates:c}}async function _i(t){if(!confirm("All the data will be overwritten. Are you sure you want to continue?"))return!1;if(pi(t)){const e=O.transaction(["currencies","accountGroups","accounts","categories","transactions","entries","settings","rates"],"readwrite");await Promise.all([e.objectStore("currencies").clear(),e.objectStore("accountGroups").clear(),e.objectStore("accounts").clear(),e.objectStore("categories").clear(),e.objectStore("transactions").clear(),e.objectStore("entries").clear(),e.objectStore("settings").clear(),e.objectStore("rates").clear()]);for(const n of t.currencies)await e.objectStore("currencies").put(n);for(const n of t.accountGroups)await e.objectStore("accountGroups").put(n);for(const n of t.accounts)await e.objectStore("accounts").put(n);for(const n of t.categories)await e.objectStore("categories").put(n);for(const n of t.transactions)await e.objectStore("transactions").put(n);for(const n of t.entries)await e.objectStore("entries").put(n);for(const n of t.settings)await e.objectStore("settings").put(n);for(const n of t.rates)await e.objectStore("rates").put(n);return await e.done,!0}else return alert("Invalid snapshot format."),!1}function pi(t){return!(!t.ver||!t.currencies||!t.accountGroups||!t.categories||!t.categories||!t.transactions||!t.entries)}function hi(t,e){if(t.classList.contains(e)){t.classList.remove(e),t.offsetWidth,t.classList.add(e);return}t.addEventListener("animationend",()=>{t.classList.remove(e)},{once:!0}),t.classList.add(e)}var gi=P('<div class="_2kBg8" data-role="account"><div class="_1gfEY"><span class="_3HVLl"> </span> <span> </span></div></div>');function mi(t,e){B(e,!1);let n=L(e,"account",8),r=L(e,"editing",8,!1);const a=ne();q();var s=gi(),o=y(s),c=y(o),l=y(c),u=x(c,2),f=y(u);T(()=>D(f,`${gt(n().balance,!0)??""} ${n().currencyCode??""}`)),T(()=>D(l,n().title)),V("click",s,()=>{r()||a("account",{id:n().id})}),I(t,s),F()}var yi=P('<div><div class="FmXIb"><span class="_2RwqA"> </span> <span> </span></div> <!></div>');function wi(t,e){B(e,!1);const n=W(),r=()=>H(it,"$accounts",n),a=k(),s=k();let o=L(e,"accountGroup",8);ft(()=>(r(),me(o())),()=>{S(a,r().filter(p=>p.groupId===o().id))}),ft(()=>(i(a),me(o())),()=>{S(s,li(i(a),o().currencyCode))}),Gt(),q();var c=yi(),l=y(c),u=y(l),f=y(u),v=x(u,2),d=y(v);T(()=>D(d,`${gt(i(s),!0)??""} ${o().currencyCode??""}`));var _=x(l,2);Q(_,1,()=>i(a),p=>p.id,(p,m)=>{mi(p,{get account(){return i(m)},$$events:{account:E=>{J(`/accounts/${E.detail.id}`)}}})}),T(()=>D(f,o().title)),I(t,c),F()}const bi=[{id:"groups",title:"Account Groups",to:"/groups"},{id:"category",title:"Categories",to:"/categories"},{id:"report",title:"Report",to:"/report"},{id:"currency",title:"Currencies",to:"/currencies"},{id:"rates",title:"Rates",to:"/rates"},{id:"backup",title:"Backup"},{id:"restore",title:"Restore"}];var $i=P('<!> <div class="_3c4Tf"><div>Total</div> <div class="_2wBv"> </div></div>',1);function Ei(t,e){B(e,!0);const n=W(),r=()=>H(it,"$accounts",n),a=()=>H(ye,"$baseCurrencyCode",n),s=()=>H(qt,"$accountGroups",n);let o=ge(()=>r().reduce((c,l)=>(l.currencyCode===a()?c+=l.balance:c+=l.balance*ur(l.currencyCode,a()),c),0));pt(t,{children:(c,l)=>{var u=$i(),f=Y(u);Q(f,1,s,Lt,(p,m)=>{wi(p,{get accountGroup(){return i(m)}})});var v=x(f,2),d=x(y(v),2),_=y(d);T(()=>D(_,`${gt(i(o),!0)??""}
      ${(a()||"")??""}`)),I(c,u)},$$slots:{default:!0,header:(c,l)=>{_t(c,{slot:"header",title:"Accounts",addPath:"/accounts/new",menuItems:bi,$$events:{menu:u=>{switch(u.detail.id){case"backup":vi().then(f=>{ui(f,`acc-${lr(Date.now())}.json`)});break;case"restore":fi(f=>{const v=di(f);v&&_i(v).then(d=>{d&&Ba()})});break}}}})}}}),F()}var Si=P('<div class="_3JK5K"> </div>');function Ii(t,e){B(e,!1);const n=W(),r=()=>H(qt,"$accountGroups",n);function a(s){s.target instanceof HTMLElement&&s.target.dataset.id&&J(`/groups/${s.target.dataset.id}`)}q(),pt(t,{children:(s,o)=>{var c=vt(),l=Y(c);Q(l,1,r,u=>u.id,(u,f)=>{var v=Si(),d=y(v);T(()=>{U(v,"data-id",i(f).id),D(d,i(f).title)}),V("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{_t(s,{slot:"header",title:"Account Groups",returnPath:"/",addPath:"/groups/new"})}}}),F()}var xi=P("} <option> </option>",1),Ci=P('<select class="_1kHx0" required><option disabled selected hidden> </option><!></select>');function $n(t,e){const n=W(),r=()=>H(re,"$currencies",n);let a=L(e,"currencyCode",12),s=L(e,"placeholder",8,"Currency");var o=Ci();T(()=>{a(),ar(()=>{s(),r()})});var c=y(o);c.value=((c.__value="")==null,"");var l=y(c),u=x(c);Q(u,1,r,({code:f,title:v})=>f,(f,v)=>{let d=()=>i(v).code,_=()=>i(v).title;var p=xi(),m=x(Y(p)),E={},$=y(m);T(()=>{E!==(E=d())&&(m.value=(m.__value=d())==null?"":d()),D($,`${d()??""}
      ${_()??""}`)}),I(f,p)}),T(()=>D(l,s())),or(o,a),I(t,o)}var ki=P('<form class="_3RSQr"><div><!></div> <div><input class="_3xyX_" type="text" placeholder="Title"></div> <div><button class="_2G9AC" type="submit"></button></div></form>');function Fr(t,e){B(e,!1);const n=W(),r=()=>H(qt,"$accountGroups",n);let a=L(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(d=>d.id===s):null,c=k(o?o.title:""),l=k(o?o.currencyCode:void 0),u=k(),f=k(!1);Ie(()=>{i(u).focus()});function v(){i(c).trim()&&i(l)?(S(f,!0),o?Do({...o,title:i(c).trim(),currencyCode:i(l)}).then(()=>{J("/groups")}).finally(()=>{S(f,!1)}):Ao(i(c),i(l)).then(()=>{J("/groups")}).finally(()=>{S(f,!1)})):alert("All fields must be specified.")}q(),pt(t,{children:(d,_)=>{var p=ki(),m=y(p),E=y(m);$n(E,{get currencyCode(){return i(l)},set currencyCode(g){S(l,g)},$$legacy:!0});var $=x(m,2),b=y($);bt(b,g=>S(u,g),()=>i(u));var w=x($,2),h=y(w);h.textContent=o?"Save":"Create",T(()=>{b.disabled=i(f),h.disabled=i(f)}),dt(b,()=>i(c),g=>S(c,g)),V("submit",p,Ht(v)),I(d,p)},$$slots:{default:!0,header:(d,_)=>{_t(d,{slot:"header",title:o?"Account Group":"New Account Group",returnPath:"/groups"})}}}),F()}var Ti=P("<option> </option>"),Pi=P('<select class="_2Ge4O" required><option class="placeholder" disabled selected hidden>Account Group</option><!></select>');function Ai(t,e){const n=W(),r=()=>H(qt,"$accountGroups",n);let a=L(e,"groupId",12);var s=Pi();T(()=>{a(),ar(()=>{r()})});var o=y(s);o.value=((o.__value="")==null,"");var c=x(o);Q(c,1,r,Lt,(l,u)=>{var f=Ti(),v={},d=y(f);T(()=>{v!==(v=i(u).id)&&(f.value=(f.__value=i(u).id)==null?"":i(u).id),D(d,i(u).title)}),I(l,f)}),or(s,a),I(t,s)}var Di=P('<form><div><!></div> <div><!></div> <div><input class="_3hIGg" type="text" placeholder="Title"></div> <div><button class="J-mxG" type="submit"> </button></div></form>');function Gr(t,e){B(e,!1);let n=L(e,"accountDoc",8,null),r=L(e,"class",8,void 0),a=n()||{},s=k(a.groupId),o=k(a.currencyCode),c=k(Qe(a.title,"")),l=k(!1),u=k();const f=ne();function v(){i(c).trim()&&i(s)&&i(o)?(S(l,!0),f("save",{groupId:i(s),currencyCode:i(o),title:i(c)})):alert("Must fill all fields.")}Ie(()=>{i(u)&&i(u).focus()}),q();var d=Di(),_=y(d),p=y(_);Ai(p,{get groupId(){return i(s)},set groupId(A){S(s,A)},$$legacy:!0});var m=x(_,2),E=y(m);$n(E,{get currencyCode(){return i(o)},set currencyCode(A){S(o,A)},$$legacy:!0});var $=x(m,2),b=y($);bt(b,A=>S(u,A),()=>i(u));var w=x($,2),h=y(w),g=y(h);T(()=>{xa(d,`_2Na6L ${r()??""}`),b.disabled=i(l),h.disabled=i(l),D(g,n()?"Save":"Create")}),dt(b,()=>i(c),A=>S(c,A)),V("submit",d,Ht(v)),I(t,d),F()}function Hr(t,e){B(e,!1);const n=W(),r=()=>H(it,"$accounts",n);let a=L(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(l=>l.id===s):null;function c(l){const{title:u,groupId:f,currencyCode:v}=l.detail;s?So({...o,title:u,groupId:f,currencyCode:v}).then(()=>{J("/")}):Lo(u,f,v).then(()=>{J("/")})}q(),pt(t,{children:(l,u)=>{var f=vt(),v=Y(f);nt(v,()=>s,d=>{Gr(d,{class:"_1tO9D",accountDoc:o,$$events:{save:c}})},d=>{Gr(d,{class:"_1tO9D",$$events:{save:c}})}),I(l,f)},$$slots:{default:!0,header:(l,u)=>{var f=Zt(()=>s?o==null?void 0:o.title:"New Account");_t(l,{slot:"header",get title(){return i(f)},returnPath:"/"})}}}),F()}var Li=P('<span class="_2DnNM"> </span>'),Oi=P('<div class="_3Z3tw"><div class="_3FVvR"><div class="_2IaRv"><span class="_28fbv"> </span> <!></div> <div class="_2jX25"> </div></div> <div class="USkeu"><div class="_1OdDn"> </div> <div class="ZtAai"> </div></div></div>');function Ri(t,e){B(e,!1);const n=W(),r=()=>H(Ot,"$categoires",n),a=k();let s=L(e,"entry",8);const o=ne();ft(()=>(me(s()),r()),()=>{S(a,s().categoryId?r().find(h=>h.id===s().categoryId):null)}),Gt(),q();var c=Oi(),l=y(c),u=y(l),f=y(u),v=y(f),d=x(f,2);nt(d,()=>i(a),h=>{var g=Li(),A=y(g);T(()=>D(A,`${i(a).title??""}${(i(a).subtitle?`:${i(a).subtitle}`:"")??""}`)),I(h,g)});var _=x(u,2),p=y(_);T(()=>D(p,gt(s().amount,!0,!0)));var m=x(l,2),E=y(m),$=y(E);T(()=>D($,ii(s().timestamp)));var b=x(E,2),w=y(b);T(()=>D(w,gt(s().total,!0))),T(()=>{U(c,"id",s().transactionId),Qt(c,"_3Jw2J",s().reconciled),D(v,s().comment),Qt(_,"NS-XR",s().amount>0)}),V("click",c,()=>{o("transaction",{id:s().transactionId})}),I(t,c),F()}let Ze=null;var Ni=P('<div class="_1kipO"><span class="ZZvPT"> </span> <span class="_3Hag4"> </span></div> <!>',1);function ji(t,e){B(e,!1);const n=W(),r=()=>H(it,"$accounts",n),a=k(),s=k();let o=L(e,"params",8);const{id:c}=o();let l=k({}),u=k();Ra(c).then(f=>{(f==null?void 0:f.length)>0&&S(u,f[0].timestamp),S(l,f.reduce((v,d)=>{const _=oi(d.timestamp);return v[_]?v[_].entries.push(d):v[_]={entries:[d],total:0},v},{}));for(const v of Object.values(i(l)))v.total=v.entries.reduce((d,_)=>(d+=_.amount,d),0);rr().then(()=>{var d;const v=Mn(Da);if((v==null?void 0:v.route)==="/accounts/:id/transactions/:tid"&&(Ze&&(document.documentElement.scrollTop=Ze),(d=v.params)!=null&&d.tid)){const _=document.getElementById(v.params.tid);_&&hi(_,"highlight-animation")}Ze=null})}),ft(()=>r(),()=>{S(a,r().find(f=>f.id===c))}),ft(()=>{},()=>{S(s,[{id:"edit",title:"Edit",to:`/accounts/${c}/edit`}])}),Gt(),q(),pt(t,{children:(f,v)=>{var d=vt(),_=Y(d);Q(_,1,()=>Object.keys(i(l)),Lt,(p,m)=>{var E=Ni(),$=Y(E),b=y($),w=y(b),h=x(b,2),g=y(h);T(()=>D(g,gt(i(l)[i(m)].total,!0,!0)));var A=x($,2);Q(A,1,()=>i(l)[i(m)].entries,C=>C.id,(C,R)=>{Ri(C,{get entry(){return i(R)},$$events:{transaction:Z=>{Ze=document.documentElement.scrollTop,J(`/accounts/${c}/transactions/${Z.detail.id}`)}}})}),T(()=>D(w,i(m))),I(p,E)}),I(f,d)},$$slots:{default:!0,header:(f,v)=>{var d=Zt(()=>i(a)?i(a).title:"Not Found"),_=Zt(()=>`/accounts/${c??""}/transactions/new${(i(u)?`?t=${i(u)}`:"")??""}`);_t(f,{slot:"header",get title(){return i(d)},returnPath:"/",get addPath(){return i(_)},get menuItems(){return i(s)}})}}}),F()}var Mi=P('<div class="_1Hdo"> </div>');function Bi(t,e){B(e,!1);const n=W(),r=()=>H(Ot,"$categoires",n);function a(s){if(s.target.dataset.id){const o=s.target.dataset.id;J(`/categories/${o}`)}}q(),pt(t,{children:(s,o)=>{var c=vt(),l=Y(c);Q(l,1,r,u=>u.id,(u,f)=>{var v=Mi(),d=y(v);T(()=>{U(v,"data-id",i(f).id),D(d,`${i(f).title??""}${(i(f).subtitle?`:${i(f).subtitle}`:"")??""}`)}),V("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{_t(s,{slot:"header",title:"Categories",returnPath:"/",addPath:"/categories/new"})}}}),F()}var Fi=P('<form class="_1JFP_"><div>Base currency: <!></div> <div><button class="_19-gA" type="submit">Save</button></div></form>');function Gi(t,e){var o;B(e,!1);const n=W();let a=k((o=H(Aa,"$settings",n).find(c=>c.name===un))==null?void 0:o.value);function s(){ja({name:un,value:i(a)}).then(()=>{J("/")})}q(),pt(t,{children:(c,l)=>{var u=Fi(),f=y(u),v=x(y(f));$n(v,{get currencyCode(){return i(a)},set currencyCode(d){S(a,d)},placeholder:"Base Currency",$$legacy:!0}),V("submit",u,Ht(s)),I(c,u)},$$slots:{default:!0,header:(c,l)=>{_t(c,{slot:"header",title:"Settings",returnPath:"/"})}}}),F()}var Hi=P('<div class="_3HmHC" data-role="item"><div class="_4jwya"> </div> <div class="_1GjZM"> </div></div>');function qi(t,e){B(e,!1);const n=W(),r=()=>H(re,"$currencies",n);function a(s){if(s.target instanceof HTMLElement){const o=s.target.closest('[data-role="item"]');o instanceof HTMLElement&&o.dataset.code&&J(`/currencies/${o.dataset.code}`)}}q(),pt(t,{children:(s,o)=>{var c=vt(),l=Y(c);Q(l,1,r,u=>u.code,(u,f)=>{var v=Hi(),d=y(v),_=y(d),p=x(d,2),m=y(p);T(()=>{U(v,"data-code",i(f).code),D(_,i(f).code),D(m,i(f).title)}),V("click",v,a),I(u,v)}),I(s,c)},$$slots:{default:!0,header:(s,o)=>{_t(s,{slot:"header",title:"Currencies",returnPath:"/",addPath:"/currencies/new"})}}}),F()}var Ui=P('<div><div> </div> <div class="gqdmv"><input class="_234LA" type="text"> <span> </span></div></div>'),Vi=P('<form class="_1SqME"><div>Base currency: <!></div> <!> <div><button class="_3vC8G" type="submit">Save</button></div></form>');function Yi(t,e){B(e,!1);const n=W(),r=()=>H(ye,"$baseCurrencyCode",n),a=()=>H(re,"$currencies",n),s=()=>H(gn,"$rates",n);let o=k(r()),c=k(a().reduce((d,{code:_})=>(d[_]=String(s()[_]||1),d),{}));function l(){const d=u();if(d){alert(d);return}const _=a().filter(({code:p})=>p!==i(o)).map(({code:p})=>({code:p,rate:v(i(c)[p])}));ja({name:un,value:i(o)}).then(()=>(Xs(ye,i(o)),Oo(_,i(o)))).then(()=>{J("/")})}function u(){for(const[d,_]of Object.entries(i(c)))if(!f(_)){const p=document.getElementById(d);return p&&p.focus(),`Invalid rate for ${d}`}return""}function f(d){return/^([1-9]\d*|[0])([.,]\d+)?$/.test(d)}function v(d){return parseFloat(d.replace(",","."))}return q(),pt(t,{children:(d,_)=>{var p=Vi(),m=y(p),E=x(y(m));$n(E,{get currencyCode(){return i(o)},set currencyCode(b){S(o,b)},placeholder:"Base Currency",$$legacy:!0});var $=x(m,2);Q($,1,a,Lt,(b,w)=>{let h=()=>i(w).code;var g=vt(),A=Y(g);nt(A,()=>h()!==i(o),C=>{var R=Ui(),Z=y(R),z=y(Z),K=x(Z,2),X=y(K);const at=Zt(()=>!f(i(c)[h()]));var ct=x(X,2),ht=y(ct);T(()=>{D(z,`${h()??""}:`),U(X,"id",h()),Qt(X,"_2j9gN",i(at)),D(ht,i(o))}),dt(X,()=>i(c)[h()],St=>an(c,i(c)[h()]=St)),I(C,R)}),I(b,g)}),V("submit",p,Ht(l)),I(d,p)},$$slots:{default:!0,header:(d,_)=>{_t(d,{slot:"header",title:"Rates",returnPath:"/"})}}}),Re(e,"validateRate",f),Re(e,"parseRate",v),F({validateRate:f,parseRate:v})}var Wi=P('<div class="_1rD4x"><span class="_31Wp_"> </span> <span> </span></div> <!>',1),zi=P("<div></div>");function Vn(t,e){B(e,!1);let n=L(e,"cat",8),r=L(e,"nested",8,!1),a=L(e,"ondocs",8,void 0);q();var s=zi();Q(s,5,()=>n().sorted,Lt,(o,c)=>{var l=Wi(),u=Y(l),f=y(u),v=y(f),d=x(f,2),_=y(d);T(()=>D(_,gt(i(c).total,!0)));var p=x(u,2);nt(p,()=>i(c).sorted,m=>{var E=vt(),$=Y(E);Vn($,{get cat(){return i(c)},nested:!0,get ondocs(){return a()}}),I(m,E)}),T(()=>{Qt(u,"_3eEr8",r()),D(v,i(c).title)}),V("click",u,()=>{var m;(m=a())==null||m(i(c).docs)}),I(o,l)}),I(t,s),F()}var Ki=P('<div class="_3fR1c"><span class="_1w7Yp">Income</span> <span> </span></div> <!>',1),Xi=P('<div class="_3fR1c"><span class="_1w7Yp">Expenses</span> <span> </span></div> <!>',1),Ji=P('<span class="_2udZu"> </span>'),Zi=P('<div class="_2p4A6"><div class="_2ugfg"><span class="comment"> </span> <span class="Cuy75"> </span> &nbsp; <span> </span></div> <div class="_2tCf7"><!> <span class="_1u25y"> </span></div></div>'),Qi=P('<div class="_2rfJl"><div class="_20g6"><div class="_3fR1c"><h2>Transactions</h2> <button class="_1vDoy">X</button></div> <!></div></div>'),tc=P('<div class="af3Ku"><input class="_35Y9x" type="month"></div> <!> <!> <!>',1);function ec(t,e){B(e,!1);const n=W(),r=()=>H(Ot,"$categoires",n),a=()=>H(it,"$accounts",n),s=()=>H(ye,"$baseCurrencyCode",n),o=new Date;let c=k(`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}`),l=k(null),u=k(null),f=k(null);const v=r().reduce((b,w)=>(b[w.id]=w,b),{}),d=a().reduce((b,w)=>(b[w.id]=w,b),{});function _(b){const[w,h]=b.split("-"),g=new Date(parseInt(w),parseInt(h)-1,1).getTime(),A=new Date(parseInt(w),parseInt(h),1).getTime();To(g,A).then(C=>{const R=C.filter(z=>z.kind===ot.Income),Z=C.filter(z=>z.kind===ot.Expense);S(l,p(R)),S(u,p(Z)),m(i(l)),m(i(u))})}function p(b){return b.reduce((w,h)=>{const g=v[h.categoryId];return g&&(w.cats[g.title]||(w.cats[g.title]={title:g.title,cats:{},docs:[],total:0}),w.cats[g.title].total+=$(h),w.cats[g.title].docs.push(h),g.subtitle&&(w.cats[g.title].cats[g.subtitle]||(w.cats[g.title].cats[g.subtitle]={title:g.subtitle,docs:[],total:0}),w.cats[g.title].cats[g.subtitle].total+=$(h),w.cats[g.title].cats[g.subtitle].docs.push(h))),w.total+=$(h),w},{cats:{},docs:[],total:0})}function m(b){b.cats&&(b.sorted=Object.values(b.cats).sort((w,h)=>h.total-w.total),b.sorted.forEach(w=>{w.cats&&m(w)}))}function E(b){S(f,b),document.documentElement.style.setProperty("overflow","hidden")}function $(b){const w=d[b.accountId];return w&&w.currencyCode!==s()?b.amount*ur(w.currencyCode,s()):b.amount}ft(()=>i(c),()=>{_(i(c))}),Gt(),q(),pt(t,{children:(b,w)=>{var h=tc(),g=Y(h),A=y(g),C=x(g,2);nt(C,()=>i(l),z=>{var K=Ki(),X=Y(K),at=x(y(X),2),ct=y(at);T(()=>D(ct,gt(i(l).total,!0)));var ht=x(X,2);Vn(ht,{get cat(){return i(l)},ondocs:E}),I(z,K)});var R=x(C,2);nt(R,()=>i(u),z=>{var K=Xi(),X=Y(K),at=x(y(X),2),ct=y(at);T(()=>D(ct,gt(i(u).total,!0)));var ht=x(X,2);Vn(ht,{get cat(){return i(u)},ondocs:E}),I(z,K)});var Z=x(R,2);nt(Z,()=>i(f),z=>{var K=Qi(),X=y(K),at=y(X),ct=x(y(at),2),ht=x(at,2);Q(ht,1,()=>i(f),Lt,(St,tt)=>{var Ut=Zi(),xe=y(Ut),qe=y(xe),Ue=y(qe),Ce=x(qe,2),ke=y(Ce);T(()=>D(ke,gt(i(tt).kind===ot.Expense?-i(tt).amount:i(tt).amount,!0,!0)));var En=x(Ce,2),Ve=y(En),Ye=x(xe,2),We=y(Ye);nt(We,()=>v[i(tt).categoryId],se=>{var Te=Ji(),In=y(Te);T(()=>D(In,`${v[i(tt).categoryId].title}${v[i(tt).categoryId].subtitle?`:${v[i(tt).categoryId].subtitle}`:""}`)),I(se,Te)});var ze=x(We,2),Sn=y(ze);T(()=>D(Sn,lr(i(tt).timestamp))),T(()=>{var se;D(Ue,i(tt).comment),D(Ve,(se=d[i(tt).accountId])==null?void 0:se.currencyCode)}),I(St,Ut)}),V("click",ct,St=>{S(f,null),document.documentElement.style.removeProperty("overflow")}),I(z,K)}),dt(A,()=>i(c),z=>S(c,z)),I(b,h)},$$slots:{default:!0,header:(b,w)=>{_t(b,{slot:"header",title:"Report",returnPath:"/"})}}}),F()}var nc=P('<form class="_2sHk9"><div class="_1F3oU"><input type="text" placeholder="Title"></div> <div class="_1F3oU"><input type="text" placeholder="Subtitle (optional)"></div> <div class="_1F3oU"><button type="submit"></button></div></form>');function qr(t,e){B(e,!1);const n=W(),r=()=>H(Ot,"$categoires",n);let a=L(e,"params",24,()=>({}));const{id:s}=a();let o=s?r().find(v=>v.id===s):null,c=k(o?o.title:""),l=k(o?o.subtitle:""),u=k();Ie(()=>{i(u)&&i(u).focus()});function f(){i(c).trim()?o?Ro({...o,title:i(c).trim(),subtitle:i(l).trim()}).then(()=>{J("/categories")}):Na(i(c).trim(),i(l).trim()).then(()=>{J("/categories")}):alert("The title must be specified.")}q(),pt(t,{children:(v,d)=>{var _=nc(),p=y(_),m=y(p);bt(m,h=>S(u,h),()=>i(u));var E=x(p,2),$=y(E),b=x(E,2),w=y(b);w.textContent=o?"Save":"Create",dt(m,()=>i(c),h=>S(c,h)),dt($,()=>i(l),h=>S(l,h)),V("submit",_,Ht(f)),I(v,_)},$$slots:{default:!0,header:(v,d)=>{_t(v,{slot:"header",title:o?"Category":"New Category",returnPath:"/categories"})}}}),F()}var rc=P('<form><div class="EbSwc"><input type="text" placeholder="Code"></div> <div class="EbSwc"><input type="text" placeholder="Title"></div> <div class="EbSwc"><button type="submit"></button></div></form>');function Ur(t,e){B(e,!1);const n=W(),r=()=>H(re,"$currencies",n);let a=L(e,"params",24,()=>({}));const{cid:s}=a();let o=s?r().find(d=>d.code===s):null,c=k(o?o.code:""),l=k(o?o.title:""),u=k(),f=k();function v(){i(c).trim()&&i(l).trim()?o?jo({...o,title:i(l).trim()}).then(()=>{J("/currencies")}):No(i(c).trim(),i(l).trim()).then(()=>{J("/currencies")}):alert("Code and title must be specified.")}Ie(()=>{o?i(f)&&i(f).focus():i(u)&&i(u).focus()}),q(),pt(t,{children:(d,_)=>{var p=rc(),m=y(p),E=y(m);E.disabled=o!==null,bt(E,g=>S(u,g),()=>i(u));var $=x(m,2),b=y($);bt(b,g=>S(f,g),()=>i(f));var w=x($,2),h=y(w);h.textContent=o?"Save":"Add",dt(E,()=>i(c),g=>S(c,g)),dt(b,()=>i(l),g=>S(l,g)),V("submit",p,Ht(v)),I(d,p)},$$slots:{default:!0,header:(d,_)=>{_t(d,{slot:"header",title:o?"Currency":"New Currency",returnPath:"/currencies"})}}}),F()}var ac=P("<option> </option>"),sc=P("<optgroup></optgroup>"),oc=P('<select class="_1vWtV" required><option disabled selected hidden> </option><!></select>');function ic(t,e){B(e,!1);const n=W(),r=()=>H(qt,"$accountGroups",n),a=()=>H(it,"$accounts",n),s=k();let o=L(e,"accountId",12),c=L(e,"placeholder",8,"Account");ft(()=>(r(),a()),()=>{S(s,r().reduce((d,_)=>{const p={title:_.title,accounts:a().filter(m=>m.groupId===_.id)};return d.push(p),d},[]))}),Gt(),q();var l=oc();T(()=>{o(),ar(()=>{c(),i(s)})});var u=y(l);u.value=((u.__value="")==null,"");var f=y(u),v=x(u);Q(v,1,()=>i(s),Lt,(d,_)=>{var p=sc();Q(p,5,()=>i(_).accounts,Lt,(m,E)=>{var $=ac(),b={},w=y($);T(()=>{b!==(b=i(E).id)&&($.value=($.__value=i(E).id)==null?"":i(E).id),D(w,i(E).title)}),I(m,$)}),T(()=>U(p,"label",i(_).title)),I(d,p)}),T(()=>D(f,c())),or(l,o),I(t,l),F()}var cc=P("<span> </span>"),lc=P('<div class="_2dieg"></div>');function uc(t,e){let n=L(e,"kind",12);function r(s){s.target instanceof HTMLSpanElement&&n(s.target.dataset.value)}var a=lc();Q(a,5,()=>bo,Lt,(s,o)=>{var c=cc(),l=y(c);T(()=>{U(c,"data-value",i(o).value),Qt(c,"_1zm3o",i(o).value===n()),D(l,i(o).title)}),V("pointerdown",c,r),I(s,c)}),I(t,a)}var fc=P('<input class="_1LWF4" type="text" placeholder="Category">'),dc=P("<li> </li>"),vc=P('<li class="_1FJls">Empty</li>'),_c=P('<ul class="_2VAoI" slot="content"></ul>');function pc(t,e){B(e,!1);const n=W(),r=()=>H(Ot,"$categoires",n);let a=L(e,"categoryId",12),s=k(),o=k();function c(_){return`${_.title}${_.subtitle?`:${_.subtitle}`:""}`}function l(){a(""),f("")}let u=a()?r().find(_=>_.id===a()):null,f=L(e,"value",28,()=>u?c(u):"");function v(_){if(_.target instanceof HTMLLIElement){a(_.target.dataset.id),i(s).close();const p=r().find(m=>m.id===a());p&&f(c(p))}}function d(){const _=r().find(p=>i(o).value.trim().toLocaleLowerCase()===c(p).toLocaleLowerCase());_?(a(_.id),an(o,i(o).value=c(_))):a("")}return q(),bt(Fa(t,{class:"_3pEZc",clickToggle:!0,children:(_,p)=>{var m=fc();bt(m,E=>S(o,E),()=>i(o)),dt(m,f),V("input",m,d),I(_,m)},$$slots:{default:!0,content:(_,p)=>{var m=_c();Q(m,5,()=>a()?r():r().filter($=>`${$.title}:${$.subtitle}`.toLowerCase().includes(f().trim().toLowerCase())),$=>$.id,($,b)=>{var w=dc(),h=y(w);T(()=>{U(w,"data-id",i(b).id),Qt(w,"_2P4tM",i(b).id===a()),D(h,`${i(b).title??""}${(i(b).subtitle?`:${i(b).subtitle}`:"")??""}`)}),I($,w)},$=>{var b=vc();I($,b)}),V("click",m,v),I(_,m)}},$$legacy:!0}),_=>S(s,_),()=>i(s)),Re(e,"clear",l),F({clear:l})}var hc=hn('<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"></path><path d="M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path></svg>');function gc(t,e){let n=L(e,"size",8,24);var r=hc();T(()=>{U(r,"width",n()),U(r,"height",n())}),I(t,r)}var mc=P('<div class="_3QCzM"><div><span data-key="1">1</span> <span data-key="2">2</span> <span data-key="3">3</span></div> <div><span data-key="4">4</span> <span data-key="5">5</span> <span data-key="6">6</span></div> <div><span data-key="7">7</span> <span data-key="8">8</span> <span data-key="9">9</span></div> <div><span data-key="&lt;"><!></span> <span data-key="0">0</span> <span data-key=".">.</span></div></div>');function yc(t,e){B(e,!1);let n=L(e,"onkey",8);function r(l){l.target instanceof HTMLSpanElement&&l.target.dataset.key&&n()(l.target.dataset.key)}q();var a=mc(),s=x(y(a),6),o=y(s),c=y(o);gc(c,{size:24}),V("pointerdown",a,Ht(function(l){jn.call(this,e,l)})),V("pointerup",a,r),I(t,a),F()}var wc=P('<div class="_1fJps"><!> <button class="_2s0aU" type="button">Clear</button></div>'),bc=P('<div> <input class="_3vVTM" type="text"></div>'),$c=P('<form class="_3MplV"><div><!></div> <div class="_12bGJ"><input class="_3vVTM" type="datetime-local"> <button class="_3SrK" type="button">Now</button></div> <div><!></div> <div> <input class="_3vVTM" type="text"></div> <!> <div><input class="_3vVTM" type="text" placeholder="Comment"></div> <div><label class="vaIrc"><input type="checkbox"> Reconciled</label></div> <!> <div><button class="_2GmYK _1KaG" type="submit"> </button></div></form>');function Vr(t,e){var fr,dr;B(e,!1);const n=W(),r=()=>H(it,"$accounts",n),a=()=>H(Ot,"$categoires",n),s=k(),o=k(),c=k(),l=k();let u=L(e,"accountId",8),f=L(e,"transactionDoc",8,null),v=L(e,"defaultTimestamp",8,null),d=k(),_=k(),p=k();Ie(()=>{i(_)});let m=f()||{},E=k(Qe(m.kind,()=>ot.Expense,!0)),$=k(m.categoryId),b=k(m.secondAccountId),w=k(Qe(m.comment,"")),h=k(Qe(m.reconciled,!1)),g=k(Br(new Date(((fr=f())==null?void 0:fr.timestamp)||v()||Date.now()))),A=k(f()?gt(f().amount):""),C=k((dr=f())!=null&&dr.secondAmount?gt(f().secondAmount):"");const R=ne();async function Z(){const j=z();if(j){alert(j);return}if(i(E)!==ot.Transfer&&!i($)&&i(p).trim()!==""){const[Rt,Vt=""]=i(p).trim().split(":");if(!a().find(Ke=>Ke.title===Rt&&Ke.subtitle===Vt)){const Ke=await Na(Rt,Vt);S($,Ke.id)}}const Pt=i(E)===ot.Transfer?{kind:i(E),timestamp:new Date(i(g)).getTime(),accountId:u(),secondAccountId:i(b),...i(l)?{secondAmount:Dn(i(C))}:{},amount:Dn(i(A)),comment:i(w).trim(),...i(h)?{reconciled:!0}:{}}:{kind:i(E),timestamp:new Date(i(g)).getTime(),accountId:u(),categoryId:i($)||void 0,amount:Dn(i(A)),comment:i(w).trim(),...i(h)?{reconciled:!0}:{}};R("save",{params:Pt})}function z(){if(!An(i(A)))return"Invalid amount";if(i(E)===ot.Transfer){if(!i(b))return"Must choose the second account";if(i(b)===u())return"Cannot transfer to the same account";if(i(l)&&!An(i(C)))return"Invalid second amount"}return""}function K(){i(d).clear()}function X(j){j==="<"?S(A,i(A).substring(0,i(A).length-1)):S(A,i(A)+j)}ft(()=>(r(),me(u())),()=>{S(s,r().find(j=>j.id===u()))}),ft(()=>i(s),()=>{var j;S(o,(j=i(s))==null?void 0:j.currencyCode)}),ft(()=>(i(b),r()),()=>{S(c,i(b)?r().find(j=>j.id===i(b)):null)}),ft(()=>(i(c),i(o)),()=>{S(l,i(c)&&i(o)?i(c).currencyCode!==i(o):!1)}),Gt(),q();var at=$c(),ct=y(at),ht=y(ct);uc(ht,{get kind(){return i(E)},set kind(j){S(E,j)},$$legacy:!0});var St=x(ct,2),tt=y(St),Ut=x(tt,2),xe=x(St,2),qe=y(xe);nt(qe,()=>i(E)===ot.Transfer,j=>{ic(j,{get accountId(){return i(b)},set accountId(Pt){S(b,Pt)},placeholder:"To",$$legacy:!0})},j=>{var Pt=wc(),Rt=y(Pt);bt(pc(Rt,{get categoryId(){return i($)},set categoryId(yt){S($,yt)},get value(){return i(p)},set value(yt){S(p,yt)},$$legacy:!0}),yt=>S(d,yt),()=>i(d));var Vt=x(Rt,2);T(()=>Vt.disabled=!i($)),V("click",Vt,Ks(K)),I(j,Pt)});var Ue=x(xe,2),Ce=y(Ue),ke=x(Ce);const En=Zt(()=>!An(i(A)));T(()=>Qt(ke,"_1lVDQ",i(En))),bt(ke,j=>S(_,j),()=>i(_));var Ve=x(Ue,2);nt(Ve,()=>i(l),j=>{var Pt=bc(),Rt=y(Pt),Vt=x(Rt);T(()=>{var yt;return D(Rt,`Amount, ${((yt=i(c))==null?void 0:yt.currencyCode)??""}: `)}),dt(Vt,()=>i(C),yt=>S(C,yt)),I(j,Pt)});var Ye=x(Ve,2),We=y(Ye),ze=x(Ye,2),Sn=y(ze),se=y(Sn),Te=x(ze,2);yc(Te,{onkey:X});var In=x(Te,2),Ga=y(In),Ha=y(Ga);T(()=>{var j;D(Ce,`Amount, ${((j=i(s))==null?void 0:j.currencyCode)??""}: `),D(Ha,f()?"Save":"Create")}),dt(tt,()=>i(g),j=>S(g,j)),V("click",Ut,()=>{S(g,Br(new Date))}),dt(ke,()=>i(A),j=>S(A,j)),dt(We,()=>i(w),j=>S(w,j)),Ys(se,()=>i(h),j=>S(h,j)),V("submit",at,Ht(Z)),I(t,at),F()}function Yr(t,e){B(e,!1);const n=W(),r=()=>H(it,"$accounts",n),a=k();let s=L(e,"params",8);const{id:o,tid:c}=s();let l=k();const u=c?null:_(),f=c?[{id:"delete",title:"Delete"}]:null;async function v(p){S(l,await Po(p))}function d(p){if(c){if(!i(l))return;xo(i(l),p.detail.params).then(()=>{J(`/accounts/${o}`)})}else Mo(p.detail.params).then(()=>{J(`/accounts/${o}`)})}function _(){const[p,m]=location.hash.split("?");if(!m)return null;if(m){const $=new URLSearchParams(m).get("t");if($)return parseInt($)||null}return null}ft(()=>r(),()=>{S(a,r().find(p=>p.id===o))}),Gt(),q(),pt(t,{children:(p,m)=>{var E=vt(),$=Y(E);nt($,()=>c,b=>{var w=vt(),h=Y(w);Ia(h,()=>v(c),null,g=>{Vr(g,{accountId:o,get transactionDoc(){return i(l)},$$events:{save:d}})}),I(b,w)},b=>{Vr(b,{accountId:o,defaultTimestamp:u,$$events:{save:d}})}),I(p,E)},$$slots:{default:!0,header:(p,m)=>{var E=Zt(()=>i(a)?`${i(a).title}: Transaction`:"Transaction");_t(p,{slot:"header",get title(){return i(E)},returnPath:`/accounts/${o}`,menuItems:f,$$events:{menu:$=>{switch($.detail.id){case"delete":if(!confirm("Delete transaction?"))return!1;c&&Io(c).then(()=>{J(`/accounts/${o}`)});break}}}})}}}),F()}var Ec=P("<div> </div>");function Sc(t,e){B(e,!1);let n=L(e,"params",24,()=>({}));q();var r=Ec(),a=y(r);T(()=>D(a,`Page Not Found: /${n().wild??""}`)),I(t,r),F()}const Ic={"/":Ei,"/groups":Ii,"/groups/new":Fr,"/groups/:id":Fr,"/accounts/new":Hr,"/accounts/:id/edit":Hr,"/accounts/:id":ji,"/accounts/:id/transactions/new":Yr,"/accounts/:id/transactions/:tid":Yr,"/categories":Bi,"/categories/new":qr,"/categories/:id":qr,"/currencies":qi,"/rates":Yi,"/report":ec,"/currencies/new":Ur,"/currencies/:cid":Ur,"/settings":Gi,"*":Sc};function xc(t,e){B(e,!1);let n=k(null);q();var r=vt(),a=Y(r);Ia(a,()=>Go,null,s=>{oo(s,{routes:Ic,$$events:{routeLoaded:o=>{Da.set(i(n)),S(n,{route:o.detail.route,params:o.detail.params})}}})}),I(t,r),F()}js(xc,{target:document.getElementById("app")});
